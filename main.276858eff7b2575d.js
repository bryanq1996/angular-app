"use strict";(self.webpackChunkcompras61=self.webpackChunkcompras61||[]).push([[179],{2011:(gt,Ae,F)=>{F.d(Ae,{Dh:()=>de,GT:()=>Ee,cc:()=>Le,on:()=>Oe,pX:()=>ce,xv:()=>ye});var d=F(4650),U=F(127);gt=F.hmd(gt);const N=["ngOnDestroy"],ce=(ae,he,Je,et={})=>new Proxy(ae,{get:(xe,De)=>Je.runOutsideAngular(()=>{var ge;if(ae[De])return!(null===(ge=et?.spy)||void 0===ge)&&ge.get&&et.spy.get(De,ae[De]),ae[De];if(N.indexOf(De)>-1)return()=>{};const Ve=he.toPromise().then(re=>{const se=re&&re[De];return"function"==typeof se?se.bind(re):se&&se.then?se.then(pe=>Je.run(()=>pe)):Je.run(()=>se)});return new Proxy(()=>{},{get:(re,se)=>Ve[se],apply:(re,se,pe)=>Ve.then(K=>{var Y;const le=K&&K(...pe);return!(null===(Y=et?.spy)||void 0===Y)&&Y.apply&&et.spy.apply(De,pe,le),le})})})}),Ee=(ae,he)=>{he.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(et=>{Object.defineProperty(ae.prototype,et,Object.getOwnPropertyDescriptor(Je.prototype||Je,et))})})};class we{constructor(he){return he}}const de=new d.OlP("angularfire2.app.options"),ye=new d.OlP("angularfire2.app.name");function Oe(ae,he,Je){const xe="object"==typeof Je&&Je||{};xe.name=xe.name||"string"==typeof Je&&Je||"[DEFAULT]";const ge=U.Z.apps.filter(Ve=>Ve&&Ve.name===xe.name)[0]||he.runOutsideAngular(()=>U.Z.initializeApp(ae,xe));try{JSON.stringify(ae)!==JSON.stringify(ge.options)&&G("error",`${ge.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(ge)}const G=(ae,...he)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ae](...he)};function Le(ae,he,Je,et,xe){const[,De,ge]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===ae)||[];if(De)return function Fe(ae,he){try{return ae.toString()===he.toString()}catch{return ae===he}}(xe,ge)||(We("error",`${he} was already initialized on the ${Je} Firebase App with different settings.${Ce?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:xe,was:ge})),De;{const Ve=et();return globalThis.\u0275AngularfireInstanceCache.push([ae,Ve,xe]),Ve}}const Ce=!!gt.hot,We=(ae,...he)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ae](...he)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8247:(gt,Ae,F)=>{F.d(Ae,{$:()=>za,A:()=>z,B:()=>Fe,G:()=>Ys,H:()=>ni,J:()=>Ki,L:()=>H,M:()=>Lf,N:()=>Vf,P:()=>pt,Q:()=>dd,R:()=>V_,T:()=>hd,U:()=>ro,V:()=>so,W:()=>f_,X:()=>A0,Y:()=>ja,Z:()=>Tt,_:()=>M0,a:()=>Is,a0:()=>v_,a1:()=>Wn,a2:()=>hc,a3:()=>_d,a4:()=>b_,a5:()=>x0,a6:()=>Vn,a7:()=>Vi,a8:()=>Wa,a9:()=>Ds,aA:()=>B,aB:()=>Ko,aC:()=>kc,aD:()=>ip,aE:()=>dt,aI:()=>$o,aL:()=>Uo,aa:()=>R0,ab:()=>vd,ac:()=>wd,af:()=>C_,ag:()=>D_,ah:()=>zf,ak:()=>Ua,al:()=>A_,an:()=>M_,ao:()=>Md,ap:()=>pe,aq:()=>Me,ar:()=>Ye,as:()=>et,at:()=>Ji,au:()=>Os,av:()=>Dt,aw:()=>xe,ax:()=>re,ay:()=>Yo,az:()=>Y,b:()=>lo,c:()=>U_,d:()=>j_,e:()=>H_,f:()=>sp,g:()=>op,h:()=>al,i:()=>Ic,j:()=>Pc,k:()=>li,l:()=>B_,m:()=>pp,n:()=>Jo,o:()=>ye,r:()=>Qi,s:()=>Un,u:()=>po});var d=F(5861),U=F(2090),N=F(9681),ce=F(1877),Ee=F(655),we=F(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),he=new ce.Yd("@firebase/auth");function Je(b,...g){he.logLevel<=ce.in.ERROR&&he.error(`Auth (${N.SDK_VERSION}): ${b}`,...g)}function et(b,...g){throw Ve(b,...g)}function xe(b,...g){return Ve(b,...g)}function De(b,g,_){const E=Object.assign(Object.assign({},Ce()),{[g]:_});return new U.LL("auth","Firebase",E).create(g,{appName:b.name})}function ge(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&et(b,"argument-error"),De(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(b,...g){if("string"!=typeof b){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return We.create(b,...g)}function re(b,g,..._){if(!b)throw Ve(g,..._)}function se(b){const g="INTERNAL ASSERTION FAILED: "+b;throw Je(g),new Error(g)}function pe(b,g){b||se(g)}const K=new Map;function Y(b){pe(b instanceof Function,"Expected a class definition");let g=K.get(b);return g?(pe(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,K.set(b,g),g)}function Re(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ke(){return"http:"===lt()||"https:"===lt()}function lt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class He{constructor(g,_){this.shortDelay=g,this.longDelay=_,pe(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ke()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sn(b,g){pe(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Rn{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qt=new He(3e4,6e4);function Bt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function kt(b,g,_,E){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(b,g,_,E,T={}){return Oi(b,T,(0,d.Z)(function*(){let k={},X={};E&&("GET"===g?X=E:k={body:JSON.stringify(E)});const me=(0,U.xO)(Object.assign({key:b.config.apiKey},X)).slice(1),ze=yield b._getAdditionalHeaders();return ze["Content-Type"]="application/json",b.languageCode&&(ze["X-Firebase-Locale"]=b.languageCode),Rn.fetch()(Wi(b,b.config.apiHost,_,me),Object.assign({method:g,headers:ze,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Oi(b,g,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(b,g,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},on),g);try{const T=new Tr(b),k=yield Promise.race([_(),T.promise]);T.clearNetworkTimeout();const X=yield k.json();if("needConfirmation"in X)throw Ar(b,"account-exists-with-different-credential",X);if(k.ok&&!("errorMessage"in X))return X;{const me=k.ok?X.errorMessage:X.error.message,[ze,ht]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw Ar(b,"credential-already-in-use",X);if("EMAIL_EXISTS"===ze)throw Ar(b,"email-already-in-use",X);if("USER_DISABLED"===ze)throw Ar(b,"user-disabled",X);const Ft=E[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw De(b,Ft,ht);et(b,Ft)}}catch(T){if(T instanceof U.ZR)throw T;et(b,"network-request-failed")}})).apply(this,arguments)}function Tn(b,g,_,E){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(b,g,_,E,T={}){const k=yield kt(b,g,_,E,T);return"mfaPendingCredential"in k&&et(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Wi(b,g,_,E){const T=`${g}${_}?${E}`;return b.config.emulator?sn(b.config,T):`${b.config.apiScheme}://${T}`}class Tr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(xe(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(b,g,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const T=xe(b,g,E);return T.customData._tokenResponse=_,T}function Ks(){return(Ks=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function qe(b,g){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zn(b,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function $r(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function bn(){return(bn=(0,d.Z)(function*(b,g=!1){const _=(0,U.m9)(b),E=yield _.getIdToken(g),T=ct(E);re(T&&T.exp&&T.auth_time&&T.iat,_.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,X=k?.sign_in_provider;return{claims:T,token:E,authTime:$r(un(T.auth_time)),issuedAtTime:$r(un(T.iat)),expirationTime:$r(un(T.exp)),signInProvider:X||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function un(b){return 1e3*Number(b)}function ct(b){var g;const[_,E,T]=b.split(".");if(void 0===_||void 0===E||void 0===T)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,U.tV)(E);return k?JSON.parse(k):(Je("Failed to decode base64 JWT payload"),null)}catch(k){return Je("Caught error parsing JWT payload as JSON",null===(g=k)||void 0===g?void 0:g.toString()),null}}function Mt(b,g){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof U.ZR&&tr(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function tr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Mr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,d.Z)(function*(){var _;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(_=E)||void 0===_?void 0:_.code)&&g.schedule(!0))}g.schedule()})()}}class Ct{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=$r(this.lastLoginAt),this.creationTime=$r(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(b){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(b){var g;const _=b.auth,E=yield b.getIdToken(),T=yield Mt(b,zn(_,{idToken:E}));re(T?.users.length,_,"internal-error");const k=T.users[0];b._notifyReloadListener(k);const X=null!==(g=k.providerUserInfo)&&void 0!==g&&g.length?Cn(k.providerUserInfo):[],me=cr(b.providerData,X),Ft=!!b.isAnonymous&&!(b.email&&k.passwordHash||me?.length),hn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:me,metadata:new Ct(k.createdAt,k.lastLoginAt),isAnonymous:Ft};Object.assign(b,hn)})).apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(b){const g=(0,U.m9)(b);yield xr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function cr(b,g){return[...b.filter(E=>!g.some(T=>T.providerId===E.providerId)),...g]}function Cn(b){return b.map(g=>{var{providerId:_}=g,E=(0,Ee._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ve(){return(ve=(0,d.Z)(function*(b,g){const _=yield Oi(b,{},(0,d.Z)(function*(){const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:T,apiKey:k}=b.config,X=Wi(b,T,"/v1/token",`key=${k}`),me=yield b._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(X,{method:"POST",headers:me,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){re(g.idToken,"internal-error"),re(typeof g.idToken<"u","internal-error"),re(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ut(b){const g=ct(b);return re(g,"internal-error"),re(typeof g.exp<"u","internal-error"),re(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,d.Z)(function*(){return re(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:X}=yield function Ge(b,g){return ve.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(T,k,Number(X))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:T,expirationTime:k}=_,X=new Ke;return E&&(re("string"==typeof E,"internal-error",{appName:g}),X.refreshToken=E),T&&(re("string"==typeof T,"internal-error",{appName:g}),X.accessToken=T),k&&(re("number"==typeof k,"internal-error",{appName:g}),X.expirationTime=k),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ke,this.toJSON())}_performRefresh(){return se("not implemented")}}function mt(b,g){re("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class vt{constructor(g){var{uid:_,auth:E,stsTokenManager:T}=g,k=(0,Ee._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ct(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const E=yield Mt(_,_.stsTokenManager.getToken(_.auth,g));return re(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function vn(b){return bn.apply(this,arguments)}(this,g)}reload(){return function Pi(b){return $t.apply(this,arguments)}(this)}_assign(g){this!==g&&(re(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new vt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,d.Z)(function*(){let T=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),T=!0),_&&(yield xr(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield Mt(g,function qi(b,g){return Ks.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,T,k,X,me,ze,ht,Ft;const hn=null!==(E=_.displayName)&&void 0!==E?E:void 0,es=null!==(T=_.email)&&void 0!==T?T:void 0,Hi=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,ea=null!==(X=_.photoURL)&&void 0!==X?X:void 0,hl=null!==(me=_.tenantId)&&void 0!==me?me:void 0,fl=null!==(ze=_._redirectEventId)&&void 0!==ze?ze:void 0,Hd=null!==(ht=_.createdAt)&&void 0!==ht?ht:void 0,q_=null!==(Ft=_.lastLoginAt)&&void 0!==Ft?Ft:void 0,{uid:vo,emailVerified:ta,isAnonymous:pl,providerData:na,stsTokenManager:gl}=_;re(vo&&gl,g,"internal-error");const jd=Ke.fromJSON(this.name,gl);re("string"==typeof vo,g,"internal-error"),mt(hn,g.name),mt(es,g.name),re("boolean"==typeof ta,g,"internal-error"),re("boolean"==typeof pl,g,"internal-error"),mt(Hi,g.name),mt(ea,g.name),mt(hl,g.name),mt(fl,g.name),mt(Hd,g.name),mt(q_,g.name);const K_=new vt({uid:vo,auth:g,email:es,emailVerified:ta,displayName:hn,isAnonymous:pl,photoURL:ea,phoneNumber:Hi,tenantId:hl,stsTokenManager:jd,createdAt:Hd,lastLoginAt:q_});return na&&Array.isArray(na)&&(K_.providerData=na.map(ra=>Object.assign({},ra))),fl&&(K_._redirectEventId=fl),K_}static _fromIdTokenResponse(g,_,E=!1){return(0,d.Z)(function*(){const T=new Ke;T.updateFromServerResponse(_);const k=new vt({uid:_.localId,auth:g,stsTokenManager:T,isAnonymous:E});return yield xr(k),k})()}}const H=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,E){var T=this;return(0,d.Z)(function*(){T.storage[_]=E})()}_get(_){var E=this;return(0,d.Z)(function*(){const T=E.storage[_];return void 0===T?null:T})()}_remove(_){var E=this;return(0,d.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function B(b,g,_){return`firebase:${b}:${g}:${_}`}class W{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:T,name:k}=this.auth;this.fullUserKey=B(this.userKey,T.apiKey,k),this.fullPersistenceKey=B("persistence",T.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?vt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,d.Z)(function*(){if(!_.length)return new W(Y(H),g,E);const T=(yield Promise.all(_.map(function(){var ht=(0,d.Z)(function*(Ft){if(yield Ft._isAvailable())return Ft});return function(Ft){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let k=T[0]||Y(H);const X=B(E,g.config.apiKey,g.name);let me=null;for(const ht of _)try{const Ft=yield ht._get(X);if(Ft){const hn=vt._fromJSON(g,Ft);ht!==k&&(me=hn),k=ht;break}}catch{}const ze=T.filter(ht=>ht._shouldAllowMigration);return k._shouldAllowMigration&&ze.length?(k=ze[0],me&&(yield k._set(X,me.toJSON())),yield Promise.all(_.map(function(){var ht=(0,d.Z)(function*(Ft){if(Ft!==k)try{yield Ft._remove(X)}catch{}});return function(Ft){return ht.apply(this,arguments)}}())),new W(k,g,E)):new W(k,g,E)})()}}function V(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Se(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(x(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(tt(g))return"Blackberry";if(_e(g))return"Webos";if(P(g))return"Safari";if((g.includes("chrome/")||ee(g))&&!g.includes("edge/"))return"Chrome";if(Ye(g))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function x(b=(0,U.z$)()){return/firefox\//i.test(b)}function P(b=(0,U.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ee(b=(0,U.z$)()){return/crios\//i.test(b)}function Se(b=(0,U.z$)()){return/iemobile/i.test(b)}function Ye(b=(0,U.z$)()){return/android/i.test(b)}function tt(b=(0,U.z$)()){return/blackberry/i.test(b)}function _e(b=(0,U.z$)()){return/webos/i.test(b)}function Me(b=(0,U.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Dt(b=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function nn(b=(0,U.z$)()){return Me(b)||Ye(b)||_e(b)||tt(b)||/windows phone/i.test(b)||Se(b)}function fn(b,g=[]){let _;switch(b){case"Browser":_=V((0,U.z$)());break;case"Worker":_=`${V((0,U.z$)())}-${b}`;break;default:_=b}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.SDK_VERSION}/${E}`}class ka{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=k=>new Promise((X,me)=>{try{X(g(k))}catch(ze){me(ze)}});E.onAbort=_,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){var E;if(_.auth.currentUser===g)return;const T=[];try{for(const k of _.queue)yield k(g),k.onAbort&&T.push(k.onAbort)}catch(k){T.reverse();for(const X of T)try{X()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=k)||void 0===E?void 0:E.message})}})()}}class Oa{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zs(this),this.idTokenSubscription=new Zs(this),this.beforeStateQueue=new ka(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=Y(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,k;if(!E._deleted&&(E.persistenceManager=yield W.create(E,g),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var E;const T=yield _.assertedPersistence.getCurrentUser();let k=T,X=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const me=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,ze=k?._redirectEventId,ht=yield _.tryRedirectSignIn(g);(!me||me===ze)&&ht?.user&&(k=ht.user,X=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(X)try{yield _.beforeStateQueue.runMiddleware(k)}catch(me){k=T,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(me))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){var E;try{yield xr(g)}catch(T){if("auth/network-request-failed"!==(null===(E=T)||void 0===E?void 0:E.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Vt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const E=g?(0,U.m9)(g):null;return E&&re(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return g&&re(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Y(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new U.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,d.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(_);return null===g?T.removeCurrentUser():T.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&Y(g)||_._popupRedirectResolver;re(E,_,"argument-error"),_.redirectPersistenceManager=yield W.create(_,[Y(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var E,T;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,T){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return re(X,this,"internal-error"),X.then(()=>k(this.currentUser)),"function"==typeof _?g.addObserver(_,E,T):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const T=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function dt(b){return(0,U.m9)(b)}class Zs{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,U.ne)(_=>this.observer=_)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ys(b,g,_){const E=dt(b);re(E._canInitEmulator,E,"emulator-config-failed"),re(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const T=!!_?.disableWarnings,k=sc(g),{host:X,port:me}=function Qs(b){const g=sc(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const k=T[1];return{host:k,port:Ln(E.substr(k.length+1))}}{const[k,X]=E.split(":");return{host:k,port:Ln(X)}}}(g);E.config.emulator={url:`${k}//${X}${null===me?"":`:${me}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:me,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Xs(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function sc(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Ln(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class ni{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return se("not implemented")}_getIdTokenResponse(g){return se("not implemented")}_linkToIdToken(g,_){return se("not implemented")}_getReauthenticationResolver(g){return se("not implemented")}}function ri(b,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:resetPassword",Bt(b,g))})).apply(this,arguments)}function ld(b,g){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function d_(b,g){return oc.apply(this,arguments)}function oc(){return(oc=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:update",Bt(b,g))})).apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signInWithPassword",Bt(b,g))})).apply(this,arguments)}function bs(b,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:sendOobCode",Bt(b,g))})).apply(this,arguments)}function to(b,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,d.Z)(function*(b,g){return bs(b,g)})).apply(this,arguments)}function h_(b,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(b,g){return bs(b,g)})).apply(this,arguments)}function Gr(b,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(b,g){return bs(b,g)})).apply(this,arguments)}function Fa(b,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,d.Z)(function*(b,g){return bs(b,g)})).apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signInWithEmailLink",Bt(b,g))})).apply(this,arguments)}function cd(){return(cd=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signInWithEmailLink",Bt(b,g))})).apply(this,arguments)}class La extends ni{constructor(g,_,E,T=null){super("password",E),this._email=g,this._password=_,this._tenantId=T}static _fromEmailAndPassword(g,_){return new La(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new La(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){switch(_.signInMethod){case"password":return function Pa(b,g){return Na.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Fi(b,g){return ac.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:et(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return ld(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function w0(b,g){return cd.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:et(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function no(b,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signInWithIdp",Bt(b,g))})).apply(this,arguments)}class Ki extends ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ki(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):et("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:T}=_,k=(0,Ee._T)(_,["providerId","signInMethod"]);if(!E||!T)return null;const X=new Ki(E,T);return X.idToken=k.idToken||void 0,X.accessToken=k.accessToken||void 0,X.secret=k.secret,X.nonce=k.nonce,X.pendingToken=k.pendingToken||null,X}_getIdTokenResponse(g){return no(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,no(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,no(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,U.xO)(_)}return g}}function C0(b,g){return kf.apply(this,arguments)}function kf(){return(kf=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:sendVerificationCode",Bt(b,g))})).apply(this,arguments)}function Of(){return(Of=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signInWithPhoneNumber",Bt(b,g))})).apply(this,arguments)}function Pf(){return(Pf=(0,d.Z)(function*(b,g){const _=yield Tn(b,"POST","/v1/accounts:signInWithPhoneNumber",Bt(b,g));if(_.temporaryProof)throw Ar(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const S0={USER_NOT_FOUND:"user-not-found"};function Nf(){return(Nf=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signInWithPhoneNumber",Bt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),S0)})).apply(this,arguments)}class Vo extends ni{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Vo({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Vo({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function D0(b,g){return Of.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function I0(b,g){return Pf.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function T0(b,g){return Nf.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:T}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:T}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:T,temporaryProof:k}=g;return E||_||T||k?new Vo({verificationId:_,verificationCode:E,phoneNumber:T,temporaryProof:k}):null}}class lc{constructor(g){var _,E,T,k,X,me;const ze=(0,U.zd)((0,U.pd)(g)),ht=null!==(_=ze.apiKey)&&void 0!==_?_:null,Ft=null!==(E=ze.oobCode)&&void 0!==E?E:null,hn=function Ff(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ze.mode)&&void 0!==T?T:null);re(ht&&Ft&&hn,"argument-error"),this.apiKey=ht,this.operation=hn,this.code=Ft,this.continueUrl=null!==(k=ze.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(X=ze.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(me=ze.tenantId)&&void 0!==me?me:null}static parseLink(g){const _=function ud(b){const g=(0,U.zd)((0,U.pd)(b)).link,_=g?(0,U.zd)((0,U.pd)(g)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(b)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||_||g||b}(g);try{return new lc(_)}catch{return null}}}let Lf=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return La._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const T=lc.parseLink(E);return re(T,"argument-error"),La._fromEmailAndCode(_,T.code,T.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ur{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Bo extends ur{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ro extends Bo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return re("providerId"in _&&"signInMethod"in _,"argument-error"),Ki._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return re(g.idToken||g.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ro.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ro.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:k,nonce:X,providerId:me}=g;if(!E&&!T&&!_&&!k||!me)return null;try{return new ro(me)._credential({idToken:_,accessToken:E,nonce:X,pendingToken:k})}catch{return null}}}let Vf=(()=>{class b extends Bo{constructor(){super("facebook.com")}static credential(_){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),dd=(()=>{class b extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:T}=_;if(!E&&!T)return null;try{return b.credential(E,T)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),hd=(()=>{class b extends Bo{constructor(){super("github.com")}static credential(_){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Uo extends ni{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return no(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,no(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,no(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:T,pendingToken:k}=_;return E&&T&&k&&E===T?new Uo(E,k):null}static _create(g,_){return new Uo(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class so extends ur{constructor(g){re(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return so.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return so.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Uo.fromJSON(g);return re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return Uo._create(E,_)}catch{return null}}}let f_=(()=>{class b extends Bo{constructor(){super("twitter.com")}static credential(_,E){return Ki._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=_;if(!E||!T)return null;try{return b.credential(E,T)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Wr(b,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signUp",Bt(b,g))})).apply(this,arguments)}class si{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,T=!1){return(0,d.Z)(function*(){const k=yield vt._fromIdTokenResponse(g,E,T),X=Ba(E);return new si({user:k,providerId:X,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const T=Ba(E);return new si({user:g,providerId:T,_tokenResponse:E,operationType:_})})()}}function Ba(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function A0(b){return p_.apply(this,arguments)}function p_(){return(p_=(0,d.Z)(function*(b){var g;const _=dt(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new si({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Wr(_,{returnSecureToken:!0}),T=yield si._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(T.user),T})).apply(this,arguments)}class Dn extends U.ZR{constructor(g,_,E,T){var k;super(_.code,_.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Dn.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,T){return new Dn(g,_,E,T)}}function Uf(b,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Dn._fromErrorAndOperation(b,k,g,E):k})}function g_(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Ua(b,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(b,g){const _=(0,U.m9)(b);yield Es(!0,_,g);const{providerUserInfo:E}=yield qe(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),T=g_(E||[]);return _.providerData=_.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Hf(b,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,d.Z)(function*(b,g,_=!1){const E=yield Mt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return si._forOperation(b,"link",E)})).apply(this,arguments)}function Es(b,g,_){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(b,g,_){yield xr(g);const T=!1===b?"provider-already-linked":"no-such-provider";re(g_(g.providerData).has(_)===b,g.auth,T)})).apply(this,arguments)}function m_(b,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(b,g,_=!1){var E;const{auth:T}=b,k="reauthenticate";try{const X=yield Mt(b,Uf(T,k,g,b),_);re(X.idToken,T,"internal-error");const me=ct(X.idToken);re(me,T,"internal-error");const{sub:ze}=me;return re(b.uid===ze,T,"user-mismatch"),si._forOperation(b,k,X)}catch(X){throw"auth/user-not-found"===(null===(E=X)||void 0===E?void 0:E.code)&&et(T,"user-mismatch"),X}})).apply(this,arguments)}function __(b,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.Z)(function*(b,g,_=!1){const E="signIn",T=yield Uf(b,E,g),k=yield si._fromIdTokenResponse(b,E,T);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ja(b,g){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(b,g){return __(dt(b),g)})).apply(this,arguments)}function Tt(b,g){return fd.apply(this,arguments)}function fd(){return(fd=(0,d.Z)(function*(b,g){const _=(0,U.m9)(b);return yield Es(!1,_,g.providerId),Hf(_,g)})).apply(this,arguments)}function M0(b,g){return pd.apply(this,arguments)}function pd(){return(pd=(0,d.Z)(function*(b,g){return m_((0,U.m9)(b),g)})).apply(this,arguments)}function y_(b,g){return gd.apply(this,arguments)}function gd(){return(gd=(0,d.Z)(function*(b,g){return Tn(b,"POST","/v1/accounts:signInWithCustomToken",Bt(b,g))})).apply(this,arguments)}function za(b,g){return md.apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(b,g){const _=dt(b),E=yield y_(_,{token:g,returnSecureToken:!0}),T=yield si._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(T.user),T})).apply(this,arguments)}class cc{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Ie._fromServerResponse(g,_):et(g,"internal-error")}}class Ie extends cc{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Ie(_)}}function Ht(b,g,_){var E;re((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),re(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(re(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(re(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function v_(b,g,_){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b),T={requestType:"PASSWORD_RESET",email:g};_&&Ht(E,T,_),yield h_(E,T)})).apply(this,arguments)}function Wn(b,g,_){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(b,g,_){yield ri((0,U.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function hc(b,g){return oi.apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(b,g){yield d_((0,U.m9)(b),{oobCode:g})})).apply(this,arguments)}function _d(b,g){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(b,g){const _=(0,U.m9)(b),E=yield ri(_,{oobCode:g}),T=E.requestType;switch(re(T,_,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(E.mfaInfo,_,"internal-error");default:re(E.email,_,"internal-error")}let k=null;return E.mfaInfo&&(k=cc._fromServerResponse(dt(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function b_(b,g){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(b,g){const{data:_}=yield _d((0,U.m9)(b),g);return _.email})).apply(this,arguments)}function x0(b,g,_){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(b,g,_){const E=dt(b),T=yield Wr(E,{returnSecureToken:!0,email:g,password:_}),k=yield si._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function Vn(b,g,_){return ja((0,U.m9)(b),Lf.credential(g,_))}function Vi(b,g,_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b),T={requestType:"EMAIL_SIGNIN",email:g};re(_.handleCodeInApp,E,"argument-error"),_&&Ht(E,T,_),yield Gr(E,T)})).apply(this,arguments)}function Wa(b,g){return"EMAIL_SIGNIN"===lc.parseLink(g)?.operation}function Ds(b,g,_){return jf.apply(this,arguments)}function jf(){return(jf=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b),T=Lf.credentialWithLink(g,_||Re());return re(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),ja(E,T)})).apply(this,arguments)}function w_(b,g){return $f.apply(this,arguments)}function $f(){return($f=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:createAuthUri",Bt(b,g))})).apply(this,arguments)}function R0(b,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,d.Z)(function*(b,g){const E={identifier:g,continueUri:ke()?Re():"http://localhost"},{signinMethods:T}=yield w_((0,U.m9)(b),E);return T||[]})).apply(this,arguments)}function vd(b,g){return bd.apply(this,arguments)}function bd(){return(bd=(0,d.Z)(function*(b,g){const _=(0,U.m9)(b),T={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Ht(_.auth,T,g);const{email:k}=yield to(_.auth,T);k!==b.email&&(yield b.reload())})).apply(this,arguments)}function wd(b,g,_){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Ht(E.auth,k,_);const{email:X}=yield Fa(E.auth,k);X!==b.email&&(yield b.reload())})).apply(this,arguments)}function E_(b,g){return gc.apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(b,g){return kt(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function C_(b,g){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,d.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,U.m9)(b),k={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},X=yield Mt(E,E_(E.auth,k));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const me=E.providerData.find(({providerId:ze})=>"password"===ze);me&&(me.displayName=E.displayName,me.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function D_(b,g){return jo((0,U.m9)(b),g,null)}function zf(b,g){return jo((0,U.m9)(b),null,g)}function jo(b,g,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(b,g,_){const{auth:E}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(k.email=g),_&&(k.password=_);const X=yield Mt(b,ld(E,k));yield b._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class wn{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class Zi extends wn{constructor(g,_,E,T){super(g,_,E),this.username=T}}class gn extends wn{constructor(g,_){super(g,"facebook.com",_)}}class Gf extends Zi{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class S_ extends wn{constructor(g,_){super(g,"google.com",_)}}class T_ extends Zi{constructor(g,_,E){super(g,"twitter.com",_,E)}}function A_(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function I_(b){var g,_;if(!b)return null;const{providerId:E}=b,T=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const X=null===(_=null===(g=ct(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new wn(k,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new gn(k,T);case"github.com":return new Gf(k,T);case"google.com":return new S_(k,T);case"twitter.com":return new T_(k,T,b.screenName||null);case"custom":case"anonymous":return new wn(k,null);default:return new wn(k,E,T)}}(_)}class ai{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new ai("enroll",g,_)}static _fromMfaPendingCredential(g){return new ai("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ai._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return ai._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Td{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=dt(g),T=_.customData._serverResponse,k=(T.mfaInfo||[]).map(me=>cc._fromServerResponse(E,me));re(T.mfaPendingCredential,E,"internal-error");const X=ai._fromMfaPendingCredential(T.mfaPendingCredential);return new Td(X,k,function(){var me=(0,d.Z)(function*(ze){const ht=yield ze._process(E,X);delete T.mfaInfo,delete T.mfaPendingCredential;const Ft=Object.assign(Object.assign({},T),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(_.operationType){case"signIn":const hn=yield si._fromIdTokenResponse(E,_.operationType,Ft);return yield E._updateCurrentUser(hn.user),hn;case"reauthenticate":return re(_.user,E,"internal-error"),si._forOperation(_.user,_.operationType,Ft);default:et(E,"internal-error")}});return function(ze){return me.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}function M_(b,g){var _;const E=(0,U.m9)(b),T=g;return re(g.customData.operationType,E,"argument-error"),re(null===(_=T.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Td._fromError(E,T)}function Ka(b,g){return kt(b,"POST","/v2/accounts/mfaEnrollment:start",Bt(b,g))}class vc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>cc._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new vc(g)}getSession(){var g=this;return(0,d.Z)(function*(){return ai._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,d.Z)(function*(){const T=g,k=yield E.getSession(),X=yield Mt(E.user,T._process(E.user.auth,k,_));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){var E;const T="string"==typeof g?g:g.uid,k=yield _.user.getIdToken(),X=yield Mt(_.user,function yc(b,g){return kt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(b,g))}(_.user.auth,{idToken:k,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:me})=>me!==T),yield _.user._updateTokensIfNecessary(X);try{yield _.user.reload()}catch(me){if("auth/user-token-expired"!==(null===(E=me)||void 0===E?void 0:E.code))throw me}})()}}const x_=new WeakMap;function Md(b){const g=(0,U.m9)(b);return x_.has(g)||x_.set(g,vc._fromUser(g)),x_.get(g)}const Yi="__sak";class xd{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Yi,"1"),this.storage.removeItem(Yi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const lo=(()=>{class b extends xd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rd(){const b=(0,U.z$)();return P(b)||Me(b)}()&&function Ni(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),k=this.localCache[E];T!==k&&_(E,k,T)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((me,ze,ht)=>{this.notifyListeners(me,ht)});const T=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(T);if(_.newValue!==me)null!==_.newValue?this.storage.setItem(T,_.newValue):this.storage.removeItem(T);else if(this.localCache[T]===_.newValue&&!E)return}const k=()=>{const me=this.storage.getItem(T);!E&&this.localCache[T]===me||this.notifyListeners(T,me)},X=this.storage.getItem(T);!function Ot(){return(0,U.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,E){this.localCache[_]=E;const T=this.listeners[_];if(T)for(const k of Array.from(T))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var T=()=>super._set,k=this;return(0,d.Z)(function*(){yield T().call(k,_,E),k.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,T=this;return(0,d.Z)(function*(){const k=yield E().call(T,_);return T.localCache[_]=JSON.stringify(k),k})()}_remove(_){var E=()=>super._remove,T=this;return(0,d.Z)(function*(){yield E().call(T,_),delete T.localCache[_]})()}}return b.type="LOCAL",b})(),Is=(()=>{class b extends xd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let bc=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(k=>k.isListeningto(_));if(E)return E;const T=new b(_);return this.receivers.push(T),T}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,d.Z)(function*(){const T=_,{eventId:k,eventType:X,data:me}=T.data,ze=E.handlersMap[X];if(!ze?.size)return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:X});const ht=Array.from(ze).map(function(){var hn=(0,d.Z)(function*(es){return es(T.origin,me)});return function(es){return hn.apply(this,arguments)}}()),Ft=yield function kd(b){return Promise.all(b.map(function(){var g=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(ht);T.ports[0].postMessage({status:"done",eventId:k,eventType:X,response:Ft})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function $o(b="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return b+_}class O_{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var T=this;return(0,d.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let X,me;return new Promise((ze,ht)=>{const Ft=$o("",20);k.port1.start();const hn=setTimeout(()=>{ht(new Error("unsupported_event"))},E);me={messageChannel:k,onMessage(es){const Hi=es;if(Hi.data.eventId===Ft)switch(Hi.data.status){case"ack":clearTimeout(hn),X=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),ze(Hi.data.response);break;default:clearTimeout(hn),clearTimeout(X),ht(new Error("invalid_response"))}}},T.handlers.add(me),k.port1.addEventListener("message",me.onMessage),T.target.postMessage({eventType:g,eventId:Ft,data:_},[k.port2])}).finally(()=>{me&&T.removeMessageHandler(me)})})()}}function Bn(){return window}function mi(){return typeof Bn().WorkerGlobalScope<"u"&&"function"==typeof Bn().importScripts}function co(){return(co=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ya="firebaseLocalStorageDb",Xa="firebaseLocalStorage",Ec="fbase_key";class uo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Cc(b,g){return b.transaction([Xa],g?"readwrite":"readonly").objectStore(Xa)}function Yf(){const b=indexedDB.open(Ya,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(Xa,{keyPath:Ec})}catch(T){_(T)}}),b.addEventListener("success",(0,d.Z)(function*(){const E=b.result;E.objectStoreNames.contains(Xa)?g(E):(E.close(),yield function Zf(){const b=indexedDB.deleteDatabase(Ya);return new uo(b).toPromise()}(),g(yield Yf()))}))})}function Ja(b,g,_){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(b,g,_){const E=Cc(b,!0).put({[Ec]:g,value:_});return new uo(E).toPromise()})).apply(this,arguments)}function Dc(){return(Dc=(0,d.Z)(function*(b,g){const _=Cc(b,!1).get(g),E=yield new uo(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Qf(b,g){const _=Cc(b,!0).delete(g);return new uo(_).toPromise()}const Ic=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield Yf()),_.db})()}_withRetries(_){var E=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const k=yield E._openDb();return yield _(k)}catch(k){if(T++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return mi()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=bc._getInstance(function wc(){return mi()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(T,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(T,k){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var E,T;if(_.activeServiceWorker=yield function P_(){return co.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new O_(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(E=k[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Od(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Yf();return yield Ja(_,Yi,"1"),yield Qf(_,Yi),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(k=>Ja(k,_,E)),T.localCache[_]=E,T.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,d.Z)(function*(){const T=yield E._withRetries(k=>function N_(b,g){return Dc.apply(this,arguments)}(k,_));return E.localCache[_]=T,T})()}_remove(_){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(T=>Qf(T,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const E=yield _._withRetries(X=>{const me=Cc(X,!1).getAll();return new uo(me).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:X,value:me}of E)k.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(me)&&(_.notifyListeners(X,me),T.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!k.has(X)&&(_.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(_,E){this.localCache[_]=E;const T=this.listeners[_];if(T)for(const k of Array.from(T))k(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function F_(b,g){return kt(b,"POST","/v2/accounts/mfaSignIn:start",Bt(b,g))}function ho(){return(ho=(0,d.Z)(function*(b){return(yield kt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zo(b){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=g,E.onerror=T=>{const k=xe("internal-error");k.customData=T,_(k)},E.type="text/javascript",E.charset="UTF-8",function tl(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(E)})}function Pd(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ep=1e12;class k0{constructor(g){this.auth=g,this.counter=ep,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new dn(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||ep;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||ep))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var E;return null===(E=_._widgets.get(g||ep))||void 0===E||E.execute(),""})()}}class dn{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof g?document.getElementById(g):g;re(T,"argument-error",{appName:_}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function O0(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const L_=Pd("rcb"),YS=new He(3e4,6e4);class XS{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Bn().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return re(function JS(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Bn().grecaptcha):new Promise((E,T)=>{const k=Bn().setTimeout(()=>{T(xe(g,"network-request-failed"))},YS.get());Bn()[L_]=()=>{Bn().clearTimeout(k),delete Bn()[L_];const me=Bn().grecaptcha;if(!me)return void T(xe(g,"internal-error"));const ze=me.render;me.render=(ht,Ft)=>{const hn=ze(ht,Ft);return this.counter++,hn},this.hostLanguage=_,E(me)},zo(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:L_,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),T(xe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Bn().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class eT{load(g){return(0,d.Z)(function*(){return new k0(g)})()}clearedOneInstance(){}}const As="recaptcha",P0={theme:"light",type:"image"};class V_{constructor(g,_=Object.assign({},P0),E){this.parameters=_,this.type=As,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dt(E),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof g?document.getElementById(g):g;re(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eT:new XS,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(k=>{const X=me=>{!me||(g.tokenChangeListeners.delete(X),k(me))};g.tokenChangeListeners.add(X),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=Bn()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){re(ke()&&!mi(),g.auth,"internal-error"),yield function qn(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Tc(b){return ho.apply(this,arguments)}(g.auth);re(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qt{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Vo._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Un(b,g,_){return tp.apply(this,arguments)}function tp(){return(tp=(0,d.Z)(function*(b,g,_){const E=dt(b),T=yield fo(E,g,(0,U.m9)(_));return new Qt(T,k=>ja(E,k))})).apply(this,arguments)}function B_(b,g,_){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b);yield Es(!1,E,"phone");const T=yield fo(E.auth,g,(0,U.m9)(_));return new Qt(T,k=>Tt(E,k))})).apply(this,arguments)}function Qi(b,g,_){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b),T=yield fo(E.auth,g,(0,U.m9)(_));return new Qt(T,k=>M0(E,k))})).apply(this,arguments)}function fo(b,g,_){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(b,g,_){var E;const T=yield _.verify();try{let k;if(re("string"==typeof T,b,"argument-error"),re(_.type===As,b,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const X=k.session;if("phoneNumber"in k)return re("enroll"===X.type,b,"internal-error"),(yield Ka(b,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{re("signin"===X.type,b,"internal-error");const me=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return re(me,b,"missing-multi-factor-info"),(yield F_(b,{mfaPendingCredential:X.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield C0(b,{phoneNumber:k.phoneNumber,recaptchaToken:T});return X}}finally{_._reset()}})).apply(this,arguments)}function po(b,g){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(b,g){yield Hf((0,U.m9)(b),g)})).apply(this,arguments)}let pt=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=dt(_)}verifyPhoneNumber(_,E){return fo(this.auth,_,(0,U.m9)(E))}static credential(_,E){return Vo._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:T}=_;return E&&T?Vo._fromTokenResponse(E,T):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Go(b,g){return g?Y(g):(re(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class np extends ni{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return no(g,this._buildIdpRequest())}_linkToIdToken(g,_){return no(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return no(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Ac(b){return __(b.auth,new np(b),b.bypassAuthState)}function Rr(b){const{auth:g,user:_}=b;return re(_,g,"internal-error"),m_(_,new np(b),b.bypassAuthState)}function Mc(b){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(b){const{auth:g,user:_}=b;return re(_,g,"internal-error"),Hf(_,new np(b),b.bypassAuthState)})).apply(this,arguments)}class go{constructor(g,_,E,T,k=!1){this.auth=g,this.resolver=E,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.Z)(function*(E,T){g.pendingPromise={resolve:E,reject:T};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(E,T){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:k,tenantId:X,error:me,type:ze}=g;if(me)return void _.reject(me);const ht={auth:_.auth,requestUri:E,sessionId:T,tenantId:X||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ze)(ht))}catch(Ft){_.reject(Ft)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ac;case"linkViaPopup":case"linkViaRedirect":return Mc;case"reauthViaPopup":case"reauthViaRedirect":return Rr;default:et(this.auth,"internal-error")}}resolve(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _i=new He(2e3,1e4);function U_(b,g,_){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(b,g,_){const E=dt(b);ge(b,g,ur);const T=Go(E,_);return new il(E,"signInViaPopup",g,T).executeNotNull()})).apply(this,arguments)}function H_(b,g,_){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b);ge(E.auth,g,ur);const T=Go(E.auth,_);return new il(E.auth,"reauthViaPopup",g,T,E).executeNotNull()})).apply(this,arguments)}function j_(b,g,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b);ge(E.auth,g,ur);const T=Go(E.auth,_);return new il(E.auth,"linkViaPopup",g,T,E).executeNotNull()})).apply(this,arguments)}let il=(()=>{class b extends go{constructor(_,E,T,k,X){super(_,E,k,X),this.provider=T,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const E=yield _.execute();return re(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,d.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const E=$o();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(T=>{_.reject(T)}),_.resolver._isIframeWebStorageSupported(_.auth,T=>{T||_.reject(xe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,_i.get())};_()}}return b.currentPopupAction=null,b})();const sl=new Map;class kn extends go{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let E=sl.get(_.auth._key());if(!E){try{const k=(yield function Bi(b,g){return qo.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(k)}catch(T){E=()=>Promise.reject(T)}sl.set(_.auth._key(),E)}return _.bypassAuthState||sl.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const T=yield E.auth._redirectUserForId(g.eventId);if(T)return E.user=T,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function qo(){return(qo=(0,d.Z)(function*(b,g){const _=Ms(g),E=mo(b);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(_));return yield E._remove(_),T})).apply(this,arguments)}function rp(b,g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(b,g){return mo(b)._set(Ms(g),"true")})).apply(this,arguments)}function ip(){sl.clear()}function kc(b,g){sl.set(b._key(),g)}function mo(b){return Y(b._redirectPersistence)}function Ms(b){return B("pendingRedirect",b.config.apiKey,b.name)}function sp(b,g,_){return function An(b,g,_){return ol.apply(this,arguments)}(b,g,_)}function ol(){return(ol=(0,d.Z)(function*(b,g,_){const E=dt(b);ge(b,g,ur);const T=Go(E,_);return yield rp(T,E),T._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function al(b,g,_){return function Oc(b,g,_){return xs.apply(this,arguments)}(b,g,_)}function xs(){return(xs=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b);ge(E.auth,g,ur);const T=Go(E.auth,_);yield rp(T,E.auth);const k=yield Nc(E);return T._openRedirect(E.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function op(b,g,_){return function ap(b,g,_){return Fd.apply(this,arguments)}(b,g,_)}function Fd(){return(Fd=(0,d.Z)(function*(b,g,_){const E=(0,U.m9)(b);ge(E.auth,g,ur);const T=Go(E.auth,_);yield Es(!1,E,g.providerId),yield rp(T,E.auth);const k=yield Nc(E);return T._openRedirect(E.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function Pc(b,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(b,g){return yield dt(b)._initializationPromise,Ko(b,g,!1)})).apply(this,arguments)}function Ko(b,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,d.Z)(function*(b,g,_=!1){const E=dt(b),T=Go(E,g),X=yield new kn(E,T,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,g)),X})).apply(this,arguments)}function Nc(b){return ll.apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(b){const g=$o(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Yo{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function lp(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ul(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!ul(g)){const T=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(xe(this.auth,T))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cl(g))}saveEventToCache(g){this.cachedEventUids.add(cl(g)),this.lastProcessedEventTime=Date.now()}}function cl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function ul({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function Os(b){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(b,g={}){return kt(b,"GET","/v1/projects",g)})).apply(this,arguments)}const _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_o=/^https?/;function cp(){return(cp=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield Os(b);for(const _ of g)try{if(tT(_))return}catch{}et(b,"unauthorized-domain")})).apply(this,arguments)}function tT(b){const g=Re(),{protocol:_,hostname:E}=new URL(g);if(b.startsWith("chrome-extension://")){const X=new URL(b);return""===X.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===E}if(!_o.test(_))return!1;if(_r.test(b))return E===b;const T=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const up=new He(3e4,6e4);function Vd(){const b=Bn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ui=null;function dp(b){return Ui=Ui||function Bd(b){return new Promise((g,_)=>{var E,T,k;function X(){Vd(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Vd(),_(xe(b,"network-request-failed"))},timeout:up.get()})}if(null!==(T=null===(E=Bn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)g(gapi.iframes.getContext());else{if(null===(k=Bn().gapi)||void 0===k||!k.load){const me=Pd("iframefcb");return Bn()[me]=()=>{gapi.load?X():_(xe(b,"network-request-failed"))},zo(`https://apis.google.com/js/api.js?onload=${me}`).catch(ze=>_(ze))}X()}}).catch(g=>{throw Ui=null,g})}(b),Ui}const Ud=new He(5e3,15e3),$_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N0(b){const g=b.config;re(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?sn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:b.name,v:N.SDK_VERSION},T=rT.get(b.config.apiHost);T&&(E.eid=T);const k=b._getFrameworks();return k.length&&(E.fw=k.join(",")),`${_}?${(0,U.xO)(E).slice(1)}`}function Fc(){return Fc=(0,d.Z)(function*(b){const g=yield dp(b),_=Bn().gapi;return re(_,b,"internal-error"),g.open({where:document.body,url:N0(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$_,dontclear:!0},E=>new Promise(function(){var T=(0,d.Z)(function*(k,X){yield E.restyle({setHideOnLeave:!1});const me=xe(b,"network-request-failed"),ze=Bn().setTimeout(()=>{X(me)},Ud.get());function ht(){Bn().clearTimeout(ze),k(E)}E.ping(ht).then(ht,()=>{X(me)})});return function(k,X){return T.apply(this,arguments)}}()))}),Fc.apply(this,arguments)}const iT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class z_{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ji(b,g,_,E,T,k){re(b.config.authDomain,b,"auth-domain-config-required"),re(b.config.apiKey,b,"invalid-api-key");const X={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:N.SDK_VERSION,eventId:T};if(g instanceof ur){g.setDefaultLanguage(b.languageCode),X.providerId=g.providerId||"",(0,U.xb)(g.getCustomParameters())||(X.customParameters=JSON.stringify(g.getCustomParameters()));for(const[ze,ht]of Object.entries(k||{}))X[ze]=ht}if(g instanceof Bo){const ze=g.getScopes().filter(ht=>""!==ht);ze.length>0&&(X.scopes=ze.join(","))}b.tenantId&&(X.tid=b.tenantId);const me=X;for(const ze of Object.keys(me))void 0===me[ze]&&delete me[ze];return`${function Uc({config:b}){return b.emulator?sn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,U.xO)(me).slice(1)}`}const dl="webStorageSupport",li=class Hc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=Ko,this._overrideRedirectResult=kc}_openPopup(g,_,E,T){var k=this;return(0,d.Z)(function*(){var X;pe(null===(X=k.eventManagers[g._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const me=Ji(g,_,E,Re(),T);return function fp(b,g,_,E=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let me="";const ze=Object.assign(Object.assign({},iT),{width:E.toString(),height:T.toString(),top:k,left:X}),ht=(0,U.z$)().toLowerCase();_&&(me=ee(ht)?"_blank":_),x(ht)&&(g=g||"http://localhost",ze.scrollbars="yes");const Ft=Object.entries(ze).reduce((es,[Hi,ea])=>`${es}${Hi}=${ea},`,"");if(function tn(b=(0,U.z$)()){var g;return Me(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ht)&&"_self"!==me)return function Vc(b,g){const _=document.createElement("a");_.href=b,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",me),new z_(null);const hn=window.open(g||"",me,Ft);re(hn,b,"popup-blocked");try{hn.focus()}catch{}return new z_(hn)}(g,me,$o())})()}_openRedirect(g,_,E,T){var k=this;return(0,d.Z)(function*(){return yield k._originValidation(g),function Kf(b){Bn().location.href=b}(Ji(g,_,E,Re(),T)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:T,promise:k}=this.eventManagers[_];return T?Promise.resolve(T):(pe(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const E=yield function F0(b){return Fc.apply(this,arguments)}(g),T=new Yo(g);return E.register("authEvent",k=>(re(k?.authEvent,g,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:T},_.iframes[g._key()]=E,T})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(dl,{type:dl},T=>{var k;const X=null===(k=T?.[0])||void 0===k?void 0:k[dl];void 0!==X&&_(!!X),et(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ld(b){return cp.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return nn()||P()||Me()}};class $c extends class jc{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return se("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new $c(g)}_finalizeEnroll(g,_,E){return function Ad(b,g){return kt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(b,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Sc(b,g){return kt(b,"POST","/v2/accounts/mfaSignIn:finalize",Bt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pp=(()=>{class b{constructor(){}static assertion(_){return $c._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var zc="@firebase/auth",Qo="0.20.11";class U0{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{var T;g((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gc=(0,U.Pz)("authIdTokenMaxAge")||300;let Xo=null;const Kn=b=>function(){var g=(0,d.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),T=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(T&&T>Gc)return;const k=E?.token;Xo!==k&&(Xo=k,yield fetch(b,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function Jo(b=(0,N.getApp)()){const g=(0,N._getProvider)(b,"auth");if(g.isInitialized())return g.getImmediate();const _=function le(b,g){const _=(0,N._getProvider)(b,"auth");if(_.isInitialized()){const T=_.getImmediate(),k=_.getOptions();if((0,U.vZ)(k,g??{}))return T;et(T,"already-initialized")}return _.initialize({options:g})}(b,{popupRedirectResolver:li,persistence:[Ic,lo,Is]}),E=(0,U.Pz)("authTokenSyncURL");if(E){const k=Kn(E);(function qa(b,g,_){(0,U.m9)(b).beforeAuthStateChanged(g,_)})(_,k,()=>k(_.currentUser)),function mc(b,g,_,E){(0,U.m9)(b).onIdTokenChanged(g,_,E)}(_,X=>k(X))}const T=(0,U.q4)("auth");return T&&Ys(_,`http://${T}`),_}!function G_(b){(0,N._registerComponent)(new we.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),T=g.getProvider("heartbeat"),{apiKey:k,authDomain:X}=E.options;return((me,ze)=>{re(k&&!k.includes(":"),"invalid-api-key",{appName:me.name}),re(!X?.includes(":"),"argument-error",{appName:me.name});const ht={apiKey:k,authDomain:X,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fn(b)},Ft=new Oa(me,ze,ht);return function ie(b,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(Y);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(E,g?.popupRedirectResolver)}(Ft,_),Ft})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new we.wA("auth-internal",g=>{const _=dt(g.getProvider("auth").getImmediate());return new U0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(zc,Qo,function H0(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,N.registerVersion)(zc,Qo,"esm2017")}("Browser")},2090:(gt,Ae,F)=>{F.d(Ae,{$s:()=>Ke,BH:()=>Vt,G6:()=>ge,L:()=>ye,LL:()=>on,P0:()=>ke,Pz:()=>Wt,Sg:()=>He,UG:()=>Ce,US:()=>we,ZB:()=>z,ZR:()=>Rn,aH:()=>lt,b$:()=>he,eu:()=>re,hl:()=>Ve,jU:()=>We,m9:()=>Gt,ne:()=>bn,pd:()=>Ra,q4:()=>Re,r3:()=>Tr,ru:()=>ae,tV:()=>Oe,uI:()=>Fe,vZ:()=>qe,w1:()=>et,xO:()=>pn,xb:()=>qi,z$:()=>Le,zI:()=>se,zd:()=>$r});const ce=function(H){const B=[];let W=0;for(let V=0;V<H.length;V++){let x=H.charCodeAt(V);x<128?B[W++]=x:x<2048?(B[W++]=x>>6|192,B[W++]=63&x|128):55296==(64512&x)&&V+1<H.length&&56320==(64512&H.charCodeAt(V+1))?(x=65536+((1023&x)<<10)+(1023&H.charCodeAt(++V)),B[W++]=x>>18|240,B[W++]=x>>12&63|128,B[W++]=x>>6&63|128,B[W++]=63&x|128):(B[W++]=x>>12|224,B[W++]=x>>6&63|128,B[W++]=63&x|128)}return B},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,B){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let x=0;x<H.length;x+=3){const P=H[x],ee=x+1<H.length,Se=ee?H[x+1]:0,Ye=x+2<H.length,tt=Ye?H[x+2]:0;let Dt=(15&Se)<<2|tt>>6,tn=63&tt;Ye||(tn=64,ee||(Dt=64)),V.push(W[P>>2],W[(3&P)<<4|Se>>4],W[Dt],W[tn])}return V.join("")},encodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(H):this.encodeByteArray(ce(H),B)},decodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(H):function(H){const B=[];let W=0,V=0;for(;W<H.length;){const x=H[W++];if(x<128)B[V++]=String.fromCharCode(x);else if(x>191&&x<224){const P=H[W++];B[V++]=String.fromCharCode((31&x)<<6|63&P)}else if(x>239&&x<365){const Ye=((7&x)<<18|(63&H[W++])<<12|(63&H[W++])<<6|63&H[W++])-65536;B[V++]=String.fromCharCode(55296+(Ye>>10)),B[V++]=String.fromCharCode(56320+(1023&Ye))}else{const P=H[W++],ee=H[W++];B[V++]=String.fromCharCode((15&x)<<12|(63&P)<<6|63&ee)}}return B.join("")}(this.decodeStringToByteArray(H,B))},decodeStringToByteArray(H,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let x=0;x<H.length;){const P=W[H.charAt(x++)],Se=x<H.length?W[H.charAt(x)]:0;++x;const tt=x<H.length?W[H.charAt(x)]:64;++x;const Me=x<H.length?W[H.charAt(x)]:64;if(++x,null==P||null==Se||null==tt||null==Me)throw Error();V.push(P<<2|Se>>4),64!==tt&&(V.push(Se<<4&240|tt>>2),64!==Me&&V.push(tt<<6&192|Me))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ye=function(H){return function(H){const B=ce(H);return we.encodeByteArray(B,!0)}(H).replace(/\./g,"")},Oe=function(H){try{return we.decodeString(H,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function z(H,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Q(W)||(H[W]=z(H[W],B[W]));return H}function Q(H){return"__proto__"!==H}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function ae(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function he(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const H=Le();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ge(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){return"object"==typeof indexedDB}function re(){return new Promise((H,B)=>{try{let W=!0;const V="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(V);x.onsuccess=()=>{x.result.close(),W||self.indexedDB.deleteDatabase(V),H(!0)},x.onupgradeneeded=()=>{W=!1},x.onerror=()=>{var P;B((null===(P=x.error)||void 0===P?void 0:P.message)||"")}}catch(W){B(W)}})}function se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ie=()=>{try{return function pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=H&&Oe(H[1]);return B&&JSON.parse(B)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Re=H=>{var B,W;return null===(W=null===(B=ie())||void 0===B?void 0:B.emulatorHosts)||void 0===W?void 0:W[H]},ke=H=>{const B=Re(H);if(!B)return;const W=B.lastIndexOf(":");if(W<=0||W+1===B.length)throw new Error(`Invalid host ${B} with no separate hostname and port!`);const V=parseInt(B.substring(W+1),10);return"["===B[0]?[B.substring(1,W-1),V]:[B.substring(0,W),V]},lt=()=>{var H;return null===(H=ie())||void 0===H?void 0:H.config},Wt=H=>{var B;return null===(B=ie())||void 0===B?void 0:B[`_${H}`]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,V)=>{W?this.reject(W):this.resolve(V),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,V))}}}function He(H,B){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=B||"demo-project",x=H.iat||0,P=H.sub||H.user_id;if(!P)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:x,exp:x+3600,auth_time:x,sub:P,user_id:P,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(ee)),""].join(".")}class Rn extends Error{constructor(B,W,V){super(W),this.code=B,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(B,W,V){this.service=B,this.serviceName=W,this.errors=V}create(B,...W){const V=W[0]||{},x=`${this.service}/${B}`,P=this.errors[B],ee=P?function qt(H,B){return H.replace(Bt,(W,V)=>{const x=B[V];return null!=x?String(x):`<${V}?>`})}(P,V):"Error";return new Rn(x,`${this.serviceName}: ${ee} (${x}).`,V)}}const Bt=/\{\$([^}]+)}/g;function Tr(H,B){return Object.prototype.hasOwnProperty.call(H,B)}function qi(H){for(const B in H)if(Object.prototype.hasOwnProperty.call(H,B))return!1;return!0}function qe(H,B){if(H===B)return!0;const W=Object.keys(H),V=Object.keys(B);for(const x of W){if(!V.includes(x))return!1;const P=H[x],ee=B[x];if(er(P)&&er(ee)){if(!qe(P,ee))return!1}else if(P!==ee)return!1}for(const x of V)if(!W.includes(x))return!1;return!0}function er(H){return null!==H&&"object"==typeof H}function pn(H){const B=[];for(const[W,V]of Object.entries(H))Array.isArray(V)?V.forEach(x=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(x))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(V));return B.length?"&"+B.join("&"):""}function $r(H){const B={};return H.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[x,P]=V.split("=");B[decodeURIComponent(x)]=decodeURIComponent(P)}}),B}function Ra(H){const B=H.indexOf("?");if(!B)return"";const W=H.indexOf("#",B);return H.substring(B,W>0?W:void 0)}function bn(H,B){const W=new un(H,B);return W.subscribe.bind(W)}class un{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(V=>{this.error(V)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,V){let x;if(void 0===B&&void 0===W&&void 0===V)throw new Error("Missing Observer.");x=function ut(H,B){if("object"!=typeof H||null===H)return!1;for(const W of B)if(W in H&&"function"==typeof H[W])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:W,complete:V},void 0===x.next&&(x.next=Mt),void 0===x.error&&(x.error=Mt),void 0===x.complete&&(x.complete=Mt);const P=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),P}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mt(){}function Ke(H,B=1e3,W=2){const V=B*Math.pow(W,H),x=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+x)}function Gt(H){return H&&H._delegate?H._delegate:H}},3849:(gt,Ae,F)=>{var d=F(4650);let U=null;function N(){return U}const de=new d.OlP("DocumentToken");let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Oe(){return(0,d.LFG)(z)}()},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let z=(()=>{class n extends ye{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Le(){return new z((0,d.LFG)(de))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Fe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Je)},providedIn:"root"}),n})();const he=new d.OlP("appBaseHref");let Je=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+We(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+We(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+We(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye),d.LFG(he,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Fe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye),d.LFG(he,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ve(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+We(r))}normalize(t){return n.stripTrailingSlash(function ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=We,n.joinWithSlash=Fe,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function De(){return new xe((0,d.LFG)(ae))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}class Gr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ws=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Fa=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Gr(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(ws,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const so="browser";function Ba(n){return"server"===n}let Uf=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new g_((0,d.LFG)(de),window)}),n})();class g_{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ua(this.window.history)||Ua(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ua(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jo extends class zf extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ee(n){U||(U=n)}(new jo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function I_(){return oo=oo||document.querySelector("base"),oo?oo.getAttribute("href"):null}();return null==t?null:function Zi(n){wn=wn||document.createElement("a"),wn.setAttribute("href",n);const e=wn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ld(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let wn,oo=null;const gn=new d.OlP("TRANSITION_ID"),S_=[{provide:d.ip1,useFactory:function Gf(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[gn,de,d.zs3],multi:!0}];let A_=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Dd=new d.OlP("EventManagerPlugins");let mc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Dd),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let _c=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ao=(()=>{class n extends _c{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Id),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Id))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Id(n){N().remove(n)}const Sd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wf=/%COMP%/g;function yc(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?yc(n,i,t):(i=i.replace(Wf,n),t.push(i))}return t}function vc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Md=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Yi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new qf(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new R_(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=yc(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mc),d.LFG(ao),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Yi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Sd[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Za(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Za(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Sd[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Sd[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vc(r)):this.eventManager.addEventListener(e,t,vc(r))}}function Za(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qf extends Yi{constructor(e,t,r,i){super(e),this.component=r;const a=yc(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Ka(n){return"_ngcontent-%COMP%".replace(Wf,n)}(i+"-"+r.id),this.hostAttr=function Ad(n){return"_nghost-%COMP%".replace(Wf,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class R_ extends Yi{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=yc(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const h=document.createElement("style");h.textContent=a[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lo=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const k_=["alt","control","meta","shift"],Is={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bc=(()=>{class n extends qa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),k_.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),c+=v+".")}),c+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=Is[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),k_.forEach(c=>{c!==i&&(0,kd[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:so},{provide:d.g9A,useValue:function P_(){jo.makeCurrent()},multi:!0},{provide:de,useFactory:function Od(){return(0,d.RDi)(document),document},deps:[]}]),Qa=new d.OlP(""),Xa=[{provide:d.rWj,useClass:class T_{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const h=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ec=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function co(){return new d.qLn},deps:[]},{provide:Dd,useClass:lo,multi:!0,deps:[de,d.R0b,d.Lbi]},{provide:Dd,useClass:bc,multi:!0,deps:[de]},{provide:Md,useClass:Md,deps:[mc,ao,d.AFp]},{provide:d.FYo,useExisting:Md},{provide:_c,useExisting:ao},{provide:ao,useClass:ao,deps:[de]},{provide:mc,useClass:mc,deps:[Dd,d.R0b]},{provide:class Ha{},useClass:A_,deps:[]},[]];let uo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:gn,useExisting:d.AFp},S_]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Qa,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ec,...Xa],imports:[io,d.hGG]}),n})(),Ss=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ja(){return new Ss((0,d.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Qt=F(8996),Un=F(9751);const{isArray:tp}=Array,{getPrototypeOf:B_,prototype:mr,keys:Qi}=Object;function rl(n){if(1===n.length){const e=n[0];if(tp(e))return{args:e,keys:null};if(function fo(n){return n&&"object"==typeof n&&B_(n)===mr}(e)){const t=Qi(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var qr=F(8421),po=F(3269),In=F(5403),pt=F(4004);const{isArray:Go}=Array;function Ac(n){return(0,pt.U)(e=>function np(n,e){return Go(e)?n(...e):n(e)}(n,e))}function Rr(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Xi=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),go=(()=>{class n extends Xi{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const _i=new d.OlP("NgValueAccessor"),H_={provide:_i,useExisting:(0,d.Gpc)(()=>Wo),multi:!0},j_=new d.OlP("CompositionEventMode");let Wo=(()=>{class n extends Xi{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nd(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(j_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([H_]),d.qOj]}),n})();const kn=new d.OlP("NgValidators"),Bi=new d.OlP("NgAsyncValidators");function Oc(n){return null!=n}function xs(n){return(0,d.QGY)(n)?(0,Qt.D)(n):n}function op(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ap(n,e){return e.map(t=>t(n))}function Pc(n){return n.map(e=>function Fd(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ko(n){return null!=n?function Rs(n){if(!n)return null;const e=n.filter(Oc);return 0==e.length?null:function(t){return op(ap(t,e))}}(Pc(n)):null}function ks(n){if(!n)return null;const e=n.filter(Oc);return 0==e.length?null:function(t){return function Mc(...n){const e=(0,po.jO)(n),{args:t,keys:r}=rl(n),i=new Un.y(a=>{const{length:c}=t;if(!c)return void a.complete();const h=new Array(c);let m=c,v=c;for(let D=0;D<c;D++){let I=!1;(0,qr.Xf)(t[D]).subscribe((0,In.x)(a,R=>{I||(I=!0,v--),h[D]=R},()=>m--,void 0,()=>{(!m||!I)&&(v||a.next(r?Rr(r,h):h),a.complete())}))}});return e?i.pipe(Ac(e)):i}(ap(t,e).map(xs)).pipe((0,pt.U)(op))}}function Nc(n){return null!=n?ks(Pc(n)):null}function ll(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cl(n){return n?Array.isArray(n)?n:[n]:[]}function ul(n,e){return Array.isArray(n)?n.includes(e):n===e}function lp(n,e){const t=cl(e);return cl(n).forEach(i=>{ul(t,i)||t.push(i)}),t}function Os(n,e){return cl(e).filter(t=>!ul(n,t))}class Ps{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ko(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Nc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _r extends Ps{get formDirective(){return null}get path(){return null}}class _o extends Ps{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ld{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let up=(()=>{class n extends Ld{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_o,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),Vd=(()=>{class n extends Ld{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_r,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();const Vc="VALID",Bc="INVALID",yo="PENDING",Ji="DISABLED";function Uc(n){return(jc(n)?n.validators:n)||null}function dl(n){return Array.isArray(n)?Ko(n):n||null}function Hc(n,e){return(jc(e)?e.asyncValidators:n)||null}function li(n){return Array.isArray(n)?Nc(n):n||null}function jc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zc{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=dl(this._rawValidators),this._composedAsyncValidatorFn=li(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vc}get invalid(){return this.status===Bc}get pending(){return this.status==yo}get disabled(){return this.status===Ji}get enabled(){return this.status!==Ji}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=dl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=li(e)}addValidators(e){this.setValidators(lp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Os(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Os(e,this._rawAsyncValidators))}hasValidator(e){return ul(this._rawValidators,e)}hasAsyncValidator(e){return ul(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ji,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vc||this.status===yo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ji:Vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yo,this._hasOwnPendingAsyncValidator=!0;const t=xs(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ji:this.errors?Bc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yo)?yo:this._anyControlsHaveStatus(Bc)?Bc:Vc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Qo extends zc{constructor(e,t,r){super(Uc(t),Hc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function pp(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function $c(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Xo(n,e){g(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function E(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&k(n,e)})}(n,e),function X(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function T(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&k(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function b(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function g(n,e){const t=function Zo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ll(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Yo(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ll(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Jo(e._rawValidators,i),Jo(e._rawAsyncValidators,i)}function k(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const vo={provide:_r,useExisting:(0,d.Gpc)(()=>pl)},ta=(()=>Promise.resolve())();let pl=(()=>{class n extends _r{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Qo({},Ko(t),Nc(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ta.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Xo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ta.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ta.then(()=>{const r=this._findContainer(t.path),i=new Qo({});(function me(n,e){g(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ta.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ta.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function hl(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kn,10),d.Y36(Bi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([vo]),d.qOj]}),n})();function na(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function gl(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jd=class extends zc{constructor(e=null,t,r){super(Uc(t),Hc(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=gl(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){na(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){na(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gl(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},aT={provide:_o,useExisting:(0,d.Gpc)(()=>Z_)},z0=(()=>Promise.resolve())();let Z_=(()=>{class n extends _o{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new jd,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fl(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Wo?t=a:function ea(n){return Object.getPrototypeOf(n.constructor)===go}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Hi(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){z0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);z0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Gc(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_r,9),d.Y36(kn,10),d.Y36(Bi,10),d.Y36(_i,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([aT]),d.qOj,d.TTD]}),n})(),Y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),G0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Wc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[G0]}),n})(),gT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Wc]}),n})();function Qe(...n){const e=(0,po.yG)(n);return(0,Qt.D)(n,e)}var ln=F(7579);class Hn extends ln.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Yd=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var yl=F(4671),tE=F(9672);function yT(...n){const e=(0,po.yG)(n),t=(0,po.jO)(n),{args:r,keys:i}=rl(n);if(0===r.length)return(0,Qt.D)([],e);const a=new Un.y(function sP(n,e,t=yl.y){return r=>{vT(e,()=>{const{length:i}=n,a=new Array(i);let c=i,h=i;for(let m=0;m<i;m++)vT(e,()=>{const v=(0,Qt.D)(n[m],e);let D=!1;v.subscribe((0,In.x)(r,I=>{a[m]=I,D||(D=!0,h--),h||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Rr(i,c):yl.y));return t?a.pipe(Ac(t)):a}function vT(n,e,t){n?(0,tE.f)(t,n,e):e()}var vl=F(8189);function nE(...n){return function hy(){return(0,vl.J)(1)}()((0,Qt.D)(n,(0,po.yG)(n)))}function rE(n){return new Un.y(e=>{(0,qr.Xf)(n()).subscribe(e)})}var iE=F(9635),bi=F(576);function qc(n,e){const t=(0,bi.m)(n)?n:()=>n,r=i=>i.error(t());return new Un.y(e?i=>e.schedule(r,0,i):r)}var bl=F(515),wl=F(727),rr=F(4482);function Kc(){return(0,rr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,In.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class fy extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,rr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,In.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wl.w0.EMPTY)}return e}refCount(){return Kc()(this)}}function Zn(n,e){return(0,rr.e)((t,r)=>{let i=null,a=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,In.x)(r,m=>{i?.unsubscribe();let v=0;const D=a++;(0,qr.Xf)(n(m,D)).subscribe(i=(0,In.x)(r,I=>r.next(e?e(m,I,D,v++):I),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function ts(n){return n<=0?()=>bl.E:(0,rr.e)((e,t)=>{let r=0;e.subscribe((0,In.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function En(...n){const e=(0,po.yG)(n);return(0,rr.e)((t,r)=>{(e?nE(n,t,e):nE(n,t)).subscribe(r)})}function dr(n,e){return(0,rr.e)((t,r)=>{let i=0;t.subscribe((0,In.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var kr=F(5577);function Zc(n){return(0,rr.e)((e,t)=>{let r=!1;e.subscribe((0,In.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function py(n=bT){return(0,rr.e)((e,t)=>{let r=!1;e.subscribe((0,In.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function bT(){return new Yd}function bo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dr((i,a)=>n(i,a,r)):yl.y,ts(1),t?Zc(e):py(()=>new Yd))}function sa(n,e){return(0,bi.m)(e)?(0,kr.z)(n,e,1):(0,kr.z)(n,1)}function Yn(n,e,t){const r=(0,bi.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,rr.e)((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let h=!0;i.subscribe((0,In.x)(a,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),a.next(m)},()=>{var m;h=!1,null===(m=r.complete)||void 0===m||m.call(r),a.complete()},m=>{var v;h=!1,null===(v=r.error)||void 0===v||v.call(r,m),a.error(m)},()=>{var m,v;h&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):yl.y}function wo(n){return(0,rr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,In.x)(t,void 0,void 0,c=>{a=(0,qr.Xf)(n(c,wo(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function oP(n,e,t,r,i){return(a,c)=>{let h=t,m=e,v=0;a.subscribe((0,In.x)(c,D=>{const I=v++;m=h?n(m,D,I):(h=!0,D),r&&c.next(m)},i&&(()=>{h&&c.next(m),c.complete()})))}}function Cp(n,e){return(0,rr.e)(oP(n,e,arguments.length>=2,!0))}function El(n){return n<=0?()=>bl.E:(0,rr.e)((e,t)=>{let r=[];e.subscribe((0,In.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?dr((i,a)=>n(i,a,r)):yl.y,El(1),t?Zc(e):py(()=>new Yd))}function Qd(n){return(0,rr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const jt="primary",Yc=Symbol("RouteTitle");class aE{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oa(n){return new aE(n)}function aP(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],h=n[a];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ji(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!gy(n[i],e[i]))return!1;return!0}function gy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function my(n){return Array.prototype.concat.apply([],n)}function aa(n){return n.length>0?n[n.length-1]:null}function ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ns(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Qt.D)(Promise.resolve(n)):Qe(n)}const Ip={exact:function lE(n,e,t){if(!Il(n.segments,e.segments)||!Sp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lE(n.children[r],e.children[r],t))return!1;return!0},subset:wy},la={exact:function by(n,e){return ji(n,e)},subset:function ET(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gy(n[t],e[t]))},ignored:()=>!0};function vy(n,e,t){return Ip[t.paths](n.root,e.root,t.matrixParams)&&la[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wy(n,e,t){return Cl(n,e,e.segments,t)}function Cl(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Il(i,t)||e.hasChildren()||!Sp(i,t,r))}if(n.segments.length===t.length){if(!Il(n.segments,t)||!Sp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!wy(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Il(n.segments,i)&&Sp(n.segments,i,r)&&n.children[jt])&&Cl(n.children[jt],e,a,r)}}function Sp(n,e,t){return e.every((r,i)=>la[t](n[i].parameters,r.parameters))}class Dl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return cP.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ir(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}}class Xd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oa(this.parameters)),this._parameterMap}toString(){return hE(this)}}function Il(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Tp},providedIn:"root"}),n})();class Tp{parse(e){const t=new th(e);return new Dl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Eo(e.root,!0)}`,r=function DT(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Co(t)}=${Co(i)}`).join("&"):`${Co(t)}=${Co(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Jd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cP=new Tp;function Ap(n){return n.segments.map(e=>hE(e)).join("/")}function Eo(n,e){if(!n.hasChildren())return Ap(n);if(e){const t=n.children[jt]?Eo(n.children[jt],!1):"",r=[];return ir(n.children,(i,a)=>{a!==jt&&r.push(`${a}:${Eo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function cE(n,e){let t=[];return ir(n.children,(r,i)=>{i===jt&&(t=t.concat(e(r,i)))}),ir(n.children,(r,i)=>{i!==jt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===jt?[Eo(n.children[jt],!1)]:[`${i}:${Eo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${Ap(n)}/${t[0]}`:`${Ap(n)}/(${t.join("//")})`}}function dE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Co(n){return dE(n).replace(/%3B/gi,";")}function Cy(n){return dE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dy(n){return decodeURIComponent(n)}function Iy(n){return Dy(n.replace(/\+/g,"%20"))}function hE(n){return`${Cy(n.path)}${function CT(n){return Object.keys(n).map(e=>`;${Cy(e)}=${Cy(n[e])}`).join("")}(n.parameters)}`}const fE=/^[^\/()?;=#]+/;function eh(n){const e=n.match(fE);return e?e[0]:""}const Sy=/^[^=?&#]+/,IT=/^[^&#]+/;class th{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[jt]=new zt(e,t)),r}parseSegment(){const e=eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Xd(Dy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eh(this.remaining);i&&(r=i,this.capture(r))}e[Dy(t)]=Dy(r)}parseQueryParam(e){const t=function Ty(n){const e=n.match(Sy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Ay(n){const e=n.match(IT);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Iy(t),a=Iy(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=jt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[jt]:new zt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function My(n){return n.segments.length>0?new zt([],{[jt]:n}):n}function Mp(n){const e={};for(const r of Object.keys(n.children)){const a=Mp(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function ST(n){if(1===n.numberOfChildren&&n.children[jt]){const e=n.children[jt];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}function Sl(n){return n instanceof Dl}function Do(n,e,t,r,i){if(0===t.length)return ih(e.root,e.root,e.root,r,i);const a=function MT(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ry(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return ir(a.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new Ry(t,e,r)}(t);return a.toRoot()?ih(e.root,e.root,new zt([],{}),r,i):function c(m){const v=function pE(n,e,t,r){if(n.isAbsolute)return new Tl(e.root,!0,0);if(-1===r)return new Tl(t,t===e.root,0);return function gE(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new Tl(r,!1,i-a)}(t,r+(nh(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),D=v.processChildren?sh(v.segmentGroup,v.index,a.commands):ky(v.segmentGroup,v.index,a.commands);return ih(e.root,v.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function nh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rh(n){return"object"==typeof n&&null!=n&&n.outlets}function ih(n,e,t,r,i){let c,a={};r&&ir(r,(m,v)=>{a[v]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),c=n===e?t:AT(n,e,t);const h=My(Mp(c));return new Dl(h,a,i)}function AT(n,e,t){const r={};return ir(n.children,(i,a)=>{r[a]=i===e?t:AT(i,e,t)}),new zt(n.segments,r)}class Ry{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nh(r[0]))throw new d.vHH(4003,!1);const i=r.find(rh);if(i&&i!==aa(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ky(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return sh(n,e,t);const r=function rs(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],h=t[r];if(rh(h))break;const m=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!vE(m,v,c))return a;r+=2}else{if(!vE(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new zt(n.segments.slice(0,r.pathIndex),{});return a.children[jt]=new zt(n.segments.slice(r.pathIndex),n.children),sh(a,0,i)}return r.match&&0===i.length?new zt(n.segments,{}):r.match&&!n.hasChildren()?Oy(n,e,t):r.match?sh(n,0,i):Oy(n,e,t)}function sh(n,e,t){if(0===t.length)return new zt(n.segments,{});{const r=function mE(n){return rh(n[0])?n[0].outlets:{[jt]:n}}(t),i={};return ir(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=ky(n.children[c],e,a))}),ir(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new zt(n.segments,i)}}function Oy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(rh(a)){const m=_E(a.outlets);return new zt(r,m)}if(0===i&&nh(t[0])){r.push(new Xd(n.segments[e].path,yE(t[0]))),i++;continue}const c=rh(a)?a.outlets[jt]:`${a}`,h=i<t.length-1?t[i+1]:null;c&&h&&nh(h)?(r.push(new Xd(c,yE(h))),i+=2):(r.push(new Xd(c,{})),i++)}return new zt(r,{})}function _E(n){const e={};return ir(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Oy(new zt([],{}),0,t))}),e}function yE(n){const e={};return ir(n,(t,r)=>e[r]=`${t}`),e}function vE(n,e,t){return n==t.path&&ji(e,t.parameters)}class Io{constructor(e,t){this.id=e,this.url=t}}class Py extends Io{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ca extends Io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xp extends Io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bE extends Io{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xT extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wE extends Io{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class EE extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CE extends Io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RT{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PT{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ny{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Rp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=So(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return So(e,this._root).map(t=>t.value)}}function Rp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Rp(n,t);if(r)return r}return null}function So(n,e){if(n===e.value)return[e];for(const t of e.children){const r=So(n,t);if(r.length)return r.unshift(e),r}return[]}class To{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ua(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class kp extends Ny{constructor(e,t){super(e),this.snapshot=t,Fy(this,e)}toString(){return this.snapshot.toString()}}function TE(n,e){const t=function fP(n,e){const c=new oh([],{},{},"",{},jt,e,null,n.root,-1,{});return new LT("",new To(c,[]))}(n,e),r=new Hn([new Xd("",{})]),i=new Hn({}),a=new Hn({}),c=new Hn({}),h=new Hn(""),m=new Xc(r,i,c,h,a,jt,e,t.root);return m.snapshot=t.root,new kp(new To(m,[]),t)}class Xc{constructor(e,t,r,i,a,c,h,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,pt.U)(v=>v[Yc]))??Qe(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NT(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function FT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class oh{constructor(e,t,r,i,a,c,h,m,v,D,I,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=h,this.title=this.data?.[Yc],this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=D,this._correctedLastPathIndex=R??D,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LT extends Ny{constructor(e,t){super(t),this.url=e,Fy(this,t)}toString(){return Al(this._root)}}function Fy(n,e){e.value._routerState=n,e.children.forEach(t=>Fy(n,t))}function Al(n){const e=n.children.length>0?` { ${n.children.map(Al).join(", ")} } `:"";return`${n.value}${e}`}function Ly(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ji(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ji(e.params,t.params)||n.params.next(t.params),function wT(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ji(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ji(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Op(n,e){const t=ji(n.params,e.params)&&function Ey(n,e){return Il(n,e)&&n.every((t,r)=>ji(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Op(n.parent,e.parent))}function ah(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function AE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ah(n,r,i);return ah(n,r)})}(n,e,t);return new To(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>ah(n,h)),c}}const r=function VT(n){return new Xc(new Hn(n.url),new Hn(n.params),new Hn(n.queryParams),new Hn(n.fragment),new Hn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>ah(n,a));return new To(r,i)}}const Vy="ngNavigationCancelingError";function ME(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Sl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xE(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function xE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Vy]=!0,r.cancellationCode=e,t&&(r.url=t),r}function RE(n){return By(n)&&Sl(n.url)}function By(n){return n&&n[Vy]}class BT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jc,this.attachRef=null}}let Jc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new BT,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lh=!1;let ch=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=i||jt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,lh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,lh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,lh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,lh);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new pP(t,h,i.injector);if(r&&function Uy(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Jc),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class pP{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Xc?this.route:e===Jc?this.childContexts:this.parent.get(e,t)}}let Hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[ch],encapsulation:2}),n})();function UT(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function is(n){const e=n.children&&n.children.map(is),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=Hy),t}function ci(n){return n.outlet||jt}function zy(n,e){const t=n.filter(r=>ci(r)===e);return t.push(...n.filter(r=>ci(r)!==e)),t}function Ml(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class OE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ly(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ua(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),ir(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ua(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=ua(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ua(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new PT(a.value.snapshot))}),e.children.length&&this.forwardEvent(new OT(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Ly(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Ly(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Ml(i.snapshot),m=h?.get(d._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class zT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xl{constructor(e,t){this.component=e,this.route=t}}function Np(n,e,t){const r=n._root;return Rl(r,e?e._root:null,t,[r.value])}function da(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Rl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=ua(e);return n.children.forEach(c=>{(function mP(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function GT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Il(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Il(n.url,e.url)||!ji(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Op(n,e)||!ji(n.queryParams,e.queryParams);default:return!Op(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new zT(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Rl(n,e,a.component?h?h.children:null:t,r,i),m&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new xl(h.outlet.component,c))}else c&&dh(e,h,i),i.canActivateChecks.push(new zT(r)),Rl(n,null,a.component?h?h.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),ir(a,(c,h)=>dh(c,t.getContext(h),i)),i}function dh(n,e,t){const r=ua(n),i=n.value;ir(r,(a,c)=>{dh(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new xl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function hh(n){return"function"==typeof n}function fh(n){return n instanceof Yd||"EmptyError"===n?.name}const Wy=Symbol("INITIAL_VALUE");function ph(){return Zn(n=>yT(n.map(e=>e.pipe(ts(1),En(Wy)))).pipe((0,pt.U)(e=>{for(const t of e)if(!0!==t){if(t===Wy)return Wy;if(!1===t||t instanceof Dl)return t}return!0}),dr(e=>e!==Wy),ts(1)))}function Fp(n){return(0,iE.z)(Yn(e=>{if(Sl(e))throw ME(0,e)}),(0,pt.U)(e=>!0===e))}const Lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vp(n,e,t,r,i){const a=Bp(n,e,t);return a.matched?function YT(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Qe(i.map(c=>{const h=da(c,n);return ns(function NE(n){return n&&hh(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(ph(),Fp()):Qe(!0)}(r=UT(e,r),e,t).pipe((0,pt.U)(c=>!0===c?a:{...Lp})):Qe(a)}function Bp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Lp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||aP)(t,n,e);if(!i)return{...Lp};const a={};ir(i.posParams,(h,m)=>{a[m]=h.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function eu(n,e,t,r,i="corrected"){if(t.length>0&&function FE(n,e,t){return t.some(r=>Up(n,e,r)&&ci(r)!==jt)}(n,t,r)){const c=new zt(e,function fa(n,e,t,r){const i={};i[jt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ci(a)!==jt){const c=new zt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[ci(a)]=c}return i}(n,e,r,new zt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function XT(n,e,t){return t.some(r=>Up(n,e,r))}(n,t,r)){const c=new zt(n.segments,function QT(n,e,t,r,i,a){const c={};for(const h of r)if(Up(n,t,h)&&!i[ci(h)]){const m=new zt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[ci(h)]=m}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new zt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Up(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qy(n,e,t,r){return!!(ci(n)===r||r!==jt&&Up(e,t,n))&&("**"===n.path||Bp(e,n,t).matched)}function LE(n,e,t){return 0===e.length&&!n.children[t]}const Hp=!1;class kl{constructor(e){this.segmentGroup=e||null}}class Ol{constructor(e){this.urlTree=e}}function Pl(n){return qc(new kl(n))}function Nl(n){return qc(new Ol(n))}class BE{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=eu(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,jt).pipe((0,pt.U)(a=>this.createUrlTree(Mp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wo(a=>{if(a instanceof Ol)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof kl?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,jt).pipe((0,pt.U)(i=>this.createUrlTree(Mp(i),e.queryParams,e.fragment))).pipe(wo(i=>{throw i instanceof kl?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,Hp)}createUrlTree(e,t,r){const i=My(e);return new Dl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,pt.U)(a=>new zt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Qt.D)(i).pipe(sa(a=>{const c=r.children[a],h=zy(t,a);return this.expandSegmentGroup(e,h,c,a).pipe((0,pt.U)(m=>({segment:m,outlet:a})))}),Cp((a,c)=>(a[c.outlet]=c.segment,a),{}),Dp())}expandSegment(e,t,r,i,a,c){return(0,Qt.D)(r).pipe(sa(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,c).pipe(wo(v=>{if(v instanceof kl)return Qe(null);throw v}))),bo(h=>!!h),wo((h,m)=>{if(fh(h))return LE(t,i,a)?Qe(new zt([],{})):Pl(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,c,h){return qy(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Pl(t):Pl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Nl(a):this.lineralizeSegments(r,a).pipe((0,kr.z)(c=>{const h=new zt(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:D}=Bp(t,i,a);if(!h)return Pl(t);const I=this.applyRedirectCommands(m,i.redirectTo,D);return i.redirectTo.startsWith("/")?Nl(I):this.lineralizeSegments(i,I).pipe((0,kr.z)(R=>this.expandSegment(e,t,r,R.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=UT(r,e),r.loadChildren?(r._loadedRoutes?Qe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,pt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new zt(i,{})))):Qe(new zt(i,{}))):Vp(t,r,i,e).pipe(Zn(({matched:c,consumedSegments:h,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,kr.z)(D=>{const I=D.injector??e,R=D.routes,{segmentGroup:L,slicedSegments:j}=eu(t,h,m,R),te=new zt(L.segments,L.children);if(0===j.length&&te.hasChildren())return this.expandChildren(I,R,te).pipe((0,pt.U)(nt=>new zt(h,nt)));if(0===R.length&&0===j.length)return Qe(new zt(h,{}));const ne=ci(r)===a;return this.expandSegment(I,te,R,j,ne?jt:a,!0).pipe((0,pt.U)(Xe=>new zt(h.concat(Xe.segments),Xe.children)))})):Pl(t)))}getChildConfig(e,t,r){return t.children?Qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function ha(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Qe(!0):Qe(i.map(c=>{const h=da(c,n);return ns(function PE(n){return n&&hh(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(ph(),Fp())}(e,t,r).pipe((0,kr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Yn(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function jp(n){return qc(xE(Hp,3))}())):Qe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qe(r);if(i.numberOfChildren>1||!i.children[jt])return qc(new d.vHH(4e3,Hp));i=i.children[jt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Dl(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ir(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return ir(t.children,(h,m)=>{c[m]=this.createSegmentGroup(e,h,r,i)}),new zt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,Hp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class UE{}class TP{constructor(e,t,r,i,a,c,h,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=m}recognize(){const e=eu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,jt).pipe((0,pt.U)(t=>{if(null===t)return null;const r=new oh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new To(r,t),a=new LT(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=NT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Qt.D)(Object.keys(r.children)).pipe(sa(i=>{const a=r.children[i],c=zy(t,i);return this.processSegmentGroup(e,c,a,i)}),Cp((i,a)=>i&&a?(i.push(...a),i):null),function sE(n,e=!1){return(0,rr.e)((t,r)=>{let i=0;t.subscribe((0,In.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),Zc(null),Dp(),(0,pt.U)(i=>{if(null===i)return null;const a=Qy(i);return function eA(n){n.sort((e,t)=>e.value.outlet===jt?-1:t.value.outlet===jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Qt.D)(t).pipe(sa(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),bo(c=>!!c),wo(c=>{if(fh(c))return LE(r,i,a)?Qe([]):Qe(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!qy(t,r,i,a))return Qe(null);let c;if("**"===t.path){const h=i.length>0?aa(i).parameters:{},m=ui(r)+i.length;c=Qe({snapshot:new oh(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zE(t),ci(t),t.component??t._loadedComponent??null,t,$E(r),m,nA(t),m),consumedSegments:[],remainingSegments:[]})}else c=Vp(r,t,i,e).pipe((0,pt.U)(({matched:h,consumedSegments:m,remainingSegments:v,parameters:D})=>{if(!h)return null;const I=ui(r)+m.length;return{snapshot:new oh(m,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zE(t),ci(t),t.component??t._loadedComponent??null,t,$E(r),I,nA(t),I),consumedSegments:m,remainingSegments:v}}));return c.pipe(Zn(h=>{if(null===h)return Qe(null);const{snapshot:m,consumedSegments:v,remainingSegments:D}=h;e=t._injector??e;const I=t._loadedInjector??e,R=function HE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:j}=eu(r,v,D,R.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===j.length&&L.hasChildren())return this.processChildren(I,R,L).pipe((0,pt.U)(ne=>null===ne?null:[new To(m,ne)]));if(0===R.length&&0===j.length)return Qe([new To(m,[])]);const te=ci(t)===a;return this.processSegment(I,R,L,j,te?jt:a).pipe((0,pt.U)(ne=>null===ne?null:[new To(m,ne)]))}))}}function tA(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qy(n){const e=[],t=new Set;for(const r of n){if(!tA(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Qy(r.children);e.push(new To(r.value,i))}return e.filter(r=>!t.has(r))}function $E(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ui(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function zE(n){return n.data||{}}function nA(n){return n.resolve||{}}function ev(n){return"string"==typeof n.title||null===n.title}function tv(n){return Zn(e=>{const t=n(e);return t?(0,Qt.D)(t).pipe((0,pt.U)(()=>e)):Qe(e)})}let nv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===jt);return r}getResolvedTitleForRoute(t){return t.data[Yc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(WE)},providedIn:"root"}),n})(),WE=(()=>{class n extends nv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qE{}class aA extends class KE{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const nu=new d.OlP("",{providedIn:"root",factory:()=>({})}),rv=new d.OlP("ROUTES");let YE=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ns(t.loadComponent()).pipe(Yn(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Qd(()=>{this.componentLoaders.delete(t)})),i=new fy(r,()=>new ln.x).pipe(Kc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,pt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,D=!1;Array.isArray(h)?v=h:(m=h.create(t).injector,v=my(m.get(rv,[],d.XFs.Self|d.XFs.Optional)));return{routes:v.map(is),injector:m}}),Qd(()=>{this.childrenLoaders.delete(r)})),c=new fy(a,()=>new ln.x).pipe(Kc());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return ns(t()).pipe((0,kr.z)(r=>r instanceof d.YKP||Array.isArray(r)?Qe(r):(0,Qt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QE{}class lA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function cA(n){throw n}function iv(n,e,t){return e.parse("/")}const uA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Gp(){const n=(0,d.f3M)(uE),e=(0,d.f3M)(Jc),t=(0,d.f3M)(xe),r=(0,d.f3M)(d.zs3),i=(0,d.f3M)(d.Sil),a=(0,d.f3M)(rv,{optional:!0})??[],c=(0,d.f3M)(nu,{optional:!0})??{},h=(0,d.f3M)(WE),m=(0,d.f3M)(nv,{optional:!0}),v=(0,d.f3M)(QE,{optional:!0}),D=(0,d.f3M)(qE,{optional:!0}),I=new On(null,n,e,t,r,i,my(a));return v&&(I.urlHandlingStrategy=v),D&&(I.routeReuseStrategy=D),I.titleStrategy=m??h,function zp(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,I),I}let On=(()=>{class n{constructor(t,r,i,a,c,h,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ln.x,this.errorHandler=cA,this.malformedUriErrorHandler=iv,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Qe(void 0),this.urlHandlingStrategy=new lA,this.routeReuseStrategy=new aA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(YE),this.configLoader.onLoadEndListener=R=>this.triggerEvent(new kT(R)),this.configLoader.onLoadStartListener=R=>this.triggerEvent(new RT(R)),this.ngModule=c.get(d.h0i),this.console=c.get(d.c2e);const I=c.get(d.R0b);this.isNgZoneEnabled=I instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function yy(){return new Dl(new zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TE(this.currentUrlTree,this.rootComponentType),this.transitions=new Hn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(dr(i=>0!==i.id),(0,pt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Zn(i=>{let a=!1,c=!1;return Qe(i).pipe(Yn(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(h=>{const m=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Wp(h.source)&&(this.browserUrlTree=h.extractedUrl),Qe(h).pipe(Zn(I=>{const R=this.transitions.getValue();return r.next(new Py(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),R!==this.transitions.getValue()?bl.E:Promise.resolve(I)}),function Zy(n,e,t,r){return Zn(i=>function VE(n,e,t,r,i){return new BE(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,pt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Yn(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},i.urlAfterRedirects=I.urlAfterRedirects}),function rA(n,e,t,r,i,a){return(0,kr.z)(c=>function JT(n,e,t,r,i,a,c="emptyOnly",h="legacy"){return new TP(n,e,t,r,i,c,h,a).recognize().pipe(Zn(m=>null===m?function Yy(n){return new Un.y(e=>e.error(n))}(new UE):Qe(m)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,a).pipe((0,pt.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Yn(I=>{if(i.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(L,I)}this.browserUrlTree=I.urlAfterRedirects}const R=new xT(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(R)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:L,source:j,restoredState:te,extras:ne}=h,Ue=new Py(R,this.serializeUrl(L),j,te);r.next(Ue);const Xe=TE(L,this.rootComponentType).snapshot;return Qe(i={...h,targetSnapshot:Xe,urlAfterRedirects:L,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),bl.E}),Yn(h=>{const m=new Pt(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,pt.U)(h=>i={...h,guards:Np(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function vP(n,e){return(0,kr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?Qe({...t,guardsResult:!0}):function bP(n,e,t,r){return(0,Qt.D)(n).pipe((0,kr.z)(i=>function SP(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Qe(a.map(h=>{const m=Ml(e)??i,v=da(h,m);return ns(function yP(n){return n&&hh(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(bo())})).pipe(ph()):Qe(!0)}(i.component,i.route,t,e,r)),bo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,kr.z)(h=>h&&function WT(n){return"boolean"==typeof n}(h)?function wP(n,e,t,r){return(0,Qt.D)(e).pipe(sa(i=>nE(function CP(n,e){return null!==n&&e&&e(new DE(n)),Qe(!0)}(i.route.parent,r),function EP(n,e){return null!==n&&e&&e(new IE(n)),Qe(!0)}(i.route,r),function IP(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Gy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>rE(()=>Qe(c.guards.map(m=>{const v=Ml(c.node)??t,D=da(m,v);return ns(function qT(n){return n&&hh(n.canActivateChild)}(D)?D.canActivateChild(r,n):v.runInContext(()=>D(r,n))).pipe(bo())})).pipe(ph())));return Qe(a).pipe(ph())}(n,i.path,t),function DP(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const i=r.map(a=>rE(()=>{const c=Ml(e)??t,h=da(a,c);return ns(function _P(n){return n&&hh(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(bo())}));return Qe(i).pipe(ph())}(n,i.route,t))),bo(i=>!0!==i,!0))}(r,a,n,e):Qe(h)),(0,pt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),Yn(h=>{if(i.guardsResult=h.guardsResult,Sl(h.guardsResult))throw ME(0,h.guardsResult);const m=new wE(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),dr(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),tv(h=>{if(h.guards.canActivateChecks.length)return Qe(h).pipe(Yn(m=>{const v=new EE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),Zn(m=>{let v=!1;return Qe(m).pipe(function Jy(n,e){return(0,kr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qe(t);let a=0;return(0,Qt.D)(i).pipe(sa(c=>function GE(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!ev(i)&&(a[Yc]=i.title),function iA(n,e,t,r){const i=function sA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Qe({});const a={};return(0,Qt.D)(i).pipe((0,kr.z)(c=>function oA(n,e,t,r){const i=Ml(e)??r,a=da(n,i);return ns(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(bo(),Yn(h=>{a[c]=h}))),El(1),function oE(n){return(0,pt.U)(()=>n)}(a),wo(c=>fh(c)?bl.E:qc(c)))}(a,n,e,r).pipe((0,pt.U)(c=>(n._resolvedData=c,n.data=NT(n,t).resolve,i&&ev(i)&&(n.data[Yc]=i.title),null)))}(c.route,r,n,e)),Yn(()=>a++),El(1),(0,kr.z)(c=>a===i.length?Qe(t):bl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Yn({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),Yn(m=>{const v=new CE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}))}),tv(h=>{const m=v=>{const D=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(v.routeConfig).pipe(Yn(I=>{v.component=I}),(0,pt.U)(()=>{})));for(const I of v.children)D.push(...m(I));return D};return yT(m(h.targetSnapshot.root)).pipe(Zc(),ts(1))}),tv(()=>this.afterPreactivation()),(0,pt.U)(h=>{const m=function Pp(n,e,t){const r=ah(n,e._root,t?t._root:void 0);return new kp(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:m}}),Yn(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(r=>(new OE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),Yn({next(){a=!0},complete(){a=!0}}),Qd(()=>{a||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),wo(h=>{if(c=!0,By(h)){RE(h)||(this.navigated=!0,this.restoreHistory(i,!0));const m=new xp(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(m),RE(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wp(i.source)};this.scheduleNavigation(v,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new bE(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(m);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return bl.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(is),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:h,preserveFragment:m}=r,v=i||this.routerState.root,D=m?this.currentUrlTree.fragment:c;let I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),Do(v,this.currentUrlTree,t,I,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Sl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function MP(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...uA}:!1===r?{...dA}:r,Sl(t))return vy(this.currentUrlTree,t,i);const a=this.parseUrl(t);return vy(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ca(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let h,m,v;c?(h=c.resolve,m=c.reject,v=c.promise):v=new Promise((R,L)=>{h=R,m=L});const D=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),I=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:D,targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new xp(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:function(){return Gp()},providedIn:"root"}),n})();function Wp(n){return"imperative"!==n}class sv{}let Kp=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(dr(t=>t instanceof ca),sa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,h=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,Qt.D)(i).pipe((0,vl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qe(null);const a=i.pipe((0,kr.z)(c=>null===c?Qe(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Qt.D)([a,c]).pipe((0,vl.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(On),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(sv),d.LFG(YE))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ru=new d.OlP("");let iu=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Py?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ca&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof SE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new SE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function su(n,e){return{\u0275kind:n,\u0275providers:e}}function av(n){return[{provide:rv,multi:!0,useValue:n}]}function rC(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(On),i=n.get(hA);1===n.get(lv)&&r.initialNavigation(),n.get(iC,null,d.XFs.Optional)?.setUpPreloading(),n.get(ru,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const hA=new d.OlP("",{factory:()=>new ln.x}),lv=new d.OlP("",{providedIn:"root",factory:()=>1});const iC=new d.OlP("");function sC(n){return su(0,[{provide:iC,useExisting:Kp},{provide:sv,useExisting:n}])}const lC=new d.OlP("ROUTER_FORROOT_GUARD"),gA=[xe,{provide:uE,useClass:Tp},{provide:On,useFactory:Gp},Jc,{provide:Xc,useFactory:function ov(n){return n.routerState.root},deps:[On]},YE];function mA(){return new d.PXZ("Router",On)}let cC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gA,[],av(t),{provide:lC,useFactory:Fl,deps:[[On,new d.FiY,new d.tp0]]},{provide:nu,useValue:r||{}},r?.useHash?{provide:ae,useClass:et}:{provide:ae,useClass:Je},{provide:ru,useFactory:()=>{const n=(0,d.f3M)(On),e=(0,d.f3M)(Uf),t=(0,d.f3M)(nu);return t.scrollOffset&&e.setOffset(t.scrollOffset),new iu(n,e,t)}},r?.preloadingStrategy?sC(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:mA},r?.initialNavigation?RP(r):[],[{provide:ou,useFactory:rC},{provide:d.tb,multi:!0,useExisting:ou}]]}}static forChild(t){return{ngModule:n,providers:[av(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lC,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Hy]}),n})();function Fl(n){return"guarded"}function RP(n){return["disabled"===n.initialNavigation?su(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(On);return()=>{e.setUpLocationChangeListener()}}},{provide:lv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?su(2,[{provide:lv,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(G,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(On),h=e.get(hA);(function i(a){e.get(On).events.pipe(dr(h=>h instanceof ca||h instanceof xp||h instanceof bE),(0,pt.U)(h=>h instanceof ca||h instanceof xp&&(0===h.code||1===h.code)&&null),dr(h=>null!==h),ts(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),c.afterPreactivation=()=>(a(!0),r||h.closed?Qe(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const ou=new d.OlP("");class Ll{constructor(e,t,r){this.code=e,this.name=t,this.price=r}}class bA extends wl.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Ei={setInterval(n,e,...t){const{delegate:r}=Ei;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ei;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var gh=F(8737);class sr extends bA{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return Ei.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ei.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,gh.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ao={now:()=>(Ao.delegate||Date).now(),delegate:void 0};class ga{constructor(e,t=ga.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ga.now=Ao.now;class Kr extends ga{constructor(e,t=ga.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const au=new Kr(sr),lu=au;var Lt=F(9681);(0,Lt.registerVersion)("firebase","9.14.0","app");var q=F(5861),rt=F(2090),Or=F(4859),Pr=F(1877),ss=F(8766);const cv="@firebase/installations",Jp="0.5.16",dv=`w:${Jp}`,hv="FIS_v2",Mo=new rt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function fv(n){return n instanceof rt.ZR&&n.code.includes("request-failed")}function pv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function pC(n){return{token:n.token,requestStatus:2,expiresIn:EA(n.expiresIn),creationTime:Date.now()}}function mh(n,e){return _h.apply(this,arguments)}function _h(){return(_h=(0,q.Z)(function*(n,e){const r=(yield e.json()).error;return Mo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function gC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yh(n,{refreshToken:e}){const t=gC(n);return t.append("Authorization",function eg(n){return`${hv} ${n}`}(e)),t}function du(n){return vh.apply(this,arguments)}function vh(){return(vh=(0,q.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function EA(n){return Number(n.replace("s","000"))}function tg(n,e){return bh.apply(this,arguments)}function bh(){return(bh=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=pv(n),i=gC(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const h={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:hv,appId:n.appId,sdkVersion:dv})},m=yield du(()=>fetch(r,h));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:pC(v.authToken)}}throw yield mh("Create Installation",m)})).apply(this,arguments)}function gv(n){return new Promise(e=>{setTimeout(e,n)})}const mC=/^[cdef][\w-]{21}$/;function _v(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function yv(n){return function mv(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return mC.test(t)?t:""}catch{return""}}function hu(n){return`${n.appName}!${n.appId}`}const Vl=new Map;function vv(n,e){const t=hu(n);vC(t,e),function bC(n,e){const t=function bv(){return!ma&&"BroadcastChannel"in self&&(ma=new BroadcastChannel("[Firebase] FID Change"),ma.onmessage=n=>{vC(n.data.key,n.data.fid)}),ma}();t&&t.postMessage({key:n,fid:e}),function rg(){0===Vl.size&&ma&&(ma.close(),ma=null)}()}(t,e)}function vC(n,e){const t=Vl.get(n);if(t)for(const r of t)r(e)}let ma=null;const _a="firebase-installations-store";let ig=null;function sg(){return ig||(ig=(0,ss.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(_a)}})),ig}function wh(n,e){return og.apply(this,arguments)}function og(){return(og=(0,q.Z)(function*(n,e){const t=hu(n),i=(yield sg()).transaction(_a,"readwrite"),a=i.objectStore(_a),c=yield a.get(t);return yield a.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&vv(n,e.fid),e})).apply(this,arguments)}function ag(n){return CC.apply(this,arguments)}function CC(){return(CC=(0,q.Z)(function*(n){const e=hu(n),r=(yield sg()).transaction(_a,"readwrite");yield r.objectStore(_a).delete(e),yield r.done})).apply(this,arguments)}function Eh(n,e){return wv.apply(this,arguments)}function wv(){return(wv=(0,q.Z)(function*(n,e){const t=hu(n),i=(yield sg()).transaction(_a,"readwrite"),a=i.objectStore(_a),c=yield a.get(t),h=e(c);return void 0===h?yield a.delete(t):yield a.put(h,t),yield i.done,h&&(!c||c.fid!==h.fid)&&vv(n,h.fid),h})).apply(this,arguments)}function lg(n){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,q.Z)(function*(n){let e;const t=yield Eh(n.appConfig,r=>{const i=or(r),a=DC(n,i);return e=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function or(n){return Sv(n||{fid:_v(),registrationStatus:0})}function DC(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Mo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function CA(n,e){return Cv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:IC(n)}:{installationEntry:e}}function Cv(){return(Cv=(0,q.Z)(function*(n,e){try{const t=yield tg(n,e);return wh(n.appConfig,t)}catch(t){throw fv(t)&&409===t.customData.serverCode?yield ag(n.appConfig):yield wh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function IC(n){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,q.Z)(function*(n){let e=yield Iv(n.appConfig);for(;1===e.registrationStatus;)yield gv(100),e=yield Iv(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield lg(n);return r||t}return e})).apply(this,arguments)}function Iv(n){return Eh(n,e=>{if(!e)throw Mo.create("installation-not-found");return Sv(e)})}function Sv(n){return function fu(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function DA(n,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=(0,q.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=SC(n,t),i=yh(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const h={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dv,appId:n.appId}})},m=yield du(()=>fetch(r,h));if(m.ok)return pC(yield m.json());throw yield mh("Generate Auth Token",m)})).apply(this,arguments)}function SC(n,{fid:e}){return`${pv(n)}/${e}/authTokens:generate`}function Av(n){return cg.apply(this,arguments)}function cg(){return(cg=(0,q.Z)(function*(n,e=!1){let t;const r=yield Eh(n.appConfig,a=>{if(!TC(a))throw Mo.create("not-registered");const c=a.authToken;if(!e&&Ls(c))return a;if(1===c.requestStatus)return t=OP(n,e),a;{if(!navigator.onLine)throw Mo.create("app-offline");const h=as(a);return t=Fs(n,h),h}});return t?yield t:r.authToken})).apply(this,arguments)}function OP(n,e){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,q.Z)(function*(n,e){let t=yield ug(n.appConfig);for(;1===t.authToken.requestStatus;)yield gv(100),t=yield ug(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Av(n,e):r})).apply(this,arguments)}function ug(n){return Eh(n,e=>{if(!TC(e))throw Mo.create("not-registered");return function AC(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Fs(n,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,q.Z)(function*(n,e){try{const t=yield DA(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield wh(n.appConfig,r),t}catch(t){if(!fv(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield wh(n.appConfig,r)}else yield ag(n.appConfig);throw t}})).apply(this,arguments)}function TC(n){return void 0!==n&&2===n.registrationStatus}function Ls(n){return 2===n.requestStatus&&!function os(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function as(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function xv(){return(xv=(0,q.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield lg(e);return r?r.catch(console.error):Av(e).catch(console.error),t.fid})).apply(this,arguments)}function Rv(){return(Rv=(0,q.Z)(function*(n,e=!1){const t=n;return yield SA(t),(yield Av(t,e)).token})).apply(this,arguments)}function SA(n){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,q.Z)(function*(n){const{registrationPromise:e}=yield lg(n);e&&(yield e)})).apply(this,arguments)}function hg(n){return Mo.create("missing-app-config-values",{valueName:n})}const Pv="installations",fg=n=>{const e=n.getProvider("app").getImmediate(),t=function AA(n){if(!n||!n.options)throw hg("App Configuration");if(!n.name)throw hg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw hg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Lt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},kC=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Lt._getProvider)(e,Pv).getImmediate();return{getId:()=>function MC(n){return xv.apply(this,arguments)}(t),getToken:i=>function IA(n){return Rv.apply(this,arguments)}(t,i)}};(function OC(){(0,Lt._registerComponent)(new Or.wA(Pv,fg,"PUBLIC")),(0,Lt._registerComponent)(new Or.wA("installations-internal",kC,"PRIVATE"))})(),(0,Lt.registerVersion)(cv,Jp),(0,Lt.registerVersion)(cv,Jp,"esm2017");const pg="@firebase/remote-config",Zr=new rt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class VC{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,q.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&c.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(c),a})()}}function BC(n=navigator){return n.languages&&n.languages[0]||n.language}class UC{constructor(e,t,r,i,a,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=c}fetch(e){var t=this;return(0,q.Z)(function*(){var r,i,a;const[c,h]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),v=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,D={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},I={sdk_version:t.sdkVersion,app_instance_id:c,app_instance_id_token:h,app_id:t.appId,language_code:BC()},R={method:"POST",headers:D,body:JSON.stringify(I)},L=fetch(v,R),j=new Promise((Ze,ft)=>{e.signal.addEventListener(()=>{const bt=new Error("The operation was aborted.");bt.name="AbortError",ft(bt)})});let te;try{yield Promise.race([L,j]),te=yield L}catch(Ze){let ft="fetch-client-network";throw"AbortError"===(null===(r=Ze)||void 0===r?void 0:r.name)&&(ft="fetch-timeout"),Zr.create(ft,{originalErrorMessage:null===(i=Ze)||void 0===i?void 0:i.message})}let ne=te.status;const Ue=te.headers.get("ETag")||void 0;let Xe,nt;if(200===te.status){let Ze;try{Ze=yield te.json()}catch(ft){throw Zr.create("fetch-client-parse",{originalErrorMessage:null===(a=ft)||void 0===a?void 0:a.message})}Xe=Ze.entries,nt=Ze.state}if("INSTANCE_STATE_UNSPECIFIED"===nt?ne=500:"NO_CHANGE"===nt?ne=304:("NO_TEMPLATE"===nt||"EMPTY_CONFIG"===nt)&&(Xe={}),304!==ne&&200!==ne)throw Zr.create("fetch-status",{httpStatus:ne});return{status:ne,eTag:Ue,config:Xe}})()}}class $C{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,q.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,q.Z)(function*(){yield function HC(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function jC(n){if(!(n instanceof rt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+(0,rt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class Uv{constructor(e,t,r,i,a){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pu(n,e){var t;const r=n.target.error||void 0;return Zr.create(e,{originalErrorMessage:r&&(null===(t=r)||void 0===t?void 0:t.message)})}const Ci="app_namespace_store";class HP{constructor(e,t,r,i=function gu(){return new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(pu(i,"storage-open"))},r.onsuccess=i=>{n(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ci,{keyPath:"compositeKey"})}}catch(r){e(Zr.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,q.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{var c;const m=r.transaction([Ci],"readonly").objectStore(Ci),v=t.createCompositeKey(e);try{const D=m.get(v);D.onerror=I=>{a(pu(I,"storage-get"))},D.onsuccess=I=>{const R=I.target.result;i(R?R.value:void 0)}}catch(D){a(Zr.create("storage-get",{originalErrorMessage:null===(c=D)||void 0===c?void 0:c.message}))}})})()}set(e,t){var r=this;return(0,q.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,c)=>{var h;const v=i.transaction([Ci],"readwrite").objectStore(Ci),D=r.createCompositeKey(e);try{const I=v.put({compositeKey:D,value:t});I.onerror=R=>{c(pu(R,"storage-set"))},I.onsuccess=()=>{a()}}catch(I){c(Zr.create("storage-set",{originalErrorMessage:null===(h=I)||void 0===h?void 0:h.message}))}})})()}delete(e){var t=this;return(0,q.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{var c;const m=r.transaction([Ci],"readwrite").objectStore(Ci),v=t.createCompositeKey(e);try{const D=m.delete(v);D.onerror=I=>{a(pu(I,"storage-delete"))},D.onsuccess=()=>{i()}}catch(D){a(Zr.create("storage-delete",{originalErrorMessage:null===(c=D)||void 0===c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Hv{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,q.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const h=yield i;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function $P(){return yt.apply(this,arguments)}function yt(){return(yt=(0,q.Z)(function*(){if(!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}!function jP(){(0,Lt._registerComponent)(new Or.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zr.create("registration-window");if(!(0,rt.hl)())throw Zr.create("indexed-db-unavailable");const{projectId:a,apiKey:c,appId:h}=r.options;if(!a)throw Zr.create("registration-project-id");if(!c)throw Zr.create("registration-api-key");if(!h)throw Zr.create("registration-app-id");const m=new HP(h,r.name,t=t||"firebase"),v=new Hv(m),D=new Pr.Yd(pg);D.logLevel=Pr.in.ERROR;const I=new UC(i,Lt.SDK_VERSION,t,a,c,h),R=new $C(I,m),L=new VC(R,m,v,D),j=new Uv(r,L,v,m,D);return function PA(n){const e=(0,rt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(j),j},"PUBLIC").setMultipleInstances(!0)),(0,Lt.registerVersion)(pg,"0.3.15"),(0,Lt.registerVersion)(pg,"0.3.15","esm2017")}();const BA="/firebase-messaging-sw.js",UA="/firebase-cloud-messaging-push-scope",WC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qC="google.c.a.c_id",_g="google.c.a.c_l",yg="google.c.a.ts",Pn="google.c.a.e";var Bl=(()=>{return(n=Bl||(Bl={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Bl;var n})();function Vs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function HA(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const vg="fcm_token_details_db",jv="fcm_token_object_Store";function ZC(n){return $v.apply(this,arguments)}function $v(){return $v=(0,q.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(vg))return null;let e=null;return(yield(0,ss.X3)(vg,5,{upgrade:(r=(0,q.Z)(function*(i,a,c,h){var m;if(a<2||!i.objectStoreNames.contains(jv))return;const v=h.objectStore(jv),D=yield v.index("fcmSenderId").get(n);if(yield v.clear(),D)if(2===a){const I=D;if(!I.auth||!I.p256dh||!I.endpoint)return;e={token:I.fcmToken,createTime:null!==(m=I.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:I.auth,p256dh:I.p256dh,endpoint:I.endpoint,swScope:I.swScope,vapidKey:"string"==typeof I.vapidKey?I.vapidKey:Vs(I.vapidKey)}}}else if(3===a){const I=D;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Vs(I.auth),p256dh:Vs(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Vs(I.vapidKey)}}}else if(4===a){const I=D;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Vs(I.auth),p256dh:Vs(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Vs(I.vapidKey)}}}}),function(a,c,h,m){return r.apply(this,arguments)})})).close(),yield(0,ss.Lj)(vg),yield(0,ss.Lj)("fcm_vapid_details_db"),yield(0,ss.Lj)("undefined"),jA(e)?e:null;var r}),$v.apply(this,arguments)}function jA(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ul="firebase-messaging-store";let zv=null;function Gv(){return zv||(zv=(0,ss.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ul)}})),zv}function Th(n){return bg.apply(this,arguments)}function bg(){return(bg=(0,q.Z)(function*(n){const e=jl(n),r=yield(yield Gv()).transaction(Ul).objectStore(Ul).get(e);if(r)return r;{const i=yield ZC(n.appConfig.senderId);if(i)return yield wg(n,i),i}})).apply(this,arguments)}function wg(n,e){return Eg.apply(this,arguments)}function Eg(){return(Eg=(0,q.Z)(function*(n,e){const t=jl(n),i=(yield Gv()).transaction(Ul,"readwrite");return yield i.objectStore(Ul).put(e,t),yield i.done,e})).apply(this,arguments)}function zA(n){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,q.Z)(function*(n){const e=jl(n),r=(yield Gv()).transaction(Ul,"readwrite");yield r.objectStore(Ul).delete(e),yield r.done})).apply(this,arguments)}function jl({appConfig:n}){return n.appId}const yr=new rt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function WA(n,e){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,q.Z)(function*(n,e){var t;const r=yield qv(n),i=qA(e),a={method:"POST",headers:r,body:JSON.stringify(i)};let c;try{c=yield(yield fetch(Wv(n.appConfig),a)).json()}catch(h){throw yr.create("token-subscribe-failed",{errorInfo:null===(t=h)||void 0===t?void 0:t.toString()})}if(c.error)throw yr.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw yr.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function YC(n,e){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,q.Z)(function*(n,e){var t;const r=yield qv(n),i=qA(e.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)};let c;try{c=yield(yield fetch(`${Wv(n.appConfig)}/${e.token}`,a)).json()}catch(h){throw yr.create("token-update-failed",{errorInfo:null===(t=h)||void 0===t?void 0:t.toString()})}if(c.error)throw yr.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw yr.create("token-update-no-token");return c.token})).apply(this,arguments)}function QC(n,e){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,q.Z)(function*(n,e){var t;const i={method:"DELETE",headers:yield qv(n)};try{const c=yield(yield fetch(`${Wv(n.appConfig)}/${e}`,i)).json();if(c.error)throw yr.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(a){throw yr.create("token-unsubscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function Wv({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function qv(n){return XC.apply(this,arguments)}function XC(){return(XC=(0,q.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function qA({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==WC&&(i.web.applicationPubKey=r),i}const zP=6048e5;function GP(n){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,q.Z)(function*(n){const e=yield ZA(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Vs(e.getKey("auth")),p256dh:Vs(e.getKey("p256dh"))},r=yield Th(n.firebaseDependencies);if(r){if(YA(r.subscriptionOptions,t))return Date.now()>=r.createTime+zP?KA(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield QC(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _u(n.firebaseDependencies,t)}return _u(n.firebaseDependencies,t)})).apply(this,arguments)}function Ah(n){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,q.Z)(function*(n){const e=yield Th(n.firebaseDependencies);e&&(yield QC(n.firebaseDependencies,e.token),yield zA(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function KA(n,e){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,q.Z)(function*(n,e){try{const t=yield YC(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield wg(n.firebaseDependencies,r),t}catch(t){throw yield Ah(n),t}})).apply(this,arguments)}function _u(n,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,q.Z)(function*(n,e){const r={token:yield WA(n,e),createTime:Date.now(),subscriptionOptions:e};return yield wg(n,r),r.token})).apply(this,arguments)}function ZA(n,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,q.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:HA(e)})})).apply(this,arguments)}function YA(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function JC(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function eD(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function QA(n,e){!e.data||(n.data=e.data)}(e,n),function XA(n,e){var t,r,i,a,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const h=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;h&&(n.fcmOptions.link=h);const m=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function Mh(n){return"object"==typeof n&&!!n&&qC in n}function tD(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Qv(n){return yr.create("missing-app-config-values",{valueName:n})}tD("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tD("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rD{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function nD(n){if(!n||!n.options)throw Qv("App Configuration Object");if(!n.name)throw Qv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Qv(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function iD(n){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,q.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(BA,{scope:UA}),n.swRegistration.update().catch(()=>{})}catch(t){throw yr.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function JA(n,e){return xh.apply(this,arguments)}function xh(){return(xh=(0,q.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield iD(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw yr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function eM(n,e){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,q.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=WC)})).apply(this,arguments)}function Jv(){return(Jv=(0,q.Z)(function*(n,e){if(!navigator)throw yr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yr.create("permission-blocked");return yield eM(n,e?.vapidKey),yield JA(n,e?.serviceWorkerRegistration),GP(n)})).apply(this,arguments)}function tM(n,e,t){return eb.apply(this,arguments)}function eb(){return(eb=(0,q.Z)(function*(n,e,t){const r=tb(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[qC],message_name:t[_g],message_time:t[yg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tb(n){switch(n){case Bl.NOTIFICATION_CLICKED:return"notification_open";case Bl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xg(){return(xg=(0,q.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Bl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(JC(t)):n.onMessageHandler.next(JC(t)));const r=t.data;Mh(r)&&"1"===r[Pn]&&(yield tM(n,t.messageType,r))})).apply(this,arguments)}const sD="@firebase/messaging",rM=n=>{const e=new rD(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function nM(n,e){return xg.apply(this,arguments)}(e,t)),e},iM=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Xv(n,e){return Jv.apply(this,arguments)}(e,r)}};function aD(){return nb.apply(this,arguments)}function nb(){return(nb=(0,q.Z)(function*(){try{yield(0,rt.eu)()}catch{return!1}return typeof window<"u"&&(0,rt.hl)()&&(0,rt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sM(){(0,Lt._registerComponent)(new Or.wA("messaging",rM,"PUBLIC")),(0,Lt._registerComponent)(new Or.wA("messaging-internal",iM,"PRIVATE")),(0,Lt.registerVersion)(sD,"0.11.0"),(0,Lt.registerVersion)(sD,"0.11.0","esm2017")}();const Og="analytics",rb="firebase_id",sb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uD="https://www.googletagmanager.com/gtag/js",vr=new Pr.Yd("@firebase/analytics");function Pg(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function aM(n,e){const t=document.createElement("script");t.src=`${uD}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function yu(n,e,t,r,i,a){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,q.Z)(function*(n,e,t,r,i,a){const c=r[i];try{if(c)yield e[c];else{const m=(yield Pg(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(h){vr.error(h)}n("config",i,a)})).apply(this,arguments)}function lM(n,e,t,r,i){return hD.apply(this,arguments)}function hD(){return(hD=(0,q.Z)(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const h=yield Pg(t);for(const m of c){const v=h.find(I=>I.measurementId===m),D=v&&e[v.appId];if(!D){a=[];break}a.push(D)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){vr.error(a)}})).apply(this,arguments)}function cM(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(uD)&&t.src.includes(n))return t;return null}const Di=new rt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cb=new class gD{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function mD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function _D(n){return ub.apply(this,arguments)}function ub(){return(ub=(0,q.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:mD(r)},a=sb.replace("{app-id}",t),c=yield fetch(a,i);if(200!==c.status&&304!==c.status){let h="";try{const m=yield c.json();null!==(e=m.error)&&void 0!==e&&e.message&&(h=m.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()})).apply(this,arguments)}function uM(n){return db.apply(this,arguments)}function db(){return(db=(0,q.Z)(function*(n,e=cb,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw Di.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Di.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new dM;return setTimeout((0,q.Z)(function*(){h.abort()}),void 0!==t?t:6e4),yD({appId:r,apiKey:i,measurementId:a},c,h,e)})).apply(this,arguments)}function yD(n,e,t){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,q.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=cb){var a,c;const{appId:h,measurementId:m}=n;try{yield YP(r,e)}catch(v){if(m)return vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${null===(a=v)||void 0===a?void 0:a.message}]`),{appId:h,measurementId:m};throw v}try{const v=yield _D(n);return i.deleteThrottleMetadata(h),v}catch(v){const D=v;if(!vD(D)){if(i.deleteThrottleMetadata(h),m)return vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${D?.message}]`),{appId:h,measurementId:m};throw v}const I=503===Number(null===(c=D?.customData)||void 0===c?void 0:c.httpStatus)?(0,rt.$s)(t,i.intervalMillis,30):(0,rt.$s)(t,i.intervalMillis),R={throttleEndTimeMillis:Date.now()+I,backoffCount:t+1};return i.setThrottleMetadata(h,R),vr.debug(`Calling attemptFetch again in ${I} millis`),yD(n,R,r,i)}})).apply(this,arguments)}function YP(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Di.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vD(n){if(!(n instanceof rt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class dM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hb,_b;function bD(){return(bD=(0,q.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function wD(n){_b=n}function ED(n){hb=n}function mM(){return $l.apply(this,arguments)}function $l(){return($l=(0,q.Z)(function*(){var n;if(!(0,rt.hl)())return vr.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,rt.eu)()}catch(e){return vr.warn(Di.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function Lg(){return(Lg=(0,q.Z)(function*(n,e,t,r,i,a,c){var h;const m=uM(n);m.then(L=>{t[L.measurementId]=L.appId,n.options.measurementId&&L.measurementId!==n.options.measurementId&&vr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>vr.error(L)),e.push(m);const v=mM().then(L=>{if(L)return r.getId()}),[D,I]=yield Promise.all([m,v]);cM(a)||aM(a,D.measurementId),_b&&(i("consent","default",_b),wD(void 0)),i("js",new Date);const R=null!==(h=c?.config)&&void 0!==h?h:{};return R.origin="firebase",R.update=!0,null!=I&&(R[rb]=I),i("config",D.measurementId,R),hb&&(i("set",hb),ED(void 0)),D.measurementId})).apply(this,arguments)}class DD{constructor(e){this.app=e}_delete(){return delete Bs[this.app.options.appId],Promise.resolve()}}let Bs={},yb=[];const ID={};let SD,xo,Vg="dataLayer",vb=!1;function Rh(n,e,t){!function yM(){const n=[];if((0,rt.ru)()&&n.push("This is a browser extension environment."),(0,rt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Di.create("invalid-analytics-context",{errorInfo:e});vr.warn(t.message)}}();const r=n.options.appId;if(!r)throw Di.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Di.create("no-api-key");vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bs[r])throw Di.create("already-exists",{id:r});if(!vb){!function dD(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Vg);const{wrappedGtag:a,gtagCore:c}=function ob(n,e,t,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function fD(n,e,t,r){function a(){return(a=(0,q.Z)(function*(c,h,m){try{"event"===c?yield lM(n,e,t,h,m):"config"===c?yield yu(n,e,t,r,h,m):"consent"===c?n("consent","update",m):n("set",h)}catch(v){vr.error(v)}})).apply(this,arguments)}return function i(c,h,m){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(Bs,yb,ID,Vg,"gtag");xo=a,SD=c,vb=!0}return Bs[r]=function CD(n,e,t,r,i,a,c){return Lg.apply(this,arguments)}(n,yb,ID,e,SD,Vg,t),new DD(n)}function Us(){return wb.apply(this,arguments)}function wb(){return(wb=(0,q.Z)(function*(){if((0,rt.ru)()||!(0,rt.zI)()||!(0,rt.hl)())return!1;try{return yield(0,rt.eu)()}catch{return!1}})).apply(this,arguments)}const AD="@firebase/analytics";!function xD(){(0,Lt._registerComponent)(new Or.wA(Og,(e,{options:t})=>Rh(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Lt._registerComponent)(new Or.wA("analytics-internal",function n(e){try{const t=e.getProvider(Og).getImmediate();return{logEvent:(r,i,a)=>function Ug(n,e,t,r){n=(0,rt.m9)(n),function QP(n,e,t,r,i){return bD.apply(this,arguments)}(xo,Bs[n.app.options.appId],e,t,r).catch(i=>vr.error(i))}(t,r,i,a)}}catch(t){throw Di.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Lt.registerVersion)(AD,"0.8.4"),(0,Lt.registerVersion)(AD,"0.8.4","esm2017")}();const kD=new class Cb extends Kr{}(class RD extends sr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var kh=F(9468),Oh=F(5363);const vu=new d.GfV("7.5.0"),Ph="__angularfire_symbol__analyticsIsSupportedValue",Hg="__angularfire_symbol__analyticsIsSupported",Nh="__angularfire_symbol__remoteConfigIsSupportedValue",Fh="__angularfire_symbol__remoteConfigIsSupported",Db="__angularfire_symbol__messagingIsSupportedValue",Ib="__angularfire_symbol__messagingIsSupported";function jg(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(c=>c.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Hg]||(globalThis[Hg]=Us().then(n=>globalThis[Ph]=n).catch(()=>globalThis[Ph]=!1)),globalThis[Ib]||(globalThis[Ib]=aD().then(n=>globalThis[Db]=n).catch(()=>globalThis[Db]=!1)),globalThis[Fh]||(globalThis[Fh]=$P().then(n=>globalThis[Nh]=n).catch(()=>globalThis[Nh]=!1));const $g=(n,e)=>{const t=e?[e]:(0,Lt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function zl(){}class Tb{constructor(e,t=kD){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class bM{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zl,{},zl,zl)),t.pipe(Yn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bu=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Tb(Zone.current)),this.insideAngular=t.run(()=>new Tb(Zone.current,au)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ya(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function wM(n){return ya().ngZone.runOutsideAngular(()=>n())}function va(n){return ya().ngZone.run(()=>n())}function hr(n){return ya(),function EM(n){return function(t){return(t=t.lift(new bM(n.ngZone))).pipe((0,kh.R)(n.outsideAngular),(0,Oh.Q)(n.insideAngular))}}(ya())(n)}const CM=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),va(()=>n.apply(void 0,r))},PD=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=va(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zl,{},zl,zl)))),r[a]=CM(r[a],t));const i=wM(()=>n.apply(this,r));if(!e){if(i instanceof Un.y){const a=ya();return i.pipe((0,kh.R)(a.outsideAngular),(0,Oh.Q)(a.insideAngular))}return va(()=>i)}return i instanceof Un.y?i.pipe(hr):i instanceof Promise?va(()=>new Promise((a,c)=>i.then(h=>va(()=>a(h)),h=>va(()=>c(h))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:va(()=>i)};function ND(){return(0,rr.e)((n,e)=>{let t,r=!1;n.subscribe((0,In.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function Ab(n,e=yl.y){return n=n??FD,(0,rr.e)((t,r)=>{let i,a=!0;t.subscribe((0,In.x)(r,c=>{const h=e(c);(a||!n(i,h))&&(a=!1,i=h,r.next(c))}))})}function FD(n,e){return n===e}var ot,Yr=F(2011),Mb=(F(5881),F(3942)),DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hs={},xb=xb||{},Rt=DM||self;function wu(){}function Lh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Eu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vh="closure_uid_"+(1e9*Math.random()>>>0),aN=0;function LD(n,e,t){return n.call.apply(n.bind,arguments)}function IM(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function br(n,e,t){return(br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LD:IM).apply(null,arguments)}function Ro(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function ko(){this.s=this.s,this.o=this.o}ko.prototype.s=!1,ko.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function zg(n){Object.prototype.hasOwnProperty.call(n,Vh)&&n[Vh]||(n[Vh]=++aN)}(this)},ko.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SM=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function kb(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function TM(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Lh(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Nr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Nr.prototype.h=function(){this.defaultPrevented=!0};var AM=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",wu,e),Rt.removeEventListener("test",wu,e)}catch{}return n}();function Gg(n){return/^[\s\xa0]*$/.test(n)}var Ob=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Wg(n,e){return n<e?-1:n>e?1:0}function qg(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function ls(n){return-1!=qg().indexOf(n)}function Kg(n){return Kg[" "](n),n}Kg[" "]=wu;var Yg,n,xM=ls("Opera"),Gl=ls("Trident")||ls("MSIE"),VD=ls("Edge"),Zg=VD||Gl,Pb=ls("Gecko")&&!(-1!=qg().toLowerCase().indexOf("webkit")&&!ls("Edge"))&&!(ls("Trident")||ls("MSIE"))&&!ls("Edge"),BD=-1!=qg().toLowerCase().indexOf("webkit")&&!ls("Edge");function Nb(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Fb="",UD=(n=qg(),Pb?/rv:([^\);]+)(\)|;)/.exec(n):VD?/Edge\/([\d\.]+)/.exec(n):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):BD?/WebKit\/(\S+)/.exec(n):xM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(UD&&(Fb=UD?UD[1]:""),Gl){var Qg=Nb();if(null!=Qg&&Qg>parseFloat(Fb)){Yg=String(Qg);break e}}Yg=Fb}var lN={};var uN=Rt.document&&Gl&&(Nb()||parseInt(Yg,10))||void 0;function Xg(n,e){if(Nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Pb){e:{try{Kg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dN[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Xg.X.h.call(this)}}wr(Xg,Nr);var dN={2:"touch",3:"pen",4:"mouse"};Xg.prototype.h=function(){Xg.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jg="closure_listenable_"+(1e6*Math.random()|0),em=0;function hN(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++em,this.ba=this.ea=!1}function Bh(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Cu(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Lb(n){const e={};for(const t in n)e[t]=n[t];return e}const Vb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kM(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Vb.length;a++)t=Vb[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Du(n){this.src=n,this.g={},this.h=0}function tm(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=SM(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Bh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bb(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Du.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Bb(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new hN(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var nm="closure_lm_"+(1e6*Math.random()|0),jD={};function $D(n,e,t,r,i){if(r&&r.once)return Uh(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)$D(n,e[a],t,r,i);return null}return t=jb(t),n&&n[Jg]?n.N(e,t,Eu(r)?!!r.capture:!!r,i):zD(n,e,t,!1,r,i)}function zD(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Eu(i)?!!i.capture:!!i,h=Ub(n);if(h||(n[nm]=h=new Du(n)),(t=h.add(e,t,r,c,a)).proxy)return t;if(r=function OM(){const e=fN;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)AM||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(PM(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Uh(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Uh(n,e[a],t,r,i);return null}return t=jb(t),n&&n[Jg]?n.O(e,t,Eu(r)?!!r.capture:!!r,i):zD(n,e,t,!0,r,i)}function GD(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)GD(n,e[a],t,r,i);else r=Eu(r)?!!r.capture:!!r,t=jb(t),n&&n[Jg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bb(a=n.g[e],t,r,i))&&(Bh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ub(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bb(e,t,r,i)),(t=-1<n?e[n]:null)&&WD(t))}function WD(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Jg])tm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(PM(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ub(e))?(tm(t,n),0==t.h&&(t.src=null,e[nm]=null)):Bh(n)}}}function PM(n){return n in jD?jD[n]:jD[n]="on"+n}function fN(n,e){if(n.ba)n=!0;else{e=new Xg(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&WD(n),n=t.call(r,e)}return n}function Ub(n){return(n=n[nm])instanceof Du?n:null}var Hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function jb(n){return"function"==typeof n?n:(n[Hb]||(n[Hb]=function(e){return n.handleEvent(e)}),n[Hb])}function Er(){ko.call(this),this.i=new Du(this),this.P=this,this.I=null}function Cr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Nr(e,n);else if(e instanceof Nr)e.target=e.target||n;else{var i=e;kM(e=new Nr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Hh(c,r,!0,e)&&i}if(i=Hh(c=e.g=n,r,!0,e)&&i,i=Hh(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Hh(c=e.g=t[a],r,!1,e)&&i}function Hh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var h=c.listener,m=c.ha||c.src;c.ea&&tm(n.i,c),i=!1!==h.call(m,r)&&i}}return i&&!r.defaultPrevented}wr(Er,ko),Er.prototype[Jg]=!0,Er.prototype.removeEventListener=function(n,e,t,r){GD(this,n,e,t,r)},Er.prototype.M=function(){if(Er.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Bh(t[r]);delete n.g[e],n.h--}}this.I=null},Er.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Er.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var rm=Rt.JSON.stringify;function pN(){var n=KD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var zb,qD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $b,n=>n.reset());class $b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function NM(n){Rt.setTimeout(()=>{throw n},0)}function Ii(n,e){zb||function Gb(){var n=Rt.Promise.resolve(void 0);zb=function(){n.then(qb)}}(),Wb||(zb(),Wb=!0),KD.add(n,e)}var Wb=!1,KD=new class cs{constructor(){this.h=this.g=null}add(e,t){const r=qD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function qb(){for(var n;n=pN();){try{n.h.call(n.g)}catch(t){NM(t)}var e=qD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Wb=!1}function jh(n,e){Er.call(this),this.h=n||1,this.g=e||Rt,this.j=br(this.lb,this),this.l=Date.now()}function im(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Kb(n,e,t){if("function"==typeof n)t&&(n=br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=br(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function Zb(n){n.g=Kb(()=>{n.g=null,n.i&&(n.i=!1,Zb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wr(jh,Er),(ot=jh.prototype).ca=!1,ot.R=null,ot.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Cr(this,"tick"),this.ca&&(im(this),this.start()))}},ot.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){jh.X.M.call(this),im(this),delete this.g};class ZD extends ko{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zb(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $h(n){ko.call(this),this.h=n,this.g={}}wr($h,ko);var Yb=[];function YD(n,e,t,r){Array.isArray(t)||(t&&(Yb[0]=t.toString()),t=Yb);for(var i=0;i<t.length;i++){var a=$D(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function sm(n){Cu(n.g,function(e,t){this.g.hasOwnProperty(t)&&WD(e)},n),n.g={}}function us(){this.g=!0}function hi(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gN(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return rm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}$h.prototype.M=function(){$h.X.M.call(this),sm(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},us.prototype.Aa=function(){this.g=!1},us.prototype.info=function(){};var Wl={},XD=null;function om(){return XD=XD||new Er}function JD(n){Nr.call(this,Wl.Pa,n)}function Iu(n){const e=om();Cr(e,new JD(e))}function LM(n,e){Nr.call(this,Wl.STAT_EVENT,n),this.stat=e}function Fr(n){const e=om();Cr(e,new LM(e,n))}function eI(n,e){Nr.call(this,Wl.Qa,n),this.size=e}function Su(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}Wl.Pa="serverreachability",wr(JD,Nr),Wl.STAT_EVENT="statevent",wr(LM,Nr),Wl.Qa="timingevent",wr(eI,Nr);var Xb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},am={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lm(){}function ew(){}lm.prototype.h=null;var Mu,Tu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function cm(){Nr.call(this,"d")}function Au(){Nr.call(this,"c")}function zh(){}function Gh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new $h(this),this.O=tI,this.T=new jh(n=Zg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new tw}function tw(){this.i=null,this.g="",this.h=!1}wr(cm,Nr),wr(Au,Nr),wr(zh,lm),zh.prototype.g=function(){return new XMLHttpRequest},zh.prototype.i=function(){return{}},Mu=new zh;var tI=45e3,nw={},um={};function nI(n,e,t){n.K=1,n.v=Ou(js(e)),n.s=t,n.P=!0,VM(n,null)}function VM(n,e){n.F=Date.now(),Wh(n),n.A=js(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),aw(t.i,"t",r),n.C=0,t=n.l.H,n.h=new tw,n.g=Dm(n.l,t?e:null,!n.s),0<n.N&&(n.L=new ZD(br(n.La,n,n.g),n.N)),YD(n.S,n.g,"readystatechange",n.ib),e=n.H?Lb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Iu(),function QD(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",h=a.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var D=v[0];v=v[1];var I=D.split("_");c=2<=I.length&&"type"==I[1]?c+(D+"=")+v+"&":c+(D+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function rw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function rI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=BM(n,t),i==um){4==e&&(n.o=4,Fr(14),r=!1),hi(n.j,n.m,null,"[Incomplete Response]");break}if(i==nw){n.o=4,Fr(15),hi(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hi(n.j,n.m,i,null),iI(n,i)}rw(n)&&i!=um&&i!=nw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Oo(e),e.K=!0,Fr(11))):(hi(n.j,n.m,t,"[Invalid Chunked Response]"),xu(n),dm(n))}function BM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?um:(t=Number(e.substring(t,r)),isNaN(t)?nw:(r+=1)+t>e.length?um:(e=e.substr(r,t),n.C=r+t,e))}function Wh(n){n.V=Date.now()+n.O,UM(n,n.O)}function UM(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Su(br(n.gb,n),e)}function iw(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function dm(n){0==n.l.G||n.I||bm(n.l,n)}function xu(n){iw(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,im(n.T),sm(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function iI(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cw(t.h,n)))if(!n.J&&cw(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Nu(t),fe(t)}_n(t),Fr(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Su(br(t.cb,t),6e3));if(1>=gm(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Po(t,11)}else if((n.J||t.g==n)&&Nu(t),!Gg(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const D=v[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const I=v[4];null!=I&&(t.Ca=I,t.j.info("SVER="+t.Ca));const R=v[5];null!=R&&"number"==typeof R&&0<R&&(t.J=r=1.5*R,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const j=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var a=r.h;a.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(uw(a,a.h),a.h=null))}if(r.D){const te=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.za=te,mn(r.F,r.D,te))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=Cm(r,r.H?r.ka:null,r.V),c.J){WM(r.h,c);var h=c,m=r.J;m&&h.setTimeout(m),h.B&&(iw(h),Wh(h)),r.g=c}else Xt(r);0<t.i.length&&Be(t)}else"stop"!=v[0]&&"close"!=v[0]||Po(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Po(t,7):J(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}Iu()}catch{}}function sI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lh(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function hm(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lh(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function HM(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ot=Gh.prototype).setTimeout=function(n){this.O=n},ot.ib=function(n){n=n.target;const e=this.L;e&&3==w(n)?e.l():this.La(n)},ot.La=function(n){try{if(n==this.g)e:{const D=w(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||Zg||this.g&&(this.h.h||this.g.fa()||C(this.g)))){this.I||4!=D||7==e||Iu(),iw(this);var t=this.g.aa();this.Y=t;t:if(rw(this)){var r=C(this.g);n="";var i=r.length,a=4==w(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xu(this),dm(this);var c="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function Qb(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gg(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Fr(12),xu(this),dm(this);break e}hi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,iI(this,t)}this.P?(rI(this,D,c),Zg&&this.i&&3==D&&(YD(this.S,this.T,"tick",this.hb),this.T.start())):(hi(this.j,this.m,c,null),iI(this,c)),4==D&&xu(this),this.i&&!this.I&&(4==D?bm(this.l,this):(this.i=!1,Wh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Fr(12)):(this.o=0,Fr(13)),xu(this),dm(this)}}}catch{}},ot.hb=function(){if(this.g){var n=w(this.g),e=this.g.fa();this.C<e.length&&(iw(this),rI(this,n,e),this.i&&4!=n&&Wh(this))}},ot.cancel=function(){this.I=!0,xu(this)},ot.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function FM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Iu(),Fr(17)),xu(this),this.o=2,dm(this)):UM(this,this.V-n)};var oI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Si(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Si){this.h=void 0!==e?e:n.h,Ru(this,n.j),this.s=n.s,this.g=n.g,ku(this,n.m),this.l=n.l,e=n.i;var t=new qh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lI(this,t),this.o=n.o}else n&&(t=String(n).match(oI))?(this.h=!!e,Ru(this,t[1]||"",!0),this.s=ba(t[2]||""),this.g=ba(t[3]||"",!0),ku(this,t[4]),this.l=ba(t[5]||"",!0),lI(this,t[6]||"",!0),this.o=ba(t[7]||"")):(this.h=!!e,this.i=new qh(null,this.h))}function js(n){return new Si(n)}function Ru(n,e,t){n.j=t?ba(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ku(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lI(n,e,t){e instanceof qh?(n.i=e,function GM(n,e){e&&!n.j&&(wa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(sw(this,r),aw(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fm(e,$M)),n.i=new qh(e,n.h))}function mn(n,e,t){n.i.set(e,t)}function Ou(n){return mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ba(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Si.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fm(e,jM,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fm(e,jM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fm(t,"/"==t.charAt(0)?cI:_N,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fm(t,zM)),n.join("")};var jM=/[#\/\?@]/g,_N=/[#\?:]/g,cI=/[#\?]/g,$M=/[#\?@]/g,zM=/#/g;function qh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wa(n){n.g||(n.g=new Map,n.h=0,n.i&&function aI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sw(n,e){wa(n),e=Pu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ow(n,e){return wa(n),e=Pu(n,e),n.g.has(e)}function aw(n,e,t){sw(n,e),0<t.length&&(n.i=null,n.g.set(Pu(n,e),kb(t)),n.h+=t.length)}function Pu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function pm(n){this.l=n||yN,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=qh.prototype).add=function(n,e){wa(this),this.i=null,n=Pu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){wa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ot.oa=function(){wa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ot.W=function(n){wa(this);let e=[];if("string"==typeof n)ow(this,n)&&(e=e.concat(this.g.get(Pu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ot.set=function(n,e){return wa(this),this.i=null,ow(this,n=Pu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var yN=10;function lw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gm(n){return n.h?1:n.g?n.g.size:0}function cw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function uw(n,e){n.g?n.g.add(e):n.h=e}function WM(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qM(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return kb(n.i)}function dw(){}function KM(){this.g=new dw}function ZM(n,e,t){const r=t||"";try{sI(n,function(i,a){let c=i;Eu(i)&&(c=rm(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hw(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mm(n){this.l=n.ac||null,this.j=n.jb||!1}function fw(n,e){Er.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=dI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pm.prototype.cancel=function(){if(this.i=qM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},dw.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},dw.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},wr(mm,lm),mm.prototype.g=function(){return new fw(this.l,this.j)},mm.prototype.i=function(n){return function(){return n}}({}),wr(fw,Er);var dI=0;function hI(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function _m(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ym(n)}function ym(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=fw.prototype).open=function(n,e){if(this.readyState!=dI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ym(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_m(this)),this.readyState=dI},ot.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ym(this)),this.g&&(this.readyState=3,ym(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hI(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ot.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_m(this):ym(this),3==this.readyState&&hI(this)}},ot.Va=function(n){this.g&&(this.response=this.responseText=n,_m(this))},ot.Ua=function(n){this.g&&(this.response=n,_m(this))},ot.ga=function(){this.g&&_m(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bN=Rt.JSON.parse;function jn(n){Er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YM,this.K=this.L=!1}wr(jn,Er);var YM="",wN=/^https?$/i,s=["POST","PUT"];function l(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,u(n),p(n)}function u(n){n.D||(n.D=!0,Cr(n,"complete"),Cr(n,"error"))}function f(n){if(n.h&&typeof xb<"u"&&(!n.C[1]||4!=w(n)||2!=n.aa()))if(n.v&&4==w(n))Kb(n.Ha,0,n);else if(Cr(n,"readystatechange"),4==w(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(oI)[1]||null;if(!i&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;i=a.substr(0,a.length-1)}r=!wN.test(i?i.toLowerCase():"")}t=r}if(t)Cr(n,"complete"),Cr(n,"success");else{n.m=6;try{var c=2<w(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",u(n)}}finally{p(n)}}}function p(n,e){if(n.g){y(n);const t=n.g,r=n.C[0]?wu:null;n.g=null,n.C=null,e||Cr(n,"ready");try{t.onreadystatechange=r}catch{}}}function y(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function w(n){return n.g?n.g.readyState:0}function C(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case YM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function S(n){let e="";return Cu(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function M(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=S(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mn(n,e,t))}function O(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $(n){this.Ca=0,this.i=[],this.j=new us,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=O("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=O("baseRetryDelayMs",5e3,n),this.bb=O("retryDelaySeedMs",1e4,n),this.$a=O("forwardChannelMaxRetries",2,n),this.ta=O("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new pm(n&&n.concurrentRequestLimit),this.Fa=new KM,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function J(n){if(Ne(n),3==n.G){var e=n.U++,t=js(n.F);mn(t,"SID",n.I),mn(t,"RID",e),mn(t,"TYPE","terminate"),be(n,t),(e=new Gh(n,n.j,e,void 0)).K=2,e.v=Ou(js(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Dm(e.l,null),e.g.da(e.v)),e.F=Date.now(),Wh(e)}Em(n)}function fe(n){n.g&&(Oo(n),n.g.cancel(),n.g=null)}function Ne(n){fe(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),Nu(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function Be(n){lw(n.h)||n.m||(n.m=!0,Ii(n.Ja,n),n.C=0)}function _t(n,e){var t;t=e?e.m:n.U++;const r=js(n.F);mn(r,"SID",n.I),mn(r,"RID",t),mn(r,"AID",n.T),be(n,r),n.o&&n.s&&M(r,n.o,n.s),t=new Gh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=wt(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),uw(n.h,t),nI(t,r,e)}function be(n,e){n.ia&&Cu(n.ia,function(t,r){mn(e,r,t)}),n.l&&sI({},function(t,r){mn(e,r,t)})}function wt(n,e,t){t=Math.min(n.i.length,t);var r=n.l?br(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let h=!0;for(let m=0;m<t;m++){let v=i[m].h;const D=i[m].g;if(v-=a,0>v)a=Math.max(0,i[m].h-100),h=!1;else try{ZM(D,c,"req"+v+"_")}catch{r&&r(D)}}if(h){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Xt(n){n.g||n.u||(n.Z=1,Ii(n.Ia,n),n.A=0)}function _n(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Su(br(n.Ia,n),wm(n,n.A)),n.A++,0))}function Oo(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function vm(n){n.g=new Gh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=js(n.sa);mn(e,"RID","rpc"),mn(e,"SID",n.I),mn(e,"CI",n.L?"0":"1"),mn(e,"AID",n.T),mn(e,"TYPE","xmlhttp"),be(n,e),n.o&&n.s&&M(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ou(js(e)),t.s=null,t.P=!0,VM(t,n)}function Nu(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function bm(n,e){var t=null;if(n.g==e){Nu(n),Oo(n),n.g=null;var r=2}else{if(!cw(n.h,e))return;t=e.D,WM(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Cr(r=om(),new eI(r,t)),Be(n)}else Xt(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function it(n,e){return!(gm(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Su(br(n.Ja,n,e),wm(n,n.C)),n.C++,0)))}(n,e)||2==r&&_n(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Po(n,5);break;case 4:Po(n,10);break;case 3:Po(n,6);break;default:Po(n,2)}}function wm(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Po(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=br(n.kb,n);t||(t=new Si("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Ru(t,"https"),Ou(t)),function vN(n,e){const t=new us;if(Rt.Image){const r=new Image;r.onload=Ro(hw,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ro(hw,t,r,"TestLoadImage: error",!1,e),r.onabort=Ro(hw,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ro(hw,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fr(2);n.G=0,n.l&&n.l.va(e),Em(n),Ne(n)}function Em(n){if(n.G=0,n.la=[],n.l){const e=qM(n.h);(0!=e.length||0!=n.i.length)&&(TM(n.la,e),TM(n.la,n.i),n.h.i.length=0,kb(n.i),n.i.length=0),n.l.ua()}}function Cm(n,e,t){var r=t instanceof Si?js(t):new Si(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),ku(r,r.m);else{var i=Rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Si(null,void 0);r&&Ru(a,r),e&&(a.g=e),i&&ku(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&mn(r,t,e),mn(r,"VER",n.ma),be(n,r),r}function Dm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(t&&n.Da&&!n.ra?new mm({jb:!0}):n.ra)).Ka(n.H),e}function Im(){}function fI(){if(Gl&&!(10<=Number(uN)))throw Error("Environmental error: no available transport.")}function ds(n,e){Er.call(this),this.g=new $(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Gg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sm(this)}function EN(n){cm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function CN(){Au.call(this),this.status=1}function Sm(n){this.g=n}(ot=jn.prototype).Ka=function(n){this.L=n},ot.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mu.g(),this.C=function Jb(n){return n.h||(n.h=n.i())}(this.u?this.u:Mu),this.g.onreadystatechange=br(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void l(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Rt.FormData&&n instanceof Rt.FormData,!(0<=SM(s,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{y(this),0<this.B&&((this.K=function o(n){return Gl&&function cN(){return function MM(n){var e=lN;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ob(String(Yg)).split("."),t=Ob("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Wg(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Wg(0==i[2].length,0==a[2].length)||Wg(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.qa,this)):this.A=Kb(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){l(this,a)}},ot.qa=function(){typeof xb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cr(this,"complete"),Cr(this,"abort"),p(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),p(this,!0)),jn.X.M.call(this)},ot.Ha=function(){this.s||(this.F||this.v||this.l?f(this):this.fb())},ot.fb=function(){f(this)},ot.aa=function(){try{return 2<w(this)?this.g.status:-1}catch{return-1}},ot.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ot.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bN(e)}},ot.Ea=function(){return this.m},ot.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=$.prototype).ma=8,ot.G=1,ot.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Gh(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=Lb(a),kM(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wt(this,i,e),mn(t=js(this.F),"RID",n),mn(t,"CVER",22),this.D&&mn(t,"X-HTTP-Session-Id",this.D),be(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(S(a)))+"&"+e:this.o&&M(t,this.o,a)),uw(this.h,i),this.Ya&&mn(t,"TYPE","init"),this.O?(mn(t,"$req",e),mn(t,"SID","null"),i.Z=!0,nI(i,t,null)):nI(i,t,e),this.G=2}}else 3==this.G&&(n?_t(this,n):0==this.i.length||lw(this.h)||_t(this))},ot.Ia=function(){if(this.u=null,vm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Su(br(this.eb,this),n)}},ot.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Fr(10),fe(this),vm(this))},ot.cb=function(){null!=this.v&&(this.v=null,fe(this),_n(this),Fr(19))},ot.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Fr(2)):(this.j.info("Failed to ping google.com"),Fr(1))},(ot=Im.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Ra=function(){},fI.prototype.g=function(n,e){return new ds(n,e)},wr(ds,Er),ds.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Fr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Cm(n,null,n.V),Be(n)},ds.prototype.close=function(){J(this.g)},ds.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=rm(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Be(e)},ds.prototype.M=function(){this.g.l=null,delete this.j,J(this.g),delete this.g,ds.X.M.call(this)},wr(EN,cm),wr(CN,Au),wr(Sm,Im),Sm.prototype.xa=function(){Cr(this.g,"a")},Sm.prototype.wa=function(n){Cr(this.g,new EN(n))},Sm.prototype.va=function(n){Cr(this.g,new CN)},Sm.prototype.ua=function(){Cr(this.g,"b")},fI.prototype.createWebChannel=fI.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,Xb.NO_ERROR=0,Xb.TIMEOUT=8,Xb.HTTP_ERROR=6,am.COMPLETE="complete",ew.EventType=Tu,Tu.OPEN="a",Tu.CLOSE="b",Tu.ERROR="c",Tu.MESSAGE="d",Er.prototype.listen=Er.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.Oa,jn.prototype.getLastErrorCode=jn.prototype.Ea,jn.prototype.getStatus=jn.prototype.aa,jn.prototype.getResponseJson=jn.prototype.Sa,jn.prototype.getResponseText=jn.prototype.fa,jn.prototype.send=jn.prototype.da,jn.prototype.setWithCredentials=jn.prototype.Ka;var G2=Hs.createWebChannelTransport=function(){return new fI},W2=Hs.getStatEventTarget=function(){return om()},QM=Hs.ErrorCode=Xb,q2=Hs.EventType=am,K2=Hs.Event=Wl,DN=Hs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Z2=Hs.FetchXmlHttpFactory=mm,pI=Hs.WebChannel=ew,Y2=Hs.XhrIo=jn;const IN="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let Tm="9.14.0";const Fu=new Pr.Yd("@firebase/firestore");function XM(){return Fu.logLevel}function Pe(n,...e){if(Fu.logLevel<=Pr.in.DEBUG){const t=e.map(JM);Fu.debug(`Firestore (${Tm}): ${n}`,...t)}}function ar(n,...e){if(Fu.logLevel<=Pr.in.ERROR){const t=e.map(JM);Fu.error(`Firestore (${Tm}): ${n}`,...t)}}function Kh(n,...e){if(Fu.logLevel<=Pr.in.WARN){const t=e.map(JM);Fu.warn(`Firestore (${Tm}): ${n}`,...t)}}function JM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Tm}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function It(n,e){n||st()}function $e(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class SN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class eU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tU{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=c;e.enqueueRetryable((0,q.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new SN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new Lr(e)}}class nU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(It(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class rU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new nU(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.A=t.token,new TN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function sU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class AN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function Am(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function MN(n){return n+"\0"}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Nn(0,0))}static max(){return new St(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pw{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===pw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends pw{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const oU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends pw{construct(e,t,r){return new Qn(e,t,r)}static isValidIdentifier(e){return oU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Te(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Te(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Te(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new Te(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(Jt.fromString(e))}static fromName(e){return new je(Jt.fromString(e).popFirst(5))}static empty(){return new je(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Jt(e.slice()))}}class gI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ex(n){return n.fields.find(e=>2===e.kind)}function Zh(n){return n.fields.filter(e=>2!==e.kind)}gI.UNKNOWN_ID=-1;class mI{constructor(e,t){this.fieldPath=e,this.kind=t}}class gw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gw(0,hs.min())}}function xN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=St.fromTimestamp(1e9===r?new Nn(t+1,0):new Nn(t,r));return new hs(i,je.empty(),e)}function RN(n){return new hs(n.readTime,n.key,-1)}class hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hs(St.min(),je.empty(),-1)}static max(){return new hs(St.max(),je.empty(),-1)}}function tx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const kN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Lu(n){return nx.apply(this,arguments)}function nx(){return nx=(0,q.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==kN)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),nx.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,a=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const a=e.length,c=new Array(a);let h=0;for(let m=0;m<a;m++){const v=m;t(e[v]).next(D=>{c[v]=D,++h,h===a&&r(c)},D=>i(D))}})}static doWhile(e,t){return new oe((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class _I{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Dr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new mw(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=rx(r.target.error);this.P.reject(new mw(e,i))}}static open(e,t,r,i){try{return new _I(t,e.transaction(i,r))}catch(a){throw new mw(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uU(t)}}class No{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===No.D((0,rt.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Yh(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,rt.hl)())return!1;if(No.N())return!0;const e=(0,rt.z$)(),t=No.D(e),r=0<t&&t<10,i=No.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,q.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new mw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new Te(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Te(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new mw(e,h))},a.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,q.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const m=_I.open(a.db,e,c?"readonly":"readwrite",r),v=i(m).next(D=>(m.V(),D)).catch(D=>(m.abort(D),oe.reject(D))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,D="FirebaseError"!==v.name&&h<3;if(Pe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),a.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cU{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Yh(this.U.delete())}}class mw extends Te{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Vu(n){return"IndexedDbTransactionError"===n.name}class uU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yh(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Yh(this.store.add(e))}get(e){return Yh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Yh(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Yh(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new oe((a,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new oe((r,i)=>{t.onerror=a=>{const c=rx(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}H(e,t){const r=[];return new oe((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const m=new cU(h),v=t(h.primaryKey,h.value,m);if(v instanceof oe){const D=v.catch(I=>(m.done(),oe.reject(I)));r.push(D)}m.isDone?i():null===m.G?h.continue():h.continue(m.G)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yh(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=rx(r.target.error);t(i)}})}let PN=!1;function rx(n){const e=No.D((0,rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PN||(PN=!0,setTimeout(()=>{throw r},0)),r}}return n}class dU{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,q.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Vu(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Lu(r)}yield t.nt(6e4)}))}}class hU{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,q.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return oe.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(h=>{i-=h,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(h=>(Pe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=RN(a);tx(c,r)>0&&(r=c)}),new hs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class $i{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function NN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}$i.at=-1;class Xn{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new Xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yI(this.root,e,this.comparator,!1)}getReverseIterator(){return new yI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yI(this.root,e,this.comparator,!0)}}class yI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Qr.RED,this.left=i??Qr.EMPTY,this.right=a??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Qr(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Qr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LN(this.data.getIterator())}getIteratorFrom(e){return new LN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class LN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mm(n){return n.hasNext()?n.getNext():void 0}class fs{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new fs([])}unionWith(e){let t=new yn(Qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Am(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ir(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const pU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bu(n){if(It(!!n),"string"==typeof n){let e=0;const t=pU.exec(n);if(It(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xh(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function ix(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function VN(n){const e=n.mapValue.fields.__previous_value__;return ix(e)?VN(e):e}function _w(n){const e=Bu(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class gU{constructor(e,t,r,i,a,c,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class Uu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Uu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}function yw(n){return null==n}function vw(n){return 0===n&&1/n==-1/0}function BN(n){return"number"==typeof n&&Number.isInteger(n)&&!vw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vI={nullValue:"NULL_VALUE"};function Jh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ix(n)?4:$N(n)?9007199254740991:10:st()}function Ea(n,e){if(n===e)return!0;const t=Jh(n);if(t!==Jh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _w(n).isEqual(_w(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Bu(r.timestampValue),c=Bu(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xh(n.bytesValue).isEqual(Xh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Jn(r.geoPointValue.latitude)===Jn(i.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Jn(r.integerValue)===Jn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Jn(r.doubleValue),c=Jn(i.doubleValue);return a===c?vw(a)===vw(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Am(n.arrayValue.values||[],e.arrayValue.values||[],Ea);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(NN(a)!==NN(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===c[h]||!Ea(a[h],c[h])))return!1;return!0}(n,e);default:return st()}var i}function bw(n,e){return void 0!==(n.values||[]).find(t=>Ea(t,e))}function ju(n,e){if(n===e)return 0;const t=Jh(n),r=Jh(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Jn(i.integerValue||i.doubleValue),h=Jn(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return UN(n.timestampValue,e.timestampValue);case 4:return UN(_w(n),_w(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Xh(i),h=Xh(a);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),h=a.split("/");for(let m=0;m<c.length&&m<h.length;m++){const v=Nt(c[m],h[m]);if(0!==v)return v}return Nt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Nt(Jn(i.latitude),Jn(a.latitude));return 0!==c?c:Nt(Jn(i.longitude),Jn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],h=a.values||[];for(let m=0;m<c.length&&m<h.length;++m){const v=ju(c[m],h[m]);if(v)return v}return Nt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Hu.mapValue&&a===Hu.mapValue)return 0;if(i===Hu.mapValue)return 1;if(a===Hu.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),m=a.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let D=0;D<h.length&&D<v.length;++D){const I=Nt(h[D],v[D]);if(0!==I)return I;const R=ju(c[h[D]],m[v[D]]);if(0!==R)return R}return Nt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw st()}}function UN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Bu(n),r=Bu(e),i=Nt(t.seconds,r.seconds);return 0!==i?i:Nt(t.nanos,r.nanos)}function xm(n){return sx(n)}function sx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Bu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xh(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=sx(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${sx(r.fields[h])}`;return a+"}"}(n.mapValue):st();var e}function ef(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ox(n){return!!n&&"integerValue"in n}function ww(n){return!!n&&"arrayValue"in n}function HN(n){return!!n&&"nullValue"in n}function jN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bI(n){return!!n&&"mapValue"in n}function Ew(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ew(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ew(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $N(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mU(n){return"nullValue"in n?vI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ef(Uu.empty(),je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function _U(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ef(Uu.empty(),je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Hu:st()}function zN(n,e){const t=ju(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function GN(n,e){const t=ju(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ew(t)}setAll(e){let t=Qn.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Ew(c):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());bI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ea(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Qh(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Xr(Ew(this.value))}}function WN(n){const e=[];return Qh(n.fields,(t,r)=>{const i=new Qn([t]);if(bI(r)){const a=WN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new fs(e)}class Sn{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Sn(e,0,St.min(),St.min(),Xr.empty(),0)}static newFoundDocument(e,t,r){return new Sn(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new Sn(e,2,t,St.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,St.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yU{constructor(e,t=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.ht=null}}function qN(n,e=null,t=[],r=[],i=null,a=null,c=null){return new yU(n,e,t,r,i,a,c)}function tf(n){const e=$e(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+xm(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xm(r)).join(",")),e.ht=t}return e.ht}function Cw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!TU(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ea(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XN(n.startAt,e.startAt)&&XN(n.endAt,e.endAt)}function wI(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function EI(n,e){return n.filters.filter(t=>t instanceof Jr&&t.field.isEqual(e))}function KN(n,e,t){let r=vI,i=!0;for(const a of EI(n,e)){let c=vI,h=!0;switch(a.op){case"<":case"<=":c=mU(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,h=!1;break;case"!=":case"not-in":c=vI}zN({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];zN({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function ZN(n,e,t){let r=Hu,i=!0;for(const a of EI(n,e)){let c=Hu,h=!0;switch(a.op){case">=":case">":c=_U(a.value),h=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,h=!1;break;case"!=":case"not-in":c=Hu}GN({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];GN({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Jr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new bU(e,t,r):"array-contains"===t?new CU(e,r):"in"===t?new DU(e,r):"not-in"===t?new IU(e,r):"array-contains-any"===t?new SU(e,r):new Jr(e,t,r)}static lt(e,t,r){return"in"===t?new wU(e,r):new EU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ju(t,this.value)):null!==t&&Jh(this.value)===Jh(t)&&this.ft(ju(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bU extends Jr{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.ft(t)}}class wU extends Jr{constructor(e,t){super(e,"in",t),this.keys=YN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class EU extends Jr{constructor(e,t){super(e,"not-in",t),this.keys=YN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class CU extends Jr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ww(t)&&bw(t.arrayValue,this.value)}}class DU extends Jr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bw(this.value.arrayValue,t)}}class IU extends Jr{constructor(e,t){super(e,"not-in",t)}matches(e){if(bw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bw(this.value.arrayValue,t)}}class SU extends Jr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ww(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bw(this.value.arrayValue,r))}}class $u{constructor(e,t){this.position=e,this.inclusive=t}}class Rm{constructor(e,t="asc"){this.field=e,this.dir=t}}function TU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function QN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?je.comparator(je.fromName(c.referenceValue),t.key):ju(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function XN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ea(n.position[t],e.position[t]))return!1;return!0}class ql{constructor(e,t=null,r=[],i=[],a=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=m,this._t=null,this.wt=null}}function JN(n,e,t,r,i,a,c,h){return new ql(n,e,t,r,i,a,c,h)}function km(n){return new ql(n)}function e1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ax(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lx(n){for(const e of n.filters)if(e.dt())return e.field;return null}function cx(n){return null!==n.collectionGroup}function Om(n){const e=$e(n);if(null===e._t){e._t=[];const t=lx(e),r=ax(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Rm(t)),e._t.push(new Rm(Qn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Rm(Qn.keyField(),a))}}}return e._t}function Ti(n){const e=$e(n);if(!e.wt)if("F"===e.limitType)e.wt=qN(e.path,e.collectionGroup,Om(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Om(e))t.push(new Rm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new $u(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $u(e.startAt.position,e.startAt.inclusive):null;e.wt=qN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function CI(n,e,t){return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dw(n,e){return Cw(Ti(n),Ti(e))&&n.limitType===e.limitType}function t1(n){return`${tf(Ti(n))}|lt:${n.limitType}`}function ux(n){return`Query(target=${function vU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${xm(r.value)}`;var r}).join(", ")}]`),yw(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>xm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>xm(t)).join(",")),`Target(${e})`}(Ti(n))}; limitType=${n.limitType})`}function dx(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):je.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const h=QN(i,a,c);return i.inclusive?h<=0:h<0}(t.startAt,Om(t),r)||t.endAt&&!function(i,a,c){const h=QN(i,a,c);return i.inclusive?h>=0:h>0}(t.endAt,Om(t),r)));var t,r}function n1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function r1(n){return(e,t)=>{let r=!1;for(const i of Om(n)){const a=AU(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function AU(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(i,a,c){const h=a.data.field(i),m=c.data.field(i);return null!==h&&null!==m?ju(h,m):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function s1(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vw(e)?"-0":e}}function o1(n){return{integerValue:""+n}}function a1(n,e){return BN(e)?o1(e):s1(n,e)}class DI{constructor(){this._=void 0}}function MU(n,e,t){return n instanceof Pm?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof nf?c1(n,e):n instanceof rf?u1(n,e):function(r,i){const a=l1(r,i),c=d1(a)+d1(r.yt);return ox(a)&&ox(r.yt)?o1(c):s1(r.It,c)}(n,e)}function xU(n,e,t){return n instanceof nf?c1(n,e):n instanceof rf?u1(n,e):t}function l1(n,e){return n instanceof Nm?ox(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Pm extends DI{}class nf extends DI{constructor(e){super(),this.elements=e}}function c1(n,e){const t=h1(e);for(const r of n.elements)t.some(i=>Ea(i,r))||t.push(r);return{arrayValue:{values:t}}}class rf extends DI{constructor(e){super(),this.elements=e}}function u1(n,e){let t=h1(e);for(const r of n.elements)t=t.filter(i=>!Ea(i,r));return{arrayValue:{values:t}}}class Nm extends DI{constructor(e,t){super(),this.It=e,this.yt=t}}function d1(n){return Jn(n.integerValue||n.doubleValue)}function h1(n){return ww(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Iw{constructor(e,t){this.field=e,this.transform=t}}class kU{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function II(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class SI{}function f1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Lm(n.key,Fn.none()):new Fm(n.key,n.data,Fn.none());{const t=n.data,r=Xr.empty();let i=new yn(Qn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Kl(n.key,r,new fs(i.toArray()),Fn.none())}}function OU(n,e,t){n instanceof Fm?function(r,i,a){const c=r.value.clone(),h=m1(r.fieldTransforms,i,a.transformResults);c.setAll(h),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Kl?function(r,i,a){if(!II(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=m1(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(g1(r)),h.setAll(c),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sw(n,e,t,r){return n instanceof Fm?function(i,a,c,h){if(!II(i.precondition,a))return c;const m=i.value.clone(),v=_1(i.fieldTransforms,h,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Kl?function(i,a,c,h){if(!II(i.precondition,a))return c;const m=_1(i.fieldTransforms,h,a),v=a.data;return v.setAll(g1(i)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(c=t,II(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function PU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=l1(r.transform,i||null);null!=a&&(null===t&&(t=Xr.empty()),t.set(r.field,a))}return t||null}function p1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Am(t,r,(i,a)=>function RU(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof nf&&r instanceof nf||t instanceof rf&&r instanceof rf?Am(t.elements,r.elements,Ea):t instanceof Nm&&r instanceof Nm?Ea(t.yt,r.yt):t instanceof Pm&&r instanceof Pm);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Fm extends SI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kl extends SI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function g1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function m1(n,e,t){const r=new Map;It(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,xU(c,h,t[i]))}return r}function _1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,MU(a,c,e))}return r}class Lm extends SI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends SI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NU{constructor(e){this.count=e}}var fr,en;function y1(n){switch(n){default:return st();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function v1(n){if(void 0===n)return ar("GRPC error has no .code"),ue.UNKNOWN;switch(n){case fr.OK:return ue.OK;case fr.CANCELLED:return ue.CANCELLED;case fr.UNKNOWN:return ue.UNKNOWN;case fr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case fr.INTERNAL:return ue.INTERNAL;case fr.UNAVAILABLE:return ue.UNAVAILABLE;case fr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case fr.NOT_FOUND:return ue.NOT_FOUND;case fr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case fr.ABORTED:return ue.ABORTED;case fr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case fr.DATA_LOSS:return ue.DATA_LOSS;default:return st()}}(en=fr||(fr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qh(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return FN(this.inner)}size(){return this.innerSize}}const FU=new Xn(je.comparator);function zi(){return FU}const b1=new Xn(je.comparator);function Tw(...n){let e=b1;for(const t of n)e=e.insert(t.key,t);return e}function w1(n){let e=b1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ca(){return Aw()}function E1(){return Aw()}function Aw(){return new zu(n=>n.toString(),(n,e)=>n.isEqual(e))}const LU=new Xn(je.comparator),VU=new yn(je.comparator);function Ut(...n){let e=VU;for(const t of n)e=e.add(t);return e}const BU=new yn(Nt);function TI(){return BU}class Mw{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,xw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mw(St.min(),i,TI(),zi(),Ut())}}class xw{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xw(r,t,Ut(),Ut(),Ut())}}class AI{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class C1{constructor(e,t){this.targetId=e,this.At=t}}class D1{constructor(e,t,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class I1{constructor(){this.Rt=0,this.bt=T1(),this.Pt=Ir.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ut(),t=Ut(),r=Ut();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new xw(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=T1()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class UU{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=zi(),this.qt=S1(),this.Kt=new yn(Nt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(wI(a))if(0===r){const c=new je(a.path);this.jt(t,c,Sn.newNoDocument(c,St.min()))}else It(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,c)=>{const h=this.Xt(c);if(h){if(a.current&&wI(h.target)){const m=new je(h.target.path);null!==this.Ut.get(m)||this.ee(c,m)||this.jt(c,m,Sn.newNoDocument(m,e))}a.Dt&&(t.set(c,a.xt()),a.Nt())}});let r=Ut();this.qt.forEach((a,c)=>{let h=!0;c.forEachWhile(m=>{const v=this.Xt(m);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,c)=>c.setReadTime(e));const i=new Mw(e,t,this.Kt,this.Ut,r);return this.Ut=zi(),this.qt=S1(),this.Kt=new yn(Nt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new I1,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new yn(Nt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new I1),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function S1(){return new Xn(je.comparator)}function T1(){return new Xn(je.comparator)}const HU={asc:"ASCENDING",desc:"DESCENDING"},jU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $U{constructor(e,t){this.databaseId=e,this.gt=t}}function Rw(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A1(n,e){return n.gt?e.toBase64():e.toUint8Array()}function zU(n,e){return Rw(n,e.toTimestamp())}function Vr(n){return It(!!n),St.fromTimestamp(function(e){const t=Bu(e);return new Nn(t.seconds,t.nanos)}(n))}function fx(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function M1(n){const e=Jt.fromString(n);return It(L1(e)),e}function kw(n,e){return fx(n.databaseId,e.path)}function Da(n,e){const t=M1(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(R1(t))}function px(n,e){return fx(n.databaseId,e)}function x1(n){const e=M1(n);return 4===e.length?Jt.emptyPath():R1(e)}function Ow(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function R1(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function k1(n,e,t){return{name:kw(n,e),fields:t.value.mapValue.fields}}function O1(n,e,t){const r=Da(n,e.name),i=Vr(e.updateTime),a=new Xr({mapValue:{fields:e.fields}}),c=Sn.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Pw(n,e){let t;if(e instanceof Fm)t={update:k1(n,e.key,e.value)};else if(e instanceof Lm)t={delete:kw(n,e.key)};else if(e instanceof Kl)t={update:k1(n,e.key,e.data),updateMask:JU(e.fieldMask)};else{if(!(e instanceof hx))return st();t={verify:kw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Pm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof rf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nm)return{fieldPath:a.field.canonicalString(),increment:c.yt};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:zU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}function gx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Fn.updateTime(Vr(i.updateTime)):void 0!==i.exists?Fn.exists(i.exists):Fn.none():Fn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let h=null;"setToServerValue"in c?(It("REQUEST_TIME"===c.setToServerValue),h=new Pm):"appendMissingElements"in c?h=new nf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new rf(c.removeAllFromArray.values||[]):"increment"in c?h=new Nm(a,c.increment):st();const m=Qn.fromServerFormat(c.fieldPath);return new Iw(m,h)}(n,i)):[];var i;if(e.update){const i=Da(n,e.update.name),a=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new fs((e.updateMask.fieldPaths||[]).map(v=>Qn.fromServerFormat(v)));return new Kl(i,a,c,t,r)}return new Fm(i,a,t,r)}if(e.delete){const i=Da(n,e.delete);return new Lm(i,t)}if(e.verify){const i=Da(n,e.verify);return new hx(i,t)}return st()}function P1(n,e){return{documents:[px(n,e.path)]}}function mx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=px(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=px(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0===m.length)return;const v=m.map(D=>function(I){if("=="===I.op){if(jN(I.value))return{unaryFilter:{field:Vm(I.field),op:"IS_NAN"}};if(HN(I.value))return{unaryFilter:{field:Vm(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(jN(I.value))return{unaryFilter:{field:Vm(I.field),op:"IS_NOT_NAN"}};if(HN(I.value))return{unaryFilter:{field:Vm(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vm(I.field),op:YU(I.op),value:I.value}}}(D));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:Vm((D=v).field),direction:ZU(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(v=e.limit,n.gt||yw(v)?v:{value:v});var v,h,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function N1(n){let e=x1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){It(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=F1(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new Rm(Bm((I=D).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;t.limit&&(h=function(D){let I;return I="object"==typeof D?D.value:D,yw(I)?null:I}(t.limit));let m=null;var D;t.startAt&&(m=new $u((D=t.startAt).values||[],!!D.before));let v=null;return t.endAt&&(v=function(D){return new $u(D.values||[],!D.before)}(t.endAt)),JN(e,i,c,a,h,"F",m,v)}function F1(n){return n?void 0!==n.unaryFilter?[XU(n)]:void 0!==n.fieldFilter?[QU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>F1(e)).reduce((e,t)=>e.concat(t)):st():[]}function ZU(n){return HU[n]}function YU(n){return jU[n]}function Vm(n){return{fieldPath:n.canonicalString()}}function Bm(n){return Qn.fromServerFormat(n.fieldPath)}function QU(n){return Jr.create(Bm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function XU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Bm(n.unaryFilter.field);return Jr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Bm(n.unaryFilter.field);return Jr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bm(n.unaryFilter.field);return Jr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bm(n.unaryFilter.field);return Jr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function JU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function L1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ai(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=V1(e)),e=eH(n.get(t),e);return V1(e)}function eH(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function V1(n){return n+"\x01\x01"}function Ia(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&st(),n.charAt(c+1)){case"\x01":const h=n.substring(a,c);let m;0===i.length?m=h:(i+=h,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:st()}a=c+2}return new Jt(r)}const B1=["userId","batchId"];function MI(n,e){return[n,Ai(e)]}function U1(n,e,t){return[n,Ai(e),t]}const tH={},nH=["prefixPath","collectionGroup","readTime","documentId"],rH=["prefixPath","collectionGroup","documentId"],iH=["collectionGroup","readTime","prefixPath","documentId"],sH=["canonicalId","targetId"],oH=["targetId","path"],aH=["path","targetId"],lH=["collectionId","parent"],cH=["indexId","uid"],uH=["uid","sequenceNumber"],dH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hH=["indexId","uid","orderedDocumentKey"],fH=["userId","collectionPath","documentId"],pH=["userId","collectionPath","largestBatchId"],gH=["userId","collectionGroup","largestBatchId"],H1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mH=[...H1,"documentOverlays"],j1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$1=j1,_H=[...$1,"indexConfiguration","indexState","indexEntries"];class _x extends ON{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Br(n,e){const t=$e(n);return No.M(t.ie,e)}class yx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&OU(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=E1();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(i.key)?null:h;const m=f1(c,h);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ut())}isEqual(e){return this.batchId===e.batchId&&Am(this.mutations,e.mutations,(t,r)=>p1(t,r))&&Am(this.baseMutations,e.baseMutations,(t,r)=>p1(t,r))}}class vx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){It(e.mutations.length===r.length);let i=LU;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new vx(e,t,r,i)}}class bx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gu{constructor(e,t,r,i,a=St.min(),c=St.min(),h=Ir.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new Gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class z1{constructor(e){this.re=e}}function G1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:kw(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Rw(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sf(e.version)};else{if(!e.isUnknownDocument())return st();r.unknownDocument={path:t.path.toArray(),version:sf(e.version)}}var i,a;return r}function xI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function af(n){const e=new Nn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function lf(n,e){const t=(e.baseMutations||[]).map(a=>gx(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>gx(n.re,a)),i=Nn.fromMillis(e.localWriteTimeMs);return new yx(e.batchId,i,t,r)}function Nw(n){const e=af(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?af(n.lastLimboFreeSnapshotVersion):St.min();let r;var i;return void 0!==n.query.documents?(It(1===(i=n.query).documents.length),r=Ti(km(x1(i.documents[0])))):r=Ti(N1(n.query)),new Gu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ir.fromBase64String(n.resumeToken))}function W1(n,e){const t=sf(e.snapshotVersion),r=sf(e.lastLimboFreeSnapshotVersion);let i;i=wI(e.target)?P1(n.re,e.target):mx(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wx(n){const e=N1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?CI(e,e.limit,"L"):e}function Ex(n,e){return new bx(e.largestBatchId,gx(n.re,e.overlayMutation))}function q1(n,e){const t=e.path.lastSegment();return[n,Ai(e.path.popLast()),t]}function K1(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sf(r.readTime),documentKey:Ai(r.documentKey.path),largestBatchId:r.largestBatchId}}class vH{getBundleMetadata(e,t){return Z1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:af(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Z1(e).put({bundleId:(r=t).id,createTime:sf(Vr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Y1(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:wx(i.bundledQuery),readTime:af(i.readTime)};var i})}saveNamedQuery(e,t){return Y1(e).put({name:(r=t).name,readTime:sf(Vr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Z1(n){return Br(n,"bundles")}function Y1(n){return Br(n,"namedQueries")}class RI{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new RI(e,t.uid||"")}getOverlay(e,t){return Fw(e).get(q1(this.userId,t)).next(r=>r?Ex(this.It,r):null)}getOverlays(e,t){const r=Ca();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const h=new bx(t,c);i.push(this.ue(e,h))}),oe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ai(c.getCollectionPath())));const a=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(Fw(e).Y("collectionPathOverlayIndex",h))}),oe.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Ca(),a=Ai(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Fw(e).W("collectionPathOverlayIndex",c).next(h=>{for(const m of h){const v=Ex(this.It,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Ca();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fw(e).Z({index:"collectionGroupOverlayIndex",range:h},(m,v,D)=>{const I=Ex(this.It,v);a.size()<i||I.largestBatchId===c?(a.set(I.getKey(),I),c=I.largestBatchId):D.done()}).next(()=>a)}ue(e,t){return Fw(e).put(function(r,i,a){const[c,h,m]=q1(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:m,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Pw(r.re,a.mutation)}}(this.It,this.userId,t))}}function Fw(n){return Br(n,"documentOverlays")}class cf{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),vw(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Xh(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?$N(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):st()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),je.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function bH(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Q1(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=bH(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}cf.Te=new cf;class wH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=Q1(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=Q1(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class EH{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class CH{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Lw{constructor(){this.Be=new wH,this.Le=new EH(this.Be),this.Ue=new CH(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class uf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new uf(this.indexId,this.documentKey,this.arrayValue,r)}}function df(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=X1(n.arrayValue,e.arrayValue),0!==t?t:(t=X1(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function X1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class DH{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=ex(e);if(void 0!==t&&!this.ze(t))return!1;const r=Zh(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class IH{constructor(){this.Ye=new Cx}addToCollectionParentIndex(e,t){return this.Ye.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(hs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class Cx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yn(Jt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yn(Jt.comparator)).toArray()}}const kI=new Uint8Array(0);class SH{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Cx,this.Ze=new zu(r=>tf(r),(r,i)=>Cw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:Ai(i)};return J1(e).put(a)}return oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[MN(t),""],!1,!0);return J1(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Ia(c.parent))}return r})}addFieldIndex(e,t){const r=OI(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=Bw(e);return a.next(h=>{c.put(K1(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=OI(e),i=Bw(e),a=Vw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Vw(e);let i=!0;const a=new Map;return oe.forEach(this.tn(t),c=>this.en(e,c).next(h=>{i&&(i=!!h),a.set(c,h)})).next(()=>{if(i){let c=Ut();const h=[];return oe.forEach(a,(m,v)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=m,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(nt=>`${nt.fieldPath}:${nt.kind}`).join(",")}`} to execute ${tf(t)}`);const I=function(nt,Ze){const ft=ex(Ze);if(void 0===ft)return null;for(const bt of EI(nt,ft.fieldPath))switch(bt.op){case"array-contains-any":return bt.value.arrayValue.values||[];case"array-contains":return[bt.value]}return null}(v,m),R=function(nt,Ze){const ft=new Map;for(const bt of Zh(Ze))for(const Zt of EI(nt,bt.fieldPath))switch(Zt.op){case"==":case"in":ft.set(bt.fieldPath.canonicalString(),Zt.value);break;case"not-in":case"!=":return ft.set(bt.fieldPath.canonicalString(),Zt.value),Array.from(ft.values())}return null}(v,m),L=function(nt,Ze){const ft=[];let bt=!0;for(const Zt of Zh(Ze)){const ki=0===Zt.kind?KN(nt,Zt.fieldPath,nt.startAt):ZN(nt,Zt.fieldPath,nt.startAt);ft.push(ki.value),bt&&(bt=ki.inclusive)}return new $u(ft,bt)}(v,m),j=function(nt,Ze){const ft=[];let bt=!0;for(const Zt of Zh(Ze)){const ki=0===Zt.kind?ZN(nt,Zt.fieldPath,nt.endAt):KN(nt,Zt.fieldPath,nt.endAt);ft.push(ki.value),bt&&(bt=ki.inclusive)}return new $u(ft,bt)}(v,m),te=this.nn(m,v,L),ne=this.nn(m,v,j),Ue=this.sn(m,v,R),Xe=this.rn(m.indexId,I,te,L.inclusive,ne,j.inclusive,Ue);return oe.forEach(Xe,nt=>r.J(nt,t.limit).next(Ze=>{Ze.forEach(ft=>{const bt=je.fromSegments(ft.documentKey);c.has(bt)||(c=c.add(bt),h.push(bt))})}))}).next(()=>h)}return oe.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,c,h){const m=(null!=t?t.length:1)*Math.max(r.length,a.length),v=m/(null!=t?t.length:1),D=[];for(let I=0;I<m;++I){const R=t?this.on(t[I/v]):kI,L=this.un(e,R,r[I%v],i),j=this.cn(e,R,a[I%v],c),te=h.map(ne=>this.un(e,R,ne,!0));D.push(...this.createRange(L,j,te))}return D}un(e,t,r,i){const a=new uf(e,je.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new uf(e,je.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new DH(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const h of a)r.We(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;return oe.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(c){let h=new yn(Qn.comparator),m=!1;for(const v of c.filters){const D=v;D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?m=!0:h=h.add(D.field))}for(const v of c.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(m?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Lw;for(const i of Zh(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);cf.Te.ce(a,c)}return r.$e()}on(e){const t=new Lw;return cf.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Lw;return cf.Te.ce(ef(this.databaseId,t),r.qe(function(i){const a=Zh(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new Lw);let a=0;for(const c of Zh(e)){const h=r[a++];for(const m of i)if(this.ln(t,c.fieldPath)&&ww(h))i=this.fn(i,c,h);else{const v=m.qe(c.kind);cf.Te.ce(h,v)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const h of i){const m=new Lw;m.seed(h.$e()),cf.Te.ce(c,m.qe(t.kind)),a.push(m)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof Jr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=OI(e),i=Bw(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return oe.forEach(a,h=>i.get([h.indexId,this.uid]).next(m=>{c.push(function(v,D){const I=D?new gw(D.sequenceNumber,new hs(af(D.readTime),new je(Ia(D.documentKey)),D.largestBatchId)):gw.empty(),R=v.fields.map(([L,j])=>new mI(Qn.fromServerFormat(L),j));return new gI(v.indexId,v.collectionGroup,R,I)}(h,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Nt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=OI(e),a=Bw(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>oe.forEach(h,m=>a.put(K1(m.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?oe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),oe.forEach(h,m=>this.wn(e,i,m).next(v=>{const D=this.mn(a,m);return v.isEqual(D)?oe.resolve():this.gn(e,a,m,v,D)}))))})}yn(e,t,r,i){return Vw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Vw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Vw(e);let a=new yn(df);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,h)=>{a=a.add(new uf(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}mn(e,t){let r=new yn(df);const i=this.an(t,e);if(null==i)return r;const a=ex(t);if(null!=a){const c=e.data.field(a.fieldPath);if(ww(c))for(const h of c.arrayValue.values||[])r=r.add(new uf(t.indexId,e.key,this.on(h),i))}else r=r.add(new uf(t.indexId,e.key,kI,i));return r}gn(e,t,r,i,a){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,m,v,D,I){const R=h.getIterator(),L=m.getIterator();let j=Mm(R),te=Mm(L);for(;j||te;){let ne=!1,Ue=!1;if(j&&te){const Xe=v(j,te);Xe<0?Ue=!0:Xe>0&&(ne=!0)}else null!=j?Ue=!0:ne=!0;ne?(D(te),te=Mm(L)):Ue?(I(j),j=Mm(R)):(j=Mm(R),te=Mm(L))}}(i,a,df,h=>{c.push(this.yn(e,t,r,h))},h=>{c.push(this.pn(e,t,r,h))}),oe.waitFor(c)}_n(e){let t=1;return Bw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>df(c,h)).filter((c,h,m)=>!h||0!==df(c,m[h-1]));const i=[];i.push(e);for(const c of r){const h=df(c,e),m=df(c,t);if(0===h)i[0]=e.Ke();else if(h>0&&m<0)i.push(c),i.push(c.Ke());else if(m>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,kI,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,kI,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(eF)}getMinOffset(e,t){return oe.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||st())).next(eF)}}function J1(n){return Br(n,"collectionParents")}function Vw(n){return Br(n,"indexEntries")}function OI(n){return Br(n,"indexConfiguration")}function Bw(n){return Br(n,"indexState")}function eF(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;tx(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new hs(e.readTime,e.documentKey,t)}const tF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let h=0;const m=r.Z({range:c},(D,I,R)=>(h++,R.delete()));a.push(m.next(()=>{It(1===h)}));const v=[];for(const D of t.mutations){const I=U1(e,D.key.path,t.batchId);a.push(i.delete(I)),v.push(D.key)}return oe.waitFor(a).next(()=>v)}function PI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class NI{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){It(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new NI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Um(e),c=Wu(e);return c.add({}).next(h=>{It("number"==typeof h);const m=new yx(h,t,r,i),v=function(R,L,j){const te=j.baseMutations.map(Ue=>Pw(R.re,Ue)),ne=j.mutations.map(Ue=>Pw(R.re,Ue));return{userId:L,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:te,mutations:ne}}(this.It,this.userId,m),D=[];let I=new yn((R,L)=>Nt(R.canonicalString(),L.canonicalString()));for(const R of i){const L=U1(this.userId,R.key.path,h);I=I.add(R.key.path.popLast()),D.push(c.put(v)),D.push(a.put(L,tH))}return I.forEach(R=>{D.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.In[h]=m.keys()}),oe.waitFor(D).next(()=>m)})}lookupMutationBatch(e,t){return Wu(e).get(t).next(r=>r?(It(r.userId===this.userId),lf(this.It,r)):null)}Tn(e,t){return this.In[t]?oe.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Wu(e).Z({index:"userMutationsIndex",range:i},(c,h,m)=>{h.userId===this.userId&&(It(h.batchId>=r),a=lf(this.It,h)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Wu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).W("userMutationsIndex",t).next(r=>r.map(i=>lf(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=MI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Um(e).Z({range:i},(c,h,m)=>{const[v,D,I]=c,R=Ia(D);if(v===this.userId&&t.path.isEqual(R))return Wu(e).get(I).next(L=>{if(!L)throw st();It(L.userId===this.userId),a.push(lf(this.It,L))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Nt);const i=[];return t.forEach(a=>{const c=MI(this.userId,a.path),h=IDBKeyRange.lowerBound(c),m=Um(e).Z({range:h},(v,D,I)=>{const[R,L,j]=v,te=Ia(L);R===this.userId&&a.path.isEqual(te)?r=r.add(j):I.done()});i.push(m)}),oe.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=MI(this.userId,r),c=IDBKeyRange.lowerBound(a);let h=new yn(Nt);return Um(e).Z({range:c},(m,v,D)=>{const[I,R,L]=m,j=Ia(R);I===this.userId&&r.isPrefixOf(j)?j.length===i&&(h=h.add(L)):D.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Wu(e).get(a).next(c=>{if(null===c)throw st();It(c.userId===this.userId),r.push(lf(this.It,c))}))}),oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return nF(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Um(e).Z({range:r},(a,c,h)=>{if(a[0]===this.userId){const m=Ia(a[1]);i.push(m)}else h.done()}).next(()=>{It(0===i.length)})})}containsKey(e,t){return rF(e,this.userId,t)}Rn(e){return iF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rF(n,e,t){const r=MI(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return Um(n).Z({range:a,X:!0},(h,m,v)=>{const[D,I,R]=h;D===e&&I===i&&(c=!0),v.done()}).next(()=>c)}function Wu(n){return Br(n,"mutations")}function Um(n){return Br(n,"documentMutations")}function iF(n){return Br(n,"mutationQueues")}class hf{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new hf(0)}static vn(){return new hf(-1)}}class TH{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new hf(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>St.fromTimestamp(new Nn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hm(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Hm(e).Z((c,h)=>{const m=Nw(h);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(e,m)))}).next(()=>oe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Hm(e).Z((r,i)=>{const a=Nw(i);t(a)})}Vn(e){return sF(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}Sn(e,t){return sF(e).put("targetGlobalKey",t)}Dn(e,t){return Hm(e).put(W1(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=tf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Hm(e).Z({range:i,index:"queryTargetsIndex"},(c,h,m)=>{const v=Nw(h);Cw(t,v.target)&&(a=v,m.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=qu(e);return t.forEach(c=>{const h=Ai(c.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=qu(e);return oe.forEach(t,a=>{const c=Ai(a.path);return oe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=qu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=qu(e);let a=Ut();return i.Z({range:r,X:!0},(c,h,m)=>{const v=Ia(c[1]),D=new je(v);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=Ai(t.path),i=IDBKeyRange.bound([r],[MN(r)],!1,!0);let a=0;return qu(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,h],m,v)=>{0!==c&&(a++,v.done())}).next(()=>a>0)}se(e,t){return Hm(e).get(t).next(r=>r?Nw(r):null)}}function Hm(n){return Br(n,"targets")}function sF(n){return Br(n,"targetGlobal")}function qu(n){return Br(n,"targetDocuments")}function oF([n,e],[t,r]){const i=Nt(n,t);return 0===i?Nt(e,r):i}class AH{constructor(e){this.xn=e,this.buffer=new yn(oF),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MH{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,q.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Vu(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Lu(r)}yield t.Fn(3e5)}))}}class xH{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve($i.at);const r=new AH(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(tF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tF):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,c,h,m,v;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,c=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,h=Date.now(),this.removeTargets(e,r,t))).next(I=>(a=I,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(v=Date.now(),XM()<=Pr.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${a} targets in `+(m-h)+`ms\n\tRemoved ${I} documents in `+(v-m)+`ms\nTotal Duration: ${v-D}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:I})))}}class RH{constructor(e,t){this.db=e,this.garbageCollector=new xH(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return FI(e,r)}removeReference(e,t,r){return FI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return FI(e,t)}Gn(e,t){return function(r,i){let a=!1;return iF(r).tt(c=>rF(r,c,i).next(h=>(h&&(a=!0),oe.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,h)=>{if(h<=t){const m=this.Gn(e,c).next(v=>{if(!v)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,St.min()),qu(e).delete([0,Ai(c.path)])))});i.push(m)}}).next(()=>oe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return FI(e,t)}Kn(e,t){const r=qu(e);let i,a=$i.at;return r.Z({index:"documentTargetsIndex"},([c,h],{path:m,sequenceNumber:v})=>{0===c?(a!==$i.at&&t(new je(Ia(i)),a),a=v,i=m):a=$i.at}).next(()=>{a!==$i.at&&t(new je(Ia(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function FI(n,e){return qu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ai(e.path),sequenceNumber:r}));var r}class aF{constructor(){this.changes=new zu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kH{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ff(e).put(r)}removeEntry(e,t,r){return ff(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],xI(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Sn.newInvalidDocument(t);return ff(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Uw(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Sn.newInvalidDocument(t)};return ff(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Uw(t))},(i,a)=>{r={document:this.jn(t,a),size:PI(a)}}).next(()=>r)}getEntries(e,t){let r=zi();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=zi(),i=new Xn(je.comparator);return this.zn(e,t,(a,c)=>{const h=this.jn(a,c);r=r.insert(a,h),i=i.insert(a,PI(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return oe.resolve();let i=new yn(dF);t.forEach(m=>i=i.add(m));const a=IDBKeyRange.bound(Uw(i.first()),Uw(i.last())),c=i.getIterator();let h=c.getNext();return ff(e).Z({index:"documentKeyIndex",range:a},(m,v,D)=>{const I=je.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&dF(h,I)<0;)r(h,null),h=c.getNext();h&&h.isEqual(I)&&(r(h,v),h=c.hasNext()?c.getNext():null),h?D.j(Uw(h)):D.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),xI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ff(e).W(IDBKeyRange.bound(i,a,!0)).next(c=>{let h=zi();for(const m of c){const v=this.jn(je.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,r,i){let a=zi();const c=uF(t,r),h=uF(t,hs.max());return ff(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(m,v,D)=>{const I=this.jn(je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(I.key,I),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new OH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cF(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Qn(e,t){return cF(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function yH(n,e){let t;if(e.document)t=O1(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=af(e.noDocument.readTime);t=Sn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const r=je.fromSegments(e.unknownDocument.path),i=af(e.unknownDocument.version);t=Sn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Nn(r[0],r[1]);return St.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return Sn.newInvalidDocument(e)}}function lF(n){return new kH(n)}class OH extends aF{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new zu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new yn((a,c)=>Nt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),c.isValidDocument()){const m=G1(this.Yn.It,c);i=i.add(a.path.popLast()),r+=PI(m)-h.size,t.push(this.Yn.addEntry(e,a,m))}else if(r-=h.size,this.trackRemovals){const m=G1(this.Yn.It,c.convertToNoDocument(St.min()));t.push(this.Yn.addEntry(e,a,m))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function cF(n){return Br(n,"remoteDocumentGlobal")}function ff(n){return Br(n,"remoteDocumentsV14")}function Uw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function uF(n,e){const t=e.documentKey.path.toArray();return[n,xI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function dF(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Nt(t[a],r[a]),i)return i;return i=Nt(t.length,r.length),i||(i=Nt(t[t.length-2],r[r.length-2]),i||Nt(t[t.length-1],r[r.length-1]))}class PH{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Sw(r.mutation,i,fs.empty(),Nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ut()){const i=Ca();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=Tw();return a.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Ca();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ut()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let a=zi();const c=Aw(),h=Aw();return t.forEach((m,v)=>{const D=r.get(v.key);i.has(v.key)&&(void 0===D||D.mutation instanceof Kl)?a=a.insert(v.key,v):void 0!==D&&(c.set(v.key,D.mutation.getFieldMask()),Sw(D.mutation,v,D.mutation.getFieldMask(),Nn.now()))}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((v,D)=>c.set(v,D)),t.forEach((v,D)=>{var I;return h.set(v,new PH(D,null!==(I=c.get(v))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Aw();let i=new Xn((c,h)=>c-h),a=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let D=r.get(m)||fs.empty();D=h.applyToLocalView(v,D),r.set(m,D);const I=(i.get(h.batchId)||Ut()).add(m);i=i.insert(h.batchId,I)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,D=m.value,I=E1();D.forEach(R=>{if(!a.has(R)){const L=f1(t.get(R),r.get(R));null!==L&&I.set(R,L),a=a.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,I))}return oe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return je.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):cx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):oe.resolve(Ca());let h=-1,m=a;return c.next(v=>oe.forEach(v,(D,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),a.get(D)?oe.resolve():this.getBaseDocument(e,D,I).next(R=>{m=m.insert(D,R)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,m,v,Ut())).next(D=>({batchId:h,changes:w1(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let i=Tw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Tw();return this.indexManager.getCollectionParents(e,i).next(c=>oe.forEach(c,h=>{const m=(v=t,D=h.child(i),new ql(D,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,D;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((D,I)=>{a=a.insert(D,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((h,m)=>{const v=m.getKey();null===i.get(v)&&(i=i.insert(v,Sn.newInvalidDocument(v)))});let c=Tw();return i.forEach((h,m)=>{const v=a.get(h);void 0!==v&&Sw(v.mutation,m,fs.empty(),Nn.now()),dx(t,m)&&(c=c.insert(h,m))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):oe.resolve(Sn.newInvalidDocument(t))}}class NH{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return oe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Vr(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:wx(r.bundledQuery),readTime:Vr(r.readTime)}),oe.resolve();var r}}class FH{constructor(){this.overlays=new Xn(je.comparator),this.es=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ca();return oe.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Ca(),a=t.length+1,c=new je(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Xn((v,D)=>v-D);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let D=a.get(v.largestBatchId);null===D&&(D=Ca(),a=a.insert(v.largestBatchId,D)),D.set(v.getKey(),v)}}const h=Ca(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,D)=>h.set(v,D)),!(h.size()>=i)););return oe.resolve(h)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bx(t,r));let a=this.es.get(t);void 0===a&&(a=Ut(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class Dx{constructor(){this.ns=new yn(Ur.ss),this.rs=new yn(Ur.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ur(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ur(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new je(new Jt([])),r=new Ur(t,e),i=new Ur(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new je(new Jt([])),r=new Ur(t,e),i=new Ur(t,e+1);let a=Ut();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Ur(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return je.comparator(e.key,t.key)||Nt(e._s,t._s)}static os(e,t){return Nt(e._s,t._s)||je.comparator(e.key,t.key)}}class LH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new yn(Ur.ss)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new yx(a,t,r,i);this.mutationQueue.push(c);for(const h of i)this.gs=this.gs.add(new Ur(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return oe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ur(t,0),i=new Ur(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const h=this.ys(c._s);a.push(h)}),oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Nt);return t.forEach(i=>{const a=new Ur(i,0),c=new Ur(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],h=>{r=r.add(h._s)})}),oe.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const c=new Ur(new je(a),0);let h=new yn(Nt);return this.gs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(m._s)),!0)},c),oe.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){It(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return oe.forEach(t.mutations,i=>{const a=new Ur(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ur(t,0),i=this.gs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VH{constructor(e){this.Es=e,this.docs=new Xn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=zi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Sn.newInvalidDocument(i))}),oe.resolve(r)}getAllFromCollection(e,t,r){let i=zi();const a=new je(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||tx(RN(m),r)<=0||(i=i.insert(m.key,m.mutableCopy()))}return oe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){st()}As(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new BH(this)}getSize(e){return oe.resolve(this.size)}}class BH extends aF{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class UH{constructor(e){this.persistence=e,this.Rs=new zu(t=>tf(t),Cw),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Dx,this.targetCount=0,this.vs=hf.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),oe.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new hf(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Dn(t),oe.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),oe.waitFor(a).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.Ps.containsKey(t))}}class fF{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new $i(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new UH(this),this.indexManager=new IH,this.remoteDocumentCache=new VH(r=>this.referenceDelegate.xs(r)),this.It=new z1(t),this.Ns=new NH(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new LH(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new HH(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return oe.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class HH extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class LI{constructor(e){this.persistence=e,this.Fs=new Dx,this.$s=null}static Bs(e){return new LI(e)}get Ls(){if(this.$s)return this.$s;throw st()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ls,r=>{const i=je.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,St.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return oe.or([()=>oe.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class jH{constructor(e){this.It=e}$(e,t,r,i){const a=new _I("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B1,{unique:!0}),h.createObjectStore("documentMutations"),pF(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=oe.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),pF(e)),c=c.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,m){return m.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",B1,{unique:!0});const D=m.store("mutations"),I=v.map(R=>D.put(R));return oe.waitFor(I)})}(e,a))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(a))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:fH});m.createIndex("collectionPathOverlayIndex",pH,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",gH,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:nH});m.createIndex("documentKeyIndex",rH),m.createIndex("collectionGroupIndex",iH)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:cH}).createIndex("sequenceNumberIndex",uH,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:dH}).createIndex("documentKeyIndex",hH,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=PI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>oe.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(h=>oe.forEach(h,m=>{It(m.userId===a.userId);const v=lf(this.It,m);return nF(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,h)=>{const m=new Jt(c),v=[0,Ai(m)];a.push(t.get(v).next(D=>D?oe.resolve():t.put({targetId:0,path:Ai(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>oe.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:lH});const r=t.store("collectionParents"),i=new Cx,a=c=>{if(i.add(c)){const h=c.lastSegment(),m=c.popLast();return r.put({collectionId:h,parent:Ai(m)})}};return t.store("remoteDocuments").Z({X:!0},(c,h)=>{const m=new Jt(c);return a(m.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,h,m],v)=>{const D=Ia(h);return a(D.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=Nw(i),c=W1(this.It,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const h=t.store("remoteDocumentsV14"),m=(v=c,v.document?new je(Jt.fromString(v.document.name).popFirst(5)):v.noDocument?je.fromSegments(v.noDocument.path):v.unknownDocument?je.fromSegments(v.unknownDocument.path):st()).path.toArray();var v;const D={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(D))}).next(()=>oe.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=lF(this.It),a=new fF(LI.Bs,this.It.re);return r.W().next(c=>{const h=new Map;return c.forEach(m=>{var v;let D=null!==(v=h.get(m.userId))&&void 0!==v?v:Ut();lf(this.It,m).keys().forEach(I=>D=D.add(I)),h.set(m.userId,D)}),oe.forEach(h,(m,v)=>{const D=new Lr(v),I=RI.oe(this.It,D),R=a.getIndexManager(D),L=NI.oe(D,this.It,R,a.referenceDelegate);return new hF(i,L,I,R).recalculateAndSaveOverlaysForDocumentKeys(new _x(t,$i.at),m).next()})})}}function pF(n){n.createObjectStore("targetDocuments",{keyPath:oH}).createIndex("documentTargetsIndex",aH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sH,{unique:!0}),n.createObjectStore("targetGlobal")}const Ix="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sx{constructor(e,t,r,i,a,c,h,m,v,D,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=h,this.Js=v,this.Ys=D,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=R=>Promise.resolve(),!Sx.C())throw new Te(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RH(this,i),this.ii=t+"main",this.It=new z1(m),this.ri=new No(this.ii,this.Xs,new jH(this.It)),this.Cs=new TH(this.referenceDelegate,this.It),this.remoteDocumentCache=lF(this.It),this.Ns=new vH,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===D&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ue.FAILED_PRECONDITION,Ix);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new $i(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,q.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,q.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,q.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>VI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Vu(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Hw(e).get("owner").next(t=>oe.resolve(this.mi(t)))}gi(e){return VI(e).delete(this.clientId)}yi(){var e=this;return(0,q.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Br(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),h=a.filter(m=>-1===c.indexOf(m));return oe.forEach(h,m=>i.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?oe.resolve(!0):Hw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Te(ue.FAILED_PRECONDITION,Ix);return!1}}return!(!this.networkEnabled||!this.inForeground)||VI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,q.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new _x(t,$i.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>VI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return NI.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SH(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return RI.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?_H:14===c?$1:13===c?j1:12===c?mH:11===c?H1:void st();var c;let h;return this.ri.runTransaction(e,i,a,m=>(h=new _x(m,this.Ss?this.Ss.next():$i.at),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Te(ue.FAILED_PRECONDITION,kN);return r(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>r(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Vi(e){return Hw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(ue.FAILED_PRECONDITION,Ix)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hw(e).put("owner",t)}static C(){return No.C()}_i(e){const t=Hw(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hw(n){return Br(n,"owner")}function VI(n){return Br(n,"clientMetadata")}function Tx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ax{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Ut(),i=Ut();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ax(e,t.fromCache,r,i)}}class gF{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(e1(t))return oe.resolve(null);let r=Ti(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=CI(t,null,"F"),r=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Ut(...a);return this.Ni.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.Fi(t,h);return this.$i(t,v,c,m.readTime)?this.ki(e,CI(t,null,"F")):this.Bi(e,v,t,m)}))})))}Oi(e,t,r,i){return e1(t)||i.isEqual(St.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Mi(e,t):(XM()<=Pr.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ux(t)),this.Bi(e,c,t,xN(i,-1)))})}Fi(e,t){let r=new yn(r1(e));return t.forEach((i,a)=>{dx(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return XM()<=Pr.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",ux(t)),this.Ni.getDocumentsMatchingQuery(e,t,hs.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class $H{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Xn(Nt),this.qi=new zu(a=>tf(a),Cw),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hF(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function mF(n,e,t,r){return new $H(n,e,t,r)}function _F(n,e){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,q.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],h=[];let m=Ut();for(const v of i){c.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}for(const v of a){h.push(v.batchId);for(const D of v.mutations)m=m.add(D.key)}return t.localDocuments.getDocuments(r,m).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:h}))})})}),Mx.apply(this,arguments)}function zH(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,h,m,v){const D=m.batch,I=D.keys();let R=oe.resolve();return I.forEach(L=>{R=R.next(()=>v.getEntry(h,L)).next(j=>{const te=m.docVersions.get(L);It(null!==te),j.version.compareTo(te)<0&&(D.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(h,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ut();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(h=h.add(c.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yF(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function GH(n,e){const t=$e(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const h=[];e.targetChanges.forEach((D,I)=>{const R=i.get(I);if(!R)return;h.push(t.Cs.removeMatchingKeys(a,D.removedDocuments,I).next(()=>t.Cs.addMatchingKeys(a,D.addedDocuments,I)));let L=R.withSequenceNumber(a.currentSequenceNumber);var j,te,ne;e.targetMismatches.has(I)?L=L.withResumeToken(Ir.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,r)),i=i.insert(I,L),te=L,ne=D,(0===(j=R).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,L))});let m=zi(),v=Ut();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),h.push(vF(a,c,e.documentUpdates).next(D=>{m=D.Wi,v=D.zi})),!r.isEqual(St.min())){const D=t.Cs.getLastRemoteSnapshotVersion(a).next(I=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(D)}return oe.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(t.Ui=i,a))}function vF(n,e,t){let r=Ut(),i=Ut();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=zi();return t.forEach((h,m)=>{const v=a.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(St.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):Pe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{Wi:c,zi:i}})}function WH(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jm(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,oe.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Gu(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function $m(n,e,t){return xx.apply(this,arguments)}function xx(){return xx=(0,q.Z)(function*(n,e,t){const r=$e(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Vu(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),xx.apply(this,arguments)}function BI(n,e,t){const r=$e(n);let i=St.min(),a=Ut();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,m,v){const D=$e(h),I=D.qi.get(v);return void 0!==I?oe.resolve(D.Ui.get(I)):D.Cs.getTargetData(m,v)}(r,c,Ti(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,h.targetId).next(m=>{a=m})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:St.min(),t?a:Ut())).next(h=>(EF(r,n1(e),h),{documents:h,Hi:a})))}function bF(n,e){const t=$e(n),r=$e(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(c=>c?c.target:null))}function wF(n,e){const t=$e(n),r=t.Ki.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,xN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(EF(t,e,i),i))}function EF(n,e,t){let r=n.Ki.get(e)||St.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function Rx(){return Rx=(0,q.Z)(function*(n,e,t,r){const i=$e(n);let a=Ut(),c=zi();for(const v of t){const D=e.Ji(v.metadata.name);v.document&&(a=a.add(D));const I=e.Yi(v);I.setReadTime(e.Xi(v.metadata.readTime)),c=c.insert(D,I)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),m=yield jm(i,(v=r,Ti(km(Jt.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>vF(v,h,c).next(D=>(h.apply(v),D)).next(D=>i.Cs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Cs.addMatchingKeys(v,a,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,D.Wi,D.zi)).next(()=>D.Wi)))}),Rx.apply(this,arguments)}function KH(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,q.Z)(function*(n,e,t=Ut()){const r=yield jm(n,Ti(wx(e.bundledQuery))),i=$e(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Vr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const h=r.withResumeToken(Ir.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(h.targetId,h),i.Cs.updateTargetData(a,h).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),kx.apply(this,arguments)}function CF(n,e){return`firestore_clients_${n}_${e}`}function DF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ox(n,e){return`firestore_targets_${n}_${e}`}class UI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Te(i.error.code,i.error.message))),c?new UI(e,t,i.state,a):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Te(r.error.code,r.error.message))),a?new jw(e,r.state,i):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=TI();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=BN(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new HI(e,a):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Px{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Px(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nx{constructor(){this.activeTargetIds=TI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fx{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Xn(Nt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=CF(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Nx),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,q.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(CF(e.persistenceKey,i));if(a){const c=HI.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ox(this.persistenceKey,e));if(r){const i=jw.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ox(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,q.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=$i.at;if(null!=a)try{const h=JSON.parse(a);It("number"==typeof h),c=h}catch(h){ar("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==$i.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new UI(this.currentUser,e,t,r),a=DF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=DF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Ox(this.persistenceKey,e),a=new jw(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return HI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return UI.Zi(new Lr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return jw.Zi(i,t)}yr(e){return Px.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,q.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],h=[];return a.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{a.has(m)||h.push(m)}),this.syncEngine.Br(c,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=TI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class IF{constructor(){this.Lr=new Nx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Nx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZH{qr(e){}shutdown(){}}class SF{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const YH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QH{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class XH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const c=this.ho(e,t);Pe("RestConnection","Sending: ",c,r);const h={};return this.lo(h,i,a),this.fo(e,c,h,r).then(m=>(Pe("RestConnection","Received: ",m),m),m=>{throw Kh("RestConnection",`${e} failed with error: `,m,"url: ",c,"request:",r),m})}_o(e,t,r,i,a,c){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${YH[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const h=new Y2;h.setWithCredentials(!0),h.listenOnce(q2.COMPLETE,()=>{var v;try{switch(h.getLastErrorCode()){case QM.NO_ERROR:const D=h.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),a(D);break;case QM.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Te(ue.DEADLINE_EXCEEDED,"Request time out"));break;case QM.HTTP_ERROR:const I=h.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',I,"response text:",h.getResponseText()),I>0){let R=h.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=null===(v=R)||void 0===v?void 0:v.error;if(L&&L.status&&L.message){const j=function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(ne)>=0?ne:ue.UNKNOWN}(L.status);c(new Te(j,L.message))}else c(new Te(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Te(ue.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(i);h.send(t,"POST",m,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=G2(),c=W2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Z2({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const m=i.join("");Pe("Connection","Creating WebChannel: "+m,h);const v=a.createWebChannel(m,h);let D=!1,I=!1;const R=new QH({Hr:j=>{I?Pe("Connection","Not sending because WebChannel is closed:",j):(D||(Pe("Connection","Opening WebChannel transport."),v.open(),D=!0),Pe("Connection","WebChannel sending:",j),v.send(j))},Jr:()=>v.close()}),L=(j,te,ne)=>{j.listen(te,Ue=>{try{ne(Ue)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return L(v,pI.EventType.OPEN,()=>{I||Pe("Connection","WebChannel transport opened.")}),L(v,pI.EventType.CLOSE,()=>{I||(I=!0,Pe("Connection","WebChannel transport closed"),R.io())}),L(v,pI.EventType.ERROR,j=>{I||(I=!0,Kh("Connection","WebChannel transport errored:",j),R.io(new Te(ue.UNAVAILABLE,"The operation could not be completed")))}),L(v,pI.EventType.MESSAGE,j=>{var te;if(!I){const ne=j.data[0];It(!!ne);const Ue=ne,Xe=Ue.error||(null===(te=Ue[0])||void 0===te?void 0:te.error);if(Xe){Pe("Connection","WebChannel received error:",Xe);const nt=Xe.status;let Ze=function(bt){const Zt=fr[bt];if(void 0!==Zt)return v1(Zt)}(nt),ft=Xe.message;void 0===Ze&&(Ze=ue.INTERNAL,ft="Unknown error status: "+nt+" with message "+Xe.message),I=!0,R.io(new Te(Ze,ft)),v.close()}else Pe("Connection","WebChannel received:",ne),R.ro(ne)}}),L(c,K2.STAT_EVENT,j=>{j.stat===DN.PROXY?Pe("Connection","Detected buffering proxy"):j.stat===DN.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.so()},0),R}}function TF(){return typeof window<"u"?window:null}function jI(){return typeof document<"u"?document:null}function $w(n){return new $U(n,!0)}class Lx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class AF{constructor(e,t,r,i,a,c,h,m){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Lx(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,q.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,q.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,q.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Te(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,q.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JH extends AF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function WU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:st(),i=e.targetChange.targetIds||[],a=function(m,v){return m.gt?(It(void 0===v||"string"==typeof v),Ir.fromBase64String(v||"")):(It(void 0===v||v instanceof Uint8Array),Ir.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const v=void 0===m.code?ue.UNKNOWN:v1(m.code);return new Te(v,m.message||"")}(c);t=new D1(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Da(n,r.document.name),a=Vr(r.document.updateTime),c=new Xr({mapValue:{fields:r.document.fields}}),h=Sn.newFoundDocument(i,a,c);t=new AI(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=Da(n,r.document),a=r.readTime?Vr(r.readTime):St.min(),c=Sn.newNoDocument(i,a);t=new AI([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Da(n,r.document);t=new AI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,a=new NU(r.count||0);t=new C1(r.targetId,a)}}var m;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return St.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?Vr(a.readTime):St.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Ow(this.It),t.addTarget=function(i,a){let c;const h=a.target;return c=wI(h)?{documents:P1(i,h)}:{query:mx(i,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=A1(i,a.resumeToken):a.snapshotVersion.compareTo(St.min())>0&&(c.readTime=Rw(i,a.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function KU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Ow(this.It),t.removeTarget=e,this.Bo(t)}}class ej extends AF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function qU(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,i){let a=Vr(r.updateTime?r.updateTime:i);return a.isEqual(St.min())&&(a=Vr(i)),new kU(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.Zo(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Ow(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Pw(this.It,r))};this.Bo(t)}}class tj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(ue.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ue.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class rj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ar(t),this.ou=!1):Pe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ij{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(h=>{r.enqueueAndForget((0,q.Z)(function*(){var m;Zl(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,q.Z)(function*(v){const D=$e(v);D._u.add(4),yield zm(D),D.gu.set("Unknown"),D._u.delete(4),yield zw(D)}),function(v){return m.apply(this,arguments)})(c))}))}),this.gu=new rj(r,i)}}function zw(n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,q.Z)(function*(n){if(Zl(n))for(const e of n.wu)yield e(!0)}),Bx.apply(this,arguments)}function zm(n){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,q.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Ux.apply(this,arguments)}function $I(n,e){const t=$e(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),$x(t)?jx(t):Wm(t).ko()&&Hx(t,e))}function Gw(n,e){const t=$e(n),r=Wm(t);t.du.delete(e),r.ko()&&MF(t,e),0===t.du.size&&(r.ko()?r.Fo():Zl(t)&&t.gu.set("Unknown"))}function Hx(n,e){n.yu.Mt(e.targetId),Wm(n).zo(e)}function MF(n,e){n.yu.Mt(e),Wm(n).Ho(e)}function jx(n){n.yu=new UU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Wm(n).start(),n.gu.uu()}function $x(n){return Zl(n)&&!Wm(n).No()&&n.du.size>0}function Zl(n){return 0===$e(n)._u.size}function xF(n){n.yu=void 0}function sj(n){return zx.apply(this,arguments)}function zx(){return zx=(0,q.Z)(function*(n){n.du.forEach((e,t)=>{Hx(n,e)})}),zx.apply(this,arguments)}function oj(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,q.Z)(function*(n,e){xF(n),$x(n)?(n.gu.hu(e),jx(n)):n.gu.set("Unknown")}),Gx.apply(this,arguments)}function aj(n,e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,q.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof D1&&2===e.state&&e.cause)try{yield(r=(0,q.Z)(function*(i,a){const c=a.cause;for(const h of a.targetIds)i.du.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.du.delete(h),i.yu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zI(n,r)}else if(e instanceof AI?n.yu.Gt(e):e instanceof C1?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(St.min()))try{const r=yield yF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.te(a);return c.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=i.du.get(m);v&&i.du.set(m,v.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach(h=>{const m=i.du.get(h);if(!m)return;i.du.set(h,m.withResumeToken(Ir.EMPTY_BYTE_STRING,m.snapshotVersion)),MF(i,h);const v=new Gu(m.target,h,1,m.sequenceNumber);Hx(i,v)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield zI(n,r)}var r}),Wx.apply(this,arguments)}function zI(n,e,t){return qx.apply(this,arguments)}function qx(){return qx=(0,q.Z)(function*(n,e,t){if(!Vu(e))throw e;n._u.add(1),yield zm(n),n.gu.set("Offline"),t||(t=()=>yF(n.localStore)),n.asyncQueue.enqueueRetryable((0,q.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield zw(n)}))}),qx.apply(this,arguments)}function RF(n,e){return e().catch(t=>zI(n,t,e))}function Gm(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,q.Z)(function*(n){const e=$e(n),t=Ku(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;lj(e);)try{const i=yield WH(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,cj(e,i)}catch(i){yield zI(e,i)}kF(e)&&OF(e)}),Kx.apply(this,arguments)}function lj(n){return Zl(n)&&n.fu.length<10}function cj(n,e){n.fu.push(e);const t=Ku(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function kF(n){return Zl(n)&&!Ku(n).No()&&n.fu.length>0}function OF(n){Ku(n).start()}function uj(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,q.Z)(function*(n){Ku(n).eu()}),Zx.apply(this,arguments)}function dj(n){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,q.Z)(function*(n){const e=Ku(n);for(const t of n.fu)e.Xo(t.mutations)}),Yx.apply(this,arguments)}function hj(n,e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,q.Z)(function*(n,e,t){const r=n.fu.shift(),i=vx.from(r,e,t);yield RF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gm(n)}),Qx.apply(this,arguments)}function fj(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,q.Z)(function*(n,e){var t;e&&Ku(n).Yo&&(yield(t=(0,q.Z)(function*(r,i){if(y1(a=i.code)&&a!==ue.ABORTED){const c=r.fu.shift();Ku(r).Mo(),yield RF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Gm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),kF(n)&&OF(n)}),Xx.apply(this,arguments)}function PF(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,q.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Zl(t);t._u.add(3),yield zm(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield zw(t)}),Jx.apply(this,arguments)}function eR(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,q.Z)(function*(n,e){const t=$e(n);e?(t._u.delete(2),yield zw(t)):e||(t._u.add(2),yield zm(t),t.gu.set("Unknown"))}),tR.apply(this,arguments)}function Wm(n){return n.pu||(n.pu=function(e,t,r){const i=$e(e);return i.su(),new JH(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:sj.bind(null,n),Zr:oj.bind(null,n),Wo:aj.bind(null,n)}),n.wu.push(function(){var e=(0,q.Z)(function*(t){t?(n.pu.Mo(),$x(n)?jx(n):n.gu.set("Unknown")):(yield n.pu.stop(),xF(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ku(n){return n.Iu||(n.Iu=function(e,t,r){const i=$e(e);return i.su(),new ej(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:uj.bind(null,n),Zr:fj.bind(null,n),tu:dj.bind(null,n),Zo:hj.bind(null,n)}),n.wu.push(function(){var e=(0,q.Z)(function*(t){t?(n.Iu.Mo(),yield Gm(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class nR{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,h=new nR(e,t,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(n,e){if(ar("AsyncQueue",`${e}: ${n}`),Vu(n))return new Te(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Km{constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=Tw(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new Km(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Km)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Km;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NF{constructor(){this.Tu=new Xn(je.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):st():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zm{constructor(e,t,r,i,a,c,h,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Zm(e,t,Km.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class pj{constructor(){this.Au=void 0,this.listeners=[]}}class gj{constructor(){this.queries=new zu(e=>t1(e),Dw),this.onlineState="Unknown",this.Ru=new Set}}function rR(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,q.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new pj),i)try{a.Au=yield t.onListen(r)}catch(c){const h=qm(c,`Initialization of query '${ux(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&aR(t)}),iR.apply(this,arguments)}function sR(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,q.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),oR.apply(this,arguments)}function mj(n,e){const t=$e(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.Pu(i)&&(r=!0);c.Au=i}}r&&aR(t)}function _j(n,e,t){const r=$e(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function aR(n){n.Ru.forEach(e=>{e.next()})}class lR{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Zm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class yj{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class FF{constructor(e){this.It=e}Ji(e){return Da(this.It,e)}Yi(e){return e.metadata.exists?O1(this.It,e.document,!1):Sn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Vr(e)}}class vj{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LF(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Jt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new FF(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||Ut()).add(a);t.set(c,h)}}return t}complete(){var e=this;return(0,q.Z)(function*(){const t=yield function qH(n,e,t,r){return Rx.apply(this,arguments)}(e.localStore,new FF(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield KH(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function LF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VF{constructor(e){this.key=e}}class BF{constructor(e){this.key=e}}class UF{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ut(),this.mutatedKeys=Ut(),this.Gu=r1(e),this.Qu=new Km(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new NF,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,I)=>{const R=i.get(D),L=dx(this.query,I)?I:null,j=!!R&&this.mutatedKeys.has(R.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ne=!1;R&&L?R.data.isEqual(L.data)?j!==te&&(r.track({type:3,doc:L}),ne=!0):this.Hu(R,L)||(r.track({type:2,doc:L}),ne=!0,(m&&this.Gu(L,m)>0||v&&this.Gu(L,v)<0)&&(h=!0)):!R&&L?(r.track({type:0,doc:L}),ne=!0):R&&!L&&(r.track({type:1,doc:R}),ne=!0,(m||v)&&(h=!0)),ne&&(L?(c=c.add(L),a=te?a.add(D):a.delete(D)):(c=c.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{Qu:c,zu:r,$i:h,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,D)=>function(I,R){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return L(I)-L(R)}(v.type,D.type)||this.Gu(v.doc,D.doc)),this.Ju(r);const c=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,m=h!==this.qu;return this.qu=h,0!==a.length||m?{snapshot:new Zm(this.query,e.Qu,i,a,e.mutatedKeys,0===h,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NF,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ut(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new BF(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new VF(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Ut();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Zm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class bj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wj{constructor(e){this.key=e,this.nc=!1}}class Ej{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new zu(h=>t1(h),Dw),this.rc=new Map,this.oc=new Set,this.uc=new Xn(je.comparator),this.cc=new Map,this.ac=new Dx,this.hc={},this.lc=new Map,this.fc=hf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Cj(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,q.Z)(function*(n,e){const t=kR(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const c=yield jm(t.localStore,Ti(e));t.isPrimaryClient&&$I(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield uR(t,e,r,"current"===h,c.resumeToken)}return i}),cR.apply(this,arguments)}function uR(n,e,t,r,i){return dR.apply(this,arguments)}function dR(){return dR=(0,q.Z)(function*(n,e,t,r,i){n._c=(I,R,L)=>{return(j=(0,q.Z)(function*(te,ne,Ue,Xe){let nt=ne.view.Wu(Ue);nt.$i&&(nt=yield BI(te.localStore,ne.query,!1).then(({documents:bt})=>ne.view.Wu(bt,nt)));const Ze=Xe&&Xe.targetChanges.get(ne.targetId),ft=ne.view.applyChanges(nt,te.isPrimaryClient,Ze);return wR(te,ne.targetId,ft.Xu),ft.snapshot}),function(te,ne,Ue,Xe){return j.apply(this,arguments)})(n,I,R,L);var j};const a=yield BI(n.localStore,e,!0),c=new UF(e,a.Hi),h=c.Wu(a.documents),m=xw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(h,n.isPrimaryClient,m);wR(n,t,v.Xu);const D=new bj(e,t,c);return n.ic.set(e,D),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),dR.apply(this,arguments)}function Dj(n,e){return hR.apply(this,arguments)}function hR(){return hR=(0,q.Z)(function*(n,e){const t=$e(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Dw(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $m(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Gw(t.remoteStore,r.targetId),Ym(t,r.targetId)}).catch(Lu))):(Ym(t,r.targetId),yield $m(t.localStore,r.targetId,!0))}),hR.apply(this,arguments)}function fR(){return fR=(0,q.Z)(function*(n,e,t){const r=OR(n);try{const i=yield function(a,c){const h=$e(a),m=Nn.now(),v=c.reduce((R,L)=>R.add(L.key),Ut());let D,I;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let L=zi(),j=Ut();return h.Gi.getEntries(R,v).next(te=>{L=te,L.forEach((ne,Ue)=>{Ue.isValidDocument()||(j=j.add(ne))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,L)).next(te=>{D=te;const ne=[];for(const Ue of c){const Xe=PU(Ue,D.get(Ue.key).overlayedDocument);null!=Xe&&ne.push(new Kl(Ue.key,Xe,WN(Xe.value.mapValue),Fn.exists(!0)))}return h.mutationQueue.addMutationBatch(R,m,ne,c)}).next(te=>{I=te;const ne=te.applyToLocalDocumentSet(D,j);return h.documentOverlayCache.saveOverlays(R,te.batchId,ne)})}).then(()=>({batchId:I.batchId,changes:w1(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,h){let m=a.hc[a.currentUser.toKey()];m||(m=new Xn(Nt)),m=m.insert(c,h),a.hc[a.currentUser.toKey()]=m}(r,i.batchId,t),yield Yl(r,i.changes),yield Gm(r.remoteStore)}catch(i){const a=qm(i,"Failed to persist write");t.reject(a)}}),fR.apply(this,arguments)}function HF(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,q.Z)(function*(n,e){const t=$e(n);try{const r=yield GH(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.cc.get(a);c&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?It(c.nc):i.removedDocuments.size>0&&(It(c.nc),c.nc=!1))}),yield Yl(t,r,e)}catch(r){yield Lu(r)}}),pR.apply(this,arguments)}function jF(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,c)=>{const h=c.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,c){const h=$e(a);h.onlineState=c;let m=!1;h.queries.forEach((v,D)=>{for(const I of D.listeners)I.bu(c)&&(m=!0)}),m&&aR(h)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sj(n,e,t){return gR.apply(this,arguments)}function gR(){return gR=(0,q.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let c=new Xn(je.comparator);c=c.insert(a,Sn.newNoDocument(a,St.min()));const h=Ut().add(a),m=new Mw(St.min(),new Map,new yn(Nt),c,h);yield HF(r,m),r.uc=r.uc.remove(a),r.cc.delete(e),ER(r)}else yield $m(r.localStore,e,!1).then(()=>Ym(r,e,t)).catch(Lu)}),gR.apply(this,arguments)}function Tj(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,q.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const i=yield zH(t.localStore,e);bR(t,r,null),vR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yl(t,i)}catch(i){yield Lu(i)}}),mR.apply(this,arguments)}function Aj(n,e,t){return _R.apply(this,arguments)}function _R(){return _R=(0,q.Z)(function*(n,e,t){const r=$e(n);try{const i=yield function(a,c){const h=$e(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,c).next(D=>(It(null!==D),v=D.keys(),h.mutationQueue.removeMutationBatch(m,D))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(r.localStore,e);bR(r,e,t),vR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yl(r,i)}catch(i){yield Lu(i)}}),_R.apply(this,arguments)}function yR(){return yR=(0,q.Z)(function*(n,e){const t=$e(n);Zl(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=$e(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=qm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),yR.apply(this,arguments)}function vR(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function bR(n,e,t){const r=$e(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||$F(n,r)})}function $F(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Gw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),ER(n))}function wR(n,e,t){for(const r of t)r instanceof VF?(n.ac.addReference(r.key,e),xj(n,r)):r instanceof BF?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||$F(n,r.key)):st()}function xj(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.oc.add(r),ER(n))}function ER(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new je(Jt.fromString(e)),r=n.fc.next();n.cc.set(r,new wj(t)),n.uc=n.uc.insert(t,r),$I(n.remoteStore,new Gu(Ti(km(t.path)),r,2,$i.at))}}function Yl(n,e,t){return CR.apply(this,arguments)}function CR(){return CR=(0,q.Z)(function*(n,e,t){const r=$e(n),i=[],a=[],c=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,m)=>{c.push(r._c(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const D=Ax.Ci(m.targetId,v);a.push(D)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(h=(0,q.Z)(function*(m,v){const D=$e(m);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>oe.forEach(v,R=>oe.forEach(R.Si,L=>D.persistence.referenceDelegate.addReference(I,R.targetId,L)).next(()=>oe.forEach(R.Di,L=>D.persistence.referenceDelegate.removeReference(I,R.targetId,L)))))}catch(I){if(!Vu(I))throw I;Pe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const R=I.targetId;if(!I.fromCache){const L=D.Ui.get(R),te=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);D.Ui=D.Ui.insert(R,te)}}}),function(m,v){return h.apply(this,arguments)})(r.localStore,a))}),CR.apply(this,arguments)}function Rj(n,e){return DR.apply(this,arguments)}function DR(){return DR=(0,q.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield _F(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(h=>{h.reject(new Te(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yl(t,r.ji)}var i}),DR.apply(this,arguments)}function kj(n,e){const t=$e(n),r=t.cc.get(e);if(r&&r.nc)return Ut().add(r.key);{let i=Ut();const a=t.rc.get(e);if(!a)return i;for(const c of a){const h=t.ic.get(c);i=i.unionWith(h.view.ju)}return i}}function Oj(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,q.Z)(function*(n,e){const t=$e(n),r=yield BI(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&wR(t,e.targetId,i.Xu),i}),IR.apply(this,arguments)}function Pj(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,q.Z)(function*(n,e){const t=$e(n);return wF(t.localStore,e).then(r=>Yl(t,r))}),SR.apply(this,arguments)}function Nj(n,e,t,r){return TR.apply(this,arguments)}function TR(){return TR=(0,q.Z)(function*(n,e,t,r){const i=$e(n),a=yield function(c,h){const m=$e(c),v=$e(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",D=>v.Tn(D,h).next(I=>I?m.localDocuments.getDocuments(D,I):oe.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield Gm(i.remoteStore):"acknowledged"===t||"rejected"===t?(bR(i,e,r||null),vR(i,e),h=e,$e($e(i.localStore).mutationQueue).An(h)):st(),yield Yl(i,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),TR.apply(this,arguments)}function AR(){return AR=(0,q.Z)(function*(n,e){const t=$e(n);if(kR(t),OR(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield zF(t,r.toArray());t.dc=!0,yield eR(t.remoteStore,!0);for(const a of i)$I(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Ym(t,c),$m(t.localStore,c,!0))),Gw(t.remoteStore,c)}),yield i,yield zF(t,r),function(a){const c=$e(a);c.cc.forEach((h,m)=>{Gw(c.remoteStore,m)}),c.ac.fs(),c.cc=new Map,c.uc=new Xn(je.comparator)}(t),t.dc=!1,yield eR(t.remoteStore,!1)}}),AR.apply(this,arguments)}function zF(n,e,t){return MR.apply(this,arguments)}function MR(){return MR=(0,q.Z)(function*(n,e,t){const r=$e(n),i=[],a=[];for(const c of e){let h;const m=r.rc.get(c);if(m&&0!==m.length){h=yield jm(r.localStore,Ti(m[0]));for(const v of m){const D=r.ic.get(v),I=yield Oj(r,D);I.snapshot&&a.push(I.snapshot)}}else{const v=yield bF(r.localStore,c);h=yield jm(r.localStore,v),yield uR(r,GF(v),c,!1,h.resumeToken)}i.push(h)}return r.sc.Wo(a),i}),MR.apply(this,arguments)}function GF(n){return JN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Lj(n){const e=$e(n);return $e($e(e.localStore).persistence).vi()}function Vj(n,e,t,r){return xR.apply(this,arguments)}function xR(){return xR=(0,q.Z)(function*(n,e,t,r){const i=$e(n);if(i.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield wF(i.localStore,n1(a[0])),h=Mw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ir.EMPTY_BYTE_STRING);yield Yl(i,c,h);break}case"rejected":yield $m(i.localStore,e,!0),Ym(i,e,r);break;default:st()}}),xR.apply(this,arguments)}function Bj(n,e,t){return RR.apply(this,arguments)}function RR(){return RR=(0,q.Z)(function*(n,e,t){const r=kR(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const a=yield bF(r.localStore,i),c=yield jm(r.localStore,a);yield uR(r,GF(a),c.targetId,!1,c.resumeToken),$I(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield $m(r.localStore,i,!1).then(()=>{Gw(r.remoteStore,i),Ym(r,i)}).catch(Lu))}}),RR.apply(this,arguments)}function kR(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sj.bind(null,e),e.sc.Wo=mj.bind(null,e.eventManager),e.sc.wc=_j.bind(null,e.eventManager),e}function OR(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Aj.bind(null,e),e}class WF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,q.Z)(function*(){t.It=$w(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return mF(this.persistence,new gF,e.initialUser,this.It)}yc(e){return new fF(LI.Bs,this.It)}gc(e){return new IF}terminate(){var e=this;return(0,q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qF extends WF{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,q.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield OR(r.Ac.syncEngine),yield Gm(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return mF(this.persistence,new gF,e.initialUser,this.It)}Tc(e,t){return new MH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new hU(t,this.persistence);return new dU(e.asyncQueue,r)}yc(e){const t=Tx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new Sx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,TF(),jI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new IF}}class Hj extends qF{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,q.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Fx&&(r.sharedClientState.syncEngine={Fr:Nj.bind(null,i),$r:Vj.bind(null,i),Br:Bj.bind(null,i),vi:Lj.bind(null,i),Mr:Pj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,q.Z)(function*(c){yield function Fj(n,e){return AR.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=TF();if(!Fx.C(t))throw new Te(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Tx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class PR{initialize(e,t){var r=this;return(0,q.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Rj.bind(null,r.syncEngine),yield eR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gj}createDatastore(e){const t=$w(e.databaseInfo.databaseId),r=new XH(e.databaseInfo);return new tj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>jF(this.syncEngine,h,0),c=SF.C()?new SF:new ZH,new ij(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,h,m,v){const D=new Ej(r,i,a,c,h,m);return v&&(D.dc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,q.Z)(function*(t){const r=$e(t);Pe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield zm(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function NR(n,e,t){if(!t)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KF(n,e,t,r){if(!0===e&&!0===r)throw new Te(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZF(n){if(!je.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function YF(n){if(je.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function Kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=GI(n);throw new Te(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function QF(n,e){if(e<=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const XF=new Map;class JF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ww{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new J2;switch(t.type){case"gapi":return new rU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=XF.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),XF.delete(e),t.terminate())}(this),Promise.resolve()}}function eL(n,e,t,r={}){var i;const a=(n=Kt(n,Ww))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Kh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=Lr.MOCK_USER;else{c=(0,rt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Te(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Lr(m)}n._authCredentials=new eU(new SN(c,h))}}class Mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class fi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class Sa extends fi{constructor(e,t,r){super(e,t,km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new je(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function tL(n,e,...t){if(n=(0,rt.m9)(n),NR("collection","path",e),n instanceof Ww){const r=Jt.fromString(e,...t);return YF(r),new Sa(n,null,r)}{if(!(n instanceof Mn||n instanceof Sa))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return YF(r),new Sa(n.firestore,null,r)}}function WI(n,e,...t){if(n=(0,rt.m9)(n),1===arguments.length&&(e=AN.R()),NR("doc","path",e),n instanceof Ww){const r=Jt.fromString(e,...t);return ZF(r),new Mn(n,null,new je(r))}{if(!(n instanceof Mn||n instanceof Sa))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return ZF(r),new Mn(n.firestore,n instanceof Sa?n.converter:null,new je(r))}}function nL(n,e){return n=(0,rt.m9)(n),e=(0,rt.m9)(e),(n instanceof Mn||n instanceof Sa)&&(e instanceof Mn||e instanceof Sa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function FR(n,e){return n=(0,rt.m9)(n),e=(0,rt.m9)(e),n instanceof fi&&e instanceof fi&&n.firestore===e.firestore&&Dw(n._query,e._query)&&n.converter===e.converter}function rL(n,e=10240){let t=0;return{read:()=>(0,q.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,q.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $j{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Dr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,q.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,q.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,q.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new yj(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,q.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,q.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,q.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Wj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,q.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,q.Z)(function*(a,c){const h=$e(a),m=Ow(h.It)+"/documents",v={documents:c.map(L=>kw(h.It,L))},D=yield h._o("BatchGetDocuments",m,v,c.length),I=new Map;D.forEach(L=>{const j=function GU(n,e){return"found"in e?function(t,r){It(!!r.found);const i=Da(t,r.found.name),a=Vr(r.found.updateTime),c=new Xr({mapValue:{fields:r.found.fields}});return Sn.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const i=Da(t,r.missing),a=Vr(r.readTime);return Sn.newNoDocument(i,a)}(n,e):st()}(h.It,L);I.set(j.key.toString(),j)});const R=[];return c.forEach(L=>{const j=I.get(L.toString());It(!!j),R.push(j)}),R}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=je.fromPath(i);e.mutations.push(new hx(a,e.precondition(a)))}),yield(r=(0,q.Z)(function*(i,a){const c=$e(i),h=Ow(c.It)+"/documents",m={writes:a.map(v=>Pw(c.It,v))};yield c.ao("Commit",h,m)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Te(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(St.min())?Fn.exists(!1):Fn.updateTime(t):Fn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Te(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(t)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qj{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Lx(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,q.Z)(function*(){const t=new Wj(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!yw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!y1(t)}return!1}}class Kj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=AN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,q.Z)(function*(h){Pe("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=qm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function iL(n,e){return LR.apply(this,arguments)}function LR(){return LR=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,q.Z)(function*(a){r.isEqual(a)||(yield _F(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),LR.apply(this,arguments)}function sL(n,e){return VR.apply(this,arguments)}function VR(){return VR=(0,q.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield BR(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>PF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>PF(e.remoteStore,a)),n.onlineComponents=e}),VR.apply(this,arguments)}function BR(n){return UR.apply(this,arguments)}function UR(){return UR=(0,q.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield iL(n,new WF)),n.offlineComponents}),UR.apply(this,arguments)}function KI(n){return HR.apply(this,arguments)}function HR(){return HR=(0,q.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield sL(n,new PR)),n.onlineComponents}),HR.apply(this,arguments)}function oL(n){return BR(n).then(e=>e.persistence)}function ZI(n){return BR(n).then(e=>e.localStore)}function jR(n){return KI(n).then(e=>e.remoteStore)}function $R(n){return KI(n).then(e=>e.syncEngine)}function Qm(n){return zR.apply(this,arguments)}function zR(){return zR=(0,q.Z)(function*(n){const e=yield KI(n),t=e.eventManager;return t.onListen=Cj.bind(null,e.syncEngine),t.onUnlisten=Dj.bind(null,e.syncEngine),t}),zR.apply(this,arguments)}function lL(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(i,a,c,h,m){const v=new qI({next:I=>{a.enqueueAndForget(()=>sR(i,D));const R=I.docs.has(c);!R&&I.fromCache?m.reject(new Te(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&h&&"server"===h.source?m.reject(new Te(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),D=new lR(km(c.path),v,{includeMetadataChanges:!0,Nu:!0});return rR(i,D)}(yield Qm(n),n.asyncQueue,e,t,r)})),r.promise}function cL(n,e,t={}){const r=new Dr;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function(i,a,c,h,m){const v=new qI({next:I=>{a.enqueueAndForget(()=>sR(i,D)),I.fromCache&&"server"===h.source?m.reject(new Te(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),D=new lR(c,v,{includeMetadataChanges:!0,Nu:!0});return rR(i,D)}(yield Qm(n),n.asyncQueue,e,t,r)})),r.promise}class n${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Lx(this,"async_queue_retry"),this.Wc=()=>{const t=jI();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=jI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=jI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Dr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,q.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Vu(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=nR.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&st()}verifyOperationInProgress(){}Xc(){var e=this;return(0,q.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function GR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class r${constructor(){this._progressObserver={},this._taskCompletionResolver=new Dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xn extends Ww{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new n$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uL(this),this._firestoreClient.terminate()}}function s$(n,e){const t="object"==typeof n?n:(0,Lt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Lt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,rt.P0)("firestore");a&&eL(i,...a)}return i}function lr(n){return n._firestoreClient||uL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new gU(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new Kj(n._authCredentials,n._appCheckCredentials,n._queue,r)}function dL(n,e,t){const r=new Dr;return n.asyncQueue.enqueue((0,q.Z)(function*(){try{yield iL(n,t),yield sL(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===ue.FAILED_PRECONDITION||c.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;Kh("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function hL(n){if(n._initialized||n._terminated)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Ir.fromBase64String(e))}catch(t){throw new Te(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ta(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ql{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pf{constructor(e){this._methodName=e}}class YI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const p$=/^__.*__$/;class g${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fm(e,this.data,t,this.fieldTransforms)}}class fL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Kl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class QI{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new QI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eS(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(pL(this.sa)&&p$.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class m${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||$w(e)}da(e,t,r,i=!1){return new QI({sa:e,methodName:t,fa:r,path:Qn.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function gf(n){const e=n._freezeSettings(),t=$w(n._databaseId);return new m$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XI(n,e,t,r,i,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,i);ZR("Data must be an object, but it was:",c,r);const h=_L(r,c);let m,v;if(a.merge)m=new fs(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const D=[];for(const I of a.mergeFields){const R=YR(e,I,t);if(!c.contains(R))throw new Te(ue.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);vL(D,R)||D.push(R)}m=new fs(D),v=c.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,v=c.fieldTransforms;return new g$(new Xr(h),m,v)}class qw extends pf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qw}}function gL(n,e,t){return new QI({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class WR extends pf{_toFieldTransform(e){return new Iw(e.path,new Pm)}isEqual(e){return e instanceof WR}}class _$ extends pf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=gL(this,e,!0),r=this._a.map(a=>mf(a,t)),i=new nf(r);return new Iw(e.path,i)}isEqual(e){return this===e}}class y$ extends pf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=gL(this,e,!0),r=this._a.map(a=>mf(a,t)),i=new rf(r);return new Iw(e.path,i)}isEqual(e){return this===e}}class v$ extends pf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Nm(e.It,a1(e.It,this.wa));return new Iw(e.path,t)}isEqual(e){return this===e}}function qR(n,e,t,r){const i=n.da(1,e,t);ZR("Data must be an object, but it was:",i,r);const a=[],c=Xr.empty();Qh(r,(m,v)=>{const D=JI(e,m,t);v=(0,rt.m9)(v);const I=i.ca(D);if(v instanceof qw)a.push(D);else{const R=mf(v,I);null!=R&&(a.push(D),c.set(D,R))}});const h=new fs(a);return new fL(c,h,i.fieldTransforms)}function KR(n,e,t,r,i,a){const c=n.da(1,e,t),h=[YR(e,r,t)],m=[i];if(a.length%2!=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<a.length;R+=2)h.push(YR(e,a[R])),m.push(a[R+1]);const v=[],D=Xr.empty();for(let R=h.length-1;R>=0;--R)if(!vL(v,h[R])){const L=h[R];let j=m[R];j=(0,rt.m9)(j);const te=c.ca(L);if(j instanceof qw)v.push(L);else{const ne=mf(j,te);null!=ne&&(v.push(L),D.set(L,ne))}}const I=new fs(v);return new fL(D,I,c.fieldTransforms)}function mL(n,e,t,r=!1){return mf(t,n.da(r?4:3,e))}function mf(n,e){if(yL(n=(0,rt.m9)(n)))return ZR("Unsupported field value:",e,n),_L(n,e);if(n instanceof pf)return function(t,r){if(!pL(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let h=mf(c,r.aa(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return a1(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Nn.fromDate(t);return{timestampValue:Rw(r.It,i)}}if(t instanceof Nn){const i=new Nn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rw(r.It,i)}}if(t instanceof YI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ta)return{bytesValue:A1(r.It,t._byteString)};if(t instanceof Mn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${GI(t)}`)}(n,e)}function _L(n,e){const t={};return FN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qh(n,(r,i)=>{const a=mf(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function yL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof YI||n instanceof Ta||n instanceof Mn||n instanceof pf)}function ZR(n,e,t){if(!yL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=GI(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function YR(n,e,t){if((e=(0,rt.m9)(e))instanceof Ql)return e._internalPath;if("string"==typeof e)return JI(n,e);throw eS("Field path arguments must be of type string or ",n,!1,void 0,t)}const b$=new RegExp("[~\\*/\\[\\]]");function JI(n,e,t){if(e.search(b$)>=0)throw eS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ql(...e.split("."))._internalPath}catch{throw eS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eS(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new Te(ue.INVALID_ARGUMENT,h+n+m)}function vL(n,e){return n.some(t=>t.isEqual(e))}class Kw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new w$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class w$ extends Kw{data(){return super.data()}}function tS(n,e){return"string"==typeof e?JI(n,e):e instanceof Ql?e._internalPath:e._delegate._internalPath}function bL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zw{}function Zu(n,...e){for(const t of e)n=t._apply(n);return n}class E$ extends Zw{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=gf(e.firestore),r=function(i,a,c,h,m,v,D){let I;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){SL(D,v);const L=[];for(const j of D)L.push(IL(h,i,j));I={arrayValue:{values:L}}}else I=IL(h,i,D)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||SL(D,v),I=mL(c,"where",D,"in"===v||"not-in"===v);const R=Jr.create(m,v,I);return function(L,j){if(j.dt()){const ne=lx(L);if(null!==ne&&!ne.isEqual(j.field))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ne.toString()}' and '${j.field.toString()}'`);const Ue=ax(L);null!==Ue&&TL(0,j.field,Ue)}const te=function(ne,Ue){for(const Xe of ne.filters)if(Ue.indexOf(Xe.op)>=0)return Xe.op;return null}(L,function(ne){switch(ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==te)throw new Te(ue.INVALID_ARGUMENT,te===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${te.toString()}' filters.`)}(i,R),R}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new fi(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new ql(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class D$ extends Zw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Rm(i,a);return function(h,m){if(null===ax(h)){const v=lx(h);null!==v&&TL(0,v,m.field)}}(r,c),c}(e._query,this.ma,this.pa);return new fi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ql(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class wL extends Zw{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new fi(e.firestore,e.converter,CI(e._query,this.Ia,this.Ta))}}class EL extends Zw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=DL(e,this.type,this.Ea,this.Aa);return new fi(e.firestore,e.converter,(i=t,new ql((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class CL extends Zw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=DL(e,this.type,this.Ea,this.Aa);return new fi(e.firestore,e.converter,(i=t,new ql((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function DL(n,e,t,r){if(t[0]=(0,rt.m9)(t[0]),t[0]instanceof Kw)return function(i,a,c,h,m){if(!h)throw new Te(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const D of Om(i))if(D.field.isKeyField())v.push(ef(a,h.key));else{const I=h.data.field(D.field);if(ix(I))throw new Te(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const R=D.field.canonicalString();throw new Te(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(I)}return new $u(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=gf(n.firestore);return function(a,c,h,m,v,D){const I=a.explicitOrderBy;if(v.length>I.length)throw new Te(ue.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let L=0;L<v.length;L++){const j=v[L];if(I[L].field.isKeyField()){if("string"!=typeof j)throw new Te(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof j}`);if(!cx(a)&&-1!==j.indexOf("/"))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${j}' contains a slash.`);const te=a.path.child(Jt.fromString(j));if(!je.isDocumentKey(te))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const ne=new je(te);R.push(ef(c,ne))}else{const te=mL(h,m,j);R.push(te)}}return new $u(R,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function IL(n,e,t){if("string"==typeof(t=(0,rt.m9)(t))){if(""===t)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cx(e)&&-1!==t.indexOf("/"))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!je.isDocumentKey(r))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ef(n,new je(r))}if(t instanceof Mn)return ef(n,t._key);throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${GI(t)}.`)}function SL(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function TL(n,e,t){if(!t.isEqual(e))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class QR{convertValue(e,t="none"){switch(Jh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return Qh(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new YI(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=VN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_w(e));default:return null}}convertTimestamp(e){const t=Bu(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);It(L1(r));const i=new Uu(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(t)||ar(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function nS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class k$ extends QR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}class _f{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends Kw{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Yw extends Xl{data(e={}){return super.data(e)}}class Yu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _f(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yw(this._firestore,this._userDataWriter,r.key,r,new _f(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Yw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new _f(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new Yw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new _f(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:O$(c.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function AL(n,e){return n instanceof Xl&&e instanceof Xl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yu&&e instanceof Yu&&n._firestore===e._firestore&&FR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Qu extends QR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function ML(n,e,t){n=Kt(n,Mn);const r=Kt(n.firestore,xn),i=nS(n.converter,e,t);return Xm(r,[XI(gf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Fn.none())])}function xL(n,e,t,...r){n=Kt(n,Mn);const i=Kt(n.firestore,xn),a=gf(i);let c;return c="string"==typeof(e=(0,rt.m9)(e))||e instanceof Ql?KR(a,"updateDoc",n._key,e,t,r):qR(a,"updateDoc",n._key,e),Xm(i,[c.toMutation(n._key,Fn.exists(!0))])}function RL(n,...e){var t,r,i;n=(0,rt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||GR(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges};if(GR(e[c])){const I=e[c];e[c]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[c+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[c+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let m,v,D;if(n instanceof Mn)v=Kt(n.firestore,xn),D=km(n._key.path),m={next:I=>{e[c]&&e[c](XR(v,n,I))},error:e[c+1],complete:e[c+2]};else{const I=Kt(n,fi);v=Kt(I.firestore,xn),D=I._query;const R=new Qu(v);m={next:L=>{e[c]&&e[c](new Yu(v,R,I,L))},error:e[c+1],complete:e[c+2]},bL(n._query)}return function(I,R,L,j){const te=new qI(j),ne=new lR(R,te,L);return I.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return rR(yield Qm(I),ne)})),()=>{te.bc(),I.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return sR(yield Qm(I),ne)}))}}(lr(v),D,h,m)}function Xm(n,e){return function(t,r){const i=new Dr;return t.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function Ij(n,e,t){return fR.apply(this,arguments)}(yield $R(t),r,i)})),i.promise}(lr(n),e)}function XR(n,e,t){const r=t.docs.get(e._key),i=new Qu(n);return new Xl(n,i,e._key,r,new _f(t.hasPendingWrites,t.fromCache),e.converter)}const $$={maxAttempts:5};class kL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gf(e)}set(e,t,r){this._verifyNotCommitted();const i=Xu(e,this._firestore),a=nS(i.converter,t,r),c=XI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Fn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Xu(e,this._firestore);let c;return c="string"==typeof(t=(0,rt.m9)(t))||t instanceof Ql?KR(this._dataReader,"WriteBatch.update",a._key,t,r,i):qR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xu(e,this._firestore);return this._mutations=this._mutations.concat(new Lm(t._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xu(n,e){if((n=(0,rt.m9)(n)).firestore!==e)throw new Te(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class z$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gf(e)}get(e){const t=Xu(e,this._firestore),r=new k$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return st();const a=i[0];if(a.isFoundDocument())return new Kw(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Kw(this._firestore,r,t._key,null,t.converter);throw st()})}set(e,t,r){const i=Xu(e,this._firestore),a=nS(i.converter,t,r),c=XI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Xu(e,this._firestore);let c;return c="string"==typeof(t=(0,rt.m9)(t))||t instanceof Ql?KR(this._dataReader,"Transaction.update",a._key,t,r,i):qR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Xu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xu(e,this._firestore),r=new Qu(this._firestore);return super.get(e).then(i=>new Xl(this._firestore,r,t._key,i._document,new _f(!1,!1),t.converter))}}function JR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function PL(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function NL(){if(!function fU(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Tm=Lt.SDK_VERSION,(0,Lt._registerComponent)(new Or.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new xn(new tU(t.getProvider("auth-internal")),new iU(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Te(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(h.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Lt.registerVersion)(IN,"3.7.3",n),(0,Lt.registerVersion)(IN,"3.7.3","esm2017")}();class Qw{constructor(e){this._delegate=e}static fromBase64String(e){return NL(),new Qw(Ta.fromBase64String(e))}static fromUint8Array(e){return PL(),new Qw(Ta.fromUint8Array(e))}toBase64(){return NL(),this._delegate.toBase64()}toUint8Array(){return PL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ek(n){return function J$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ez{enableIndexedDbPersistence(e,t){return function o$(n,e){hL(n=Kt(n,xn));const t=lr(n),r=n._freezeSettings(),i=new PR;return dL(t,i,new qF(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function a$(n){hL(n=Kt(n,xn));const e=lr(n),t=n._freezeSettings(),r=new PR;return dL(e,r,new Hj(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function l$(n){if(n._initialized&&!n._terminated)throw new Te(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Dr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,q.Z)(function*(){try{yield(t=(0,q.Z)(function*(r){if(!No.C())return Promise.resolve();const i=r+"main";yield No.delete(i)}),function(r){return t.apply(this,arguments)})(Tx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class FL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Uu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Kh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){eL(this._delegate,e,t,r)}enableNetwork(){return function u$(n){return function Zj(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield oL(n),t=yield jR(n);return e.setNetworkEnabled(!0),function(r){const i=$e(r);return i._u.delete(0),zw(i)}(t)}))}(lr(n=Kt(n,xn)))}(this._delegate)}disableNetwork(){return function d$(n){return function Yj(n){return n.asyncQueue.enqueue((0,q.Z)(function*(){const e=yield oL(n),t=yield jR(n);return e.setNetworkEnabled(!1),(r=(0,q.Z)(function*(i){const a=$e(i);a._u.add(0),yield zm(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(lr(n=Kt(n,xn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,KF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function c$(n){return function(e){const t=new Dr;return e.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return function Mj(n,e){return yR.apply(this,arguments)}(yield $R(e),t)})),t.promise}(lr(n=Kt(n,xn)))}(this._delegate)}onSnapshotsInSync(e){return function j$(n,e){return function Jj(n,e){const t=new qI(e);return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return r=yield Qm(n),i=t,$e(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return r=yield Qm(n),i=t,void $e(r).Ru.delete(i);var r,i}))}}(lr(n=Kt(n,xn)),GR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Jm(this,tL(this._delegate,e))}catch(t){throw Mi(t,"collection()","Firestore.collection()")}}doc(e){try{return new $s(this,WI(this._delegate,e))}catch(t){throw Mi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xi(this,function jj(n,e){if(n=Kt(n,Ww),NR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fi(n,null,(t=e,new ql(Jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Mi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function G$(n,e,t){n=Kt(n,xn);const r=Object.assign(Object.assign({},$$),t);return function(i){if(i.maxAttempts<1)throw new Te(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const h=new Dr;return i.asyncQueue.enqueueAndForget((0,q.Z)(function*(){const m=yield function aL(n){return KI(n).then(e=>e.datastore)}(i);new qj(i.asyncQueue,m,c,a,h).run()})),h.promise}(lr(n),i=>e(new z$(n,i)),r)}(this._delegate,t=>e(new LL(this,t)))}batch(){return lr(this._delegate),new VL(new kL(this._delegate,e=>Xm(this._delegate,e)))}loadBundle(e){return function h$(n,e){const t=lr(n=Kt(n,xn)),r=new r$;return function e$(n,e,t,r){const i=function(a,c){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,v){if(m instanceof Uint8Array)return rL(m,v);if(m instanceof ArrayBuffer)return rL(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new $j(m,c);var m}(t,$w(e));n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){!function Uj(n,e,t){const r=$e(n);var i;(i=(0,q.Z)(function*(a,c,h){try{const m=yield c.getMetadata();if(yield function(R,L){const j=$e(R),te=Vr(L.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",ne=>j.Ns.getBundleMetadata(ne,L.id)).then(ne=>!!ne&&ne.createTime.compareTo(te)>=0)}(a.localStore,m))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);h._updateProgress(LF(m));const v=new vj(m,a.localStore,c.It);let D=yield c.mc();for(;D;){const R=yield v.Fu(D);R&&h._updateProgress(R),D=yield c.mc()}const I=yield v.complete();return yield Yl(a,I.Lu,void 0),yield function(R,L){const j=$e(R);return j.persistence.runTransaction("Save bundle","readwrite",te=>j.Ns.saveBundleMetadata(te,L))}(a.localStore,m),h._completeWith(I.progress),Promise.resolve(I.Bu)}catch(m){return Kh("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var R}),function(a,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield $R(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function f$(n,e){return function t$(n,e){return n.asyncQueue.enqueue((0,q.Z)(function*(){return function(t,r){const i=$e(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield ZI(n),e)}))}(lr(n=Kt(n,xn)),e).then(t=>t?new fi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xi(this,t):null)}}class rS extends QR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qw(new Ta(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $s.forKey(t,this.firestore,null)}}class LL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rS(e)}get(e){const t=vf(e);return this._delegate.get(t).then(r=>new Xw(this._firestore,new Xl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=vf(e);return r?(JR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=vf(e);return this._delegate.delete(t),this}}class VL{constructor(e){this._delegate=e}set(e,t,r){const i=vf(e);return r?(JR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=vf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Yw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=yf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new yf(e,new rS(e),t),i.set(t,a)),a}}yf.INSTANCES=new WeakMap;class $s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $s(t,new Mn(t._delegate,r,new je(e)))}static forKey(e,t,r){return new $s(t,new Mn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jm(this.firestore,tL(this._delegate,e))}catch(t){throw Mi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rt.m9)(e))instanceof Mn&&nL(this._delegate,e)}set(e,t){t=JR("DocumentReference.set",t);try{return t?ML(this._delegate,e,t):ML(this._delegate,e)}catch(r){throw Mi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?xL(this._delegate,e):xL(this._delegate,e,t,...r)}catch(i){throw Mi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function U$(n){return Xm(Kt(n.firestore,xn),[new Lm(n._key,Fn.none())])}(this._delegate)}onSnapshot(...e){const t=BL(e),r=UL(e,i=>new Xw(this.firestore,new Xl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return RL(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function N$(n){n=Kt(n,Mn);const e=Kt(n.firestore,xn),t=lr(e),r=new Qu(e);return function Qj(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(r=(0,q.Z)(function*(i,a,c){try{const h=yield function(m,v){const D=$e(m);return D.persistence.runTransaction("read document","readonly",I=>D.localDocuments.getDocument(I,v))}(i,a);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Te(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=qm(h,`Failed to get document '${a} from cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield ZI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Xl(e,r,n._key,i,new _f(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function F$(n){n=Kt(n,Mn);const e=Kt(n.firestore,xn);return lL(lr(e),n._key,{source:"server"}).then(t=>XR(e,n,t))}(this._delegate):function P$(n){n=Kt(n,Mn);const e=Kt(n.firestore,xn);return lL(lr(e),n._key).then(t=>XR(e,n,t))}(this._delegate),t.then(r=>new Xw(this.firestore,new Xl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $s(this.firestore,this._delegate.withConverter(e?yf.getInstance(this.firestore,e):null))}}function Mi(n,e,t){return n.message=n.message.replace(e,t),n}function BL(n){for(const e of n)if("object"==typeof e&&!ek(e))return e;return{}}function UL(n,e){var t,r;let i;return i=ek(n[0])?n[0]:ek(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Xw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $s(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AL(this._delegate,e._delegate)}}class Jw extends Xw{data(e){const t=this._delegate.data(e);return function X2(n,e){n||st()}(void 0!==t),t}}class xi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rS(e)}where(e,t,r){try{return new xi(this.firestore,Zu(this._delegate,function C$(n,e,t){const r=e,i=tS("where",n);return new E$(i,r,t)}(e,t,r)))}catch(i){throw Mi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xi(this.firestore,Zu(this._delegate,function I$(n,e="asc"){const t=e,r=tS("orderBy",n);return new D$(r,t)}(e,t)))}catch(r){throw Mi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xi(this.firestore,Zu(this._delegate,function S$(n){return QF("limit",n),new wL("limit",n,"F")}(e)))}catch(t){throw Mi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xi(this.firestore,Zu(this._delegate,function T$(n){return QF("limitToLast",n),new wL("limitToLast",n,"L")}(e)))}catch(t){throw Mi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xi(this.firestore,Zu(this._delegate,function A$(...n){return new EL("startAt",n,!0)}(...e)))}catch(t){throw Mi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xi(this.firestore,Zu(this._delegate,function M$(...n){return new EL("startAfter",n,!1)}(...e)))}catch(t){throw Mi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xi(this.firestore,Zu(this._delegate,function x$(...n){return new CL("endBefore",n,!1)}(...e)))}catch(t){throw Mi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xi(this.firestore,Zu(this._delegate,function R$(...n){return new CL("endAt",n,!0)}(...e)))}catch(t){throw Mi(t,"endAt()","Query.endAt()")}}isEqual(e){return FR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function V$(n){n=Kt(n,fi);const e=Kt(n.firestore,xn),t=lr(e),r=new Qu(e);return function Xj(n,e){const t=new Dr;return n.asyncQueue.enqueueAndForget((0,q.Z)(function*(){return(r=(0,q.Z)(function*(i,a,c){try{const h=yield BI(i,a,!0),m=new UF(a,h.Hi),v=m.Wu(h.documents),D=m.applyChanges(v,!1);c.resolve(D.snapshot)}catch(h){const m=qm(h,`Failed to execute query '${a} against cache`);c.reject(m)}}),function(i,a,c){return r.apply(this,arguments)})(yield ZI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Yu(e,r,n,i))}(this._delegate):"server"===e?.source?function B$(n){n=Kt(n,fi);const e=Kt(n.firestore,xn),t=lr(e),r=new Qu(e);return cL(t,n._query,{source:"server"}).then(i=>new Yu(e,r,n,i))}(this._delegate):function L$(n){n=Kt(n,fi);const e=Kt(n.firestore,xn),t=lr(e),r=new Qu(e);return bL(n._query),cL(t,n._query).then(i=>new Yu(e,r,n,i))}(this._delegate),t.then(r=>new tk(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=BL(e),r=UL(e,i=>new tk(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return RL(this._delegate,t,r)}withConverter(e){return new xi(this.firestore,this._delegate.withConverter(e?yf.getInstance(this.firestore,e):null))}}class nz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new nz(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Jw(this._firestore,r))})}isEqual(e){return AL(this._delegate,e._delegate)}}class Jm extends xi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $s(this.firestore,e):null}doc(e){try{return new $s(this.firestore,void 0===e?WI(this._delegate):WI(this._delegate,e))}catch(t){throw Mi(t,"doc()","CollectionReference.doc()")}}add(e){return function H$(n,e){const t=Kt(n.firestore,xn),r=WI(n),i=nS(n.converter,e);return Xm(t,[XI(gf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new $s(this.firestore,t))}isEqual(e){return nL(this._delegate,e._delegate)}withConverter(e){return new Jm(this.firestore,this._delegate.withConverter(e?yf.getInstance(this.firestore,e):null))}}function vf(n){return Kt(n,Mn)}class nk{constructor(...e){this._delegate=new Ql(...e)}static documentId(){return new nk(Qn.keyField().canonicalString())}isEqual(e){return(e=(0,rt.m9)(e))instanceof Ql&&this._delegate._internalPath.isEqual(e._internalPath)}}class bf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function q$(){return new WR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bf(e)}static delete(){const e=function W$(){return new qw("deleteField")}();return e._methodName="FieldValue.delete",new bf(e)}static arrayUnion(...e){const t=function K$(...n){return new _$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new bf(t)}static arrayRemove(...e){const t=function Z$(...n){return new y$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new bf(t)}static increment(e){const t=function Y$(n){return new v$("increment",n)}(e);return t._methodName="FieldValue.increment",new bf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const rz={Firestore:FL,GeoPoint:YI,Timestamp:Nn,Blob:Qw,Transaction:LL,WriteBatch:VL,DocumentReference:$s,DocumentSnapshot:Xw,Query:xi,QueryDocumentSnapshot:Jw,QuerySnapshot:tk,CollectionReference:Jm,FieldPath:nk,FieldValue:bf,setLogLevel:function tz(n){!function Q2(n){Fu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function sz(n){(function iz(n,e){n.INTERNAL.registerComponent(new Or.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},rz)))})(n,(e,t)=>new FL(e,t,new ez)),n.registerVersion("@firebase/firestore-compat","0.2.3")}(Mb.Z);var HL=F(6451);class oz extends ln.x{constructor(e=1/0,t=1/0,r=Ao){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)h=m;h&&r.splice(0,h+1)}}}var jL=F(3099);function $L(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,jL.B)({connector:()=>new oz(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function zL(n,e){return(0,bi.m)(e)?Zn(()=>n,e):Zn(()=>n)}class e_{constructor(e){return e}}class rk{constructor(){return(0,Lt.getApps)()}}const ik=new d.OlP("angularfire2._apps"),lz={provide:e_,useFactory:function az(n){return n&&1===n.length?n[0]:new e_((0,Lt.getApp)())},deps:[[new d.FiY,ik]]},cz={provide:rk,deps:[[new d.FiY,ik]]};function uz(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new e_(r)}}let dz=(()=>{class n{constructor(t){(0,Lt.registerVersion)("angularfire",vu.full,"core"),(0,Lt.registerVersion)("angularfire",vu.full,"app"),(0,Lt.registerVersion)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[lz,cz]}),n})();function hz(n,...e){return{ngModule:dz,providers:[{provide:ik,useFactory:uz(n),multi:!0,deps:[d.R0b,d.zs3,bu,...e]}]}}const fz=PD(Lt.initializeApp,!0),sk=new Map,GL={activated:!1,tokenObservers:[]},pz={initialized:!1,enabled:!1};function ei(n){return sk.get(n)||Object.assign({},GL)}function iS(){return pz}class bz{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,q.Z)(function*(){t.stop();try{t.pending=new rt.BH,yield function wz(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ri=new rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qL(n){if(!ei(n).activated)throw Ri.create("use-before-activation",{appName:n.name})}function lk(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,q.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const L=yield c.getHeartbeatsHeader();L&&(a["X-Firebase-Client"]=L)}const h={method:"POST",body:JSON.stringify(e),headers:a};let m,v;try{m=yield fetch(n,h)}catch(L){throw Ri.create("fetch-network-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}if(200!==m.status)throw Ri.create("fetch-status-error",{httpStatus:m.status});try{v=yield m.json()}catch(L){throw Ri.create("fetch-parse-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}const D=v.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const I=1e3*Number(D[1]),R=Date.now();return{token:v.token,expireTimeMillis:R+I,issuedAtTimeMillis:R}}),ck.apply(this,arguments)}function Iz(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const e0="firebase-app-check-store";let aS=null;function ZL(){return aS||(aS=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Ri.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(e0,{keyPath:"compositeKey"})}}catch(r){e(Ri.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),aS)}function uk(){return uk=(0,q.Z)(function*(n,e){const r=(yield ZL()).transaction(e0,"readwrite"),a=r.objectStore(e0).put({compositeKey:n,value:e});return new Promise((c,h)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var v;h(Ri.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),uk.apply(this,arguments)}const t0=new Pr.Yd("@firebase/app-check");function fk(n,e){return(0,rt.hl)()?function Mz(n,e){return function YL(n,e){return uk.apply(this,arguments)}(function XL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{t0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function JL(){return iS().enabled}function eV(){return gk.apply(this,arguments)}function gk(){return gk=(0,q.Z)(function*(){const n=iS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),gk.apply(this,arguments)}const Nz={error:"UNKNOWN_ERROR"};function Fz(n){return rt.US.encodeString(JSON.stringify(n),!1)}function lS(n){return mk.apply(this,arguments)}function mk(){return mk=(0,q.Z)(function*(n,e=!1){const t=n.app;qL(t);const r=ei(t);let a,i=r.token;if(i&&!t_(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(t_(m)?i=m:yield fk(t,void 0))}if(!e&&i&&t_(i))return{token:i.token};let h,c=!1;if(JL()){r.exchangeTokenPromise||(r.exchangeTokenPromise=lk(Iz(t,yield eV()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield fk(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield ei(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?t0.warn(m.message):t0.error(m),a=m}return i?a?h=t_(i)?{token:i.token,internalError:a}:rV(a):(h={token:i.token},r.token=i,yield fk(t,i)):h=rV(a),c&&nV(t,h),h}),mk.apply(this,arguments)}function yk(n,e){const t=ei(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function tV(n){const{app:e}=n,t=ei(e);let r=t.tokenRefresher;r||(r=function Lz(n){const{app:e}=n;return new bz((0,q.Z)(function*(){let r;if(r=ei(e).token?yield lS(n,!0):yield lS(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nV(n,e){const t=ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function t_(n){return n.expireTimeMillis-Date.now()>0}function rV(n){return{token:Fz(Nz),error:n}}class Vz{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ei(this.app);for(const t of e)yk(this.app,t.next);return Promise.resolve()}}const dV="app-check-internal";!function Xz(){(0,Lt._registerComponent)(new Or.wA("app-check",n=>function Bz(n,e){return new Vz(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dV).initialize()})),(0,Lt._registerComponent)(new Or.wA(dV,n=>function Uz(n){return{getToken:e=>lS(n,e),addTokenListener:e=>function _k(n,e,t,r){const{app:i}=n,a=ei(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&t_(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),tV(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>tV(n))}(n,"INTERNAL",e),removeTokenListener:e=>yk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lt.registerVersion)("@firebase/app-check","0.5.17")}();class n0{constructor(){return $g("app-check")}}typeof window<"u"&&window,F(127);const fV=new d.OlP("angularfire2.auth.use-emulator"),pV=new d.OlP("angularfire2.auth.settings"),gV=new d.OlP("angularfire2.auth.tenant-id"),mV=new d.OlP("angularfire2.auth.langugage-code"),_V=new d.OlP("angularfire2.auth.use-device-language"),yV=new d.OlP("angularfire.auth.persistence"),vV=(n,e,t,r,i,a,c,h)=>(0,Yr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[v,D]of Object.entries(c))m.settings[v]=D;return h&&m.setPersistence(h),m},[t,r,i,a,c,h]);let bV=(()=>{class n{constructor(t,r,i,a,c,h,m,v,D,I,R,L){const j=new ln.x,te=Qe(void 0).pipe((0,Oh.Q)(c.outsideAngular),Zn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,pt.U)(()=>(0,Yr.on)(t,a,r)),(0,pt.U)(ne=>vV(ne,a,h,v,D,I,m,R)),$L({bufferSize:1,refCount:!1}));if(Ba(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{te.pipe(bo()).subscribe();const Ue=te.pipe(Zn(Ze=>Ze.getRedirectResult().then(ft=>ft,()=>null)),hr,$L({bufferSize:1,refCount:!1})),Xe=te.pipe(Zn(Ze=>new Un.y(ft=>({unsubscribe:a.runOutsideAngular(()=>Ze.onAuthStateChanged(bt=>ft.next(bt),bt=>ft.error(bt),()=>ft.complete()))})))),nt=te.pipe(Zn(Ze=>new Un.y(ft=>({unsubscribe:a.runOutsideAngular(()=>Ze.onIdTokenChanged(bt=>ft.next(bt),bt=>ft.error(bt),()=>ft.complete()))}))));this.authState=Ue.pipe(zL(Xe),(0,kh.R)(c.outsideAngular),(0,Oh.Q)(c.insideAngular)),this.user=Ue.pipe(zL(nt),(0,kh.R)(c.outsideAngular),(0,Oh.Q)(c.insideAngular)),this.idToken=this.user.pipe(Zn(Ze=>Ze?(0,Qt.D)(Ze.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(Zn(Ze=>Ze?(0,Qt.D)(Ze.getIdTokenResult()):Qe(null))),this.credential=(0,HL.T)(Ue,j,this.authState.pipe(dr(Ze=>!Ze))).pipe((0,pt.U)(Ze=>Ze?.user?Ze:null),(0,kh.R)(c.outsideAngular),(0,Oh.Q)(c.insideAngular))}return(0,Yr.pX)(this,te,a,{spy:{apply:(ne,Ue,Xe)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&Xe.then(nt=>j.next(nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yr.Dh),d.LFG(Yr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bu),d.LFG(fV,8),d.LFG(pV,8),d.LFG(gV,8),d.LFG(mV,8),d.LFG(_V,8),d.LFG(yV,8),d.LFG(n0,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function wV(n,e){return function iG(n,e=au){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Ck(n,e){return wV(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function uS(n,e){return Ck(n,e).pipe(En(void 0),ND(),(0,pt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const m=i.find(D=>D.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),a}))}function EV(n,e,t){return uS(n,t).pipe(Cp((r,i)=>function oG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function aG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Dk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Dk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Dk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),Ab(),(0,pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Dk(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function CV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class DV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(En(void 0),ND(),dr(([r,i])=>i.length>0||!r),(0,pt.U)(([r,i])=>i),hr)}auditTrail(e){return this.stateChanges(e).pipe(Cp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CV(e);return EV(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr)}valueChanges(e={}){return Ck(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hr)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(hr)}add(e){return this.ref.add(e)}doc(e){return new IV(this.ref.doc(e),this.afs)}}class IV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=SV(r,t);return new DV(i,a,this.afs)}snapshotChanges(){return function sG(n,e){return wV(n,e).pipe(En(void 0),ND(),(0,pt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qt.D)(this.ref.get(e)).pipe(hr)}}class lG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uS(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),dr(t=>t.length>0),hr):uS(this.query,this.afs.schedulers.outsideAngular).pipe(hr)}auditTrail(e){return this.stateChanges(e).pipe(Cp((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CV(e);return EV(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr)}valueChanges(e={}){return Ck(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),hr)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(hr)}}const cG=new d.OlP("angularfire2.enableFirestorePersistence"),uG=new d.OlP("angularfire2.firestore.persistenceSettings"),dG=new d.OlP("angularfire2.firestore.settings"),hG=new d.OlP("angularfire2.firestore.use-emulator");function SV(n,e=(t=>t)){return{query:e(n),ref:n}}let fG=(()=>{class n{constructor(t,r,i,a,c,h,m,v,D,I,R,L,j,te,ne,Ue,Xe){this.schedulers=m;const nt=(0,Yr.on)(t,h,r),Ze=D;I&&vV(nt,h,R,j,te,ne,L,Ue),[this.firestore,this.persistenceEnabled$]=(0,Yr.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const ft=h.runOutsideAngular(()=>nt.firestore());if(a&&ft.settings(a),Ze&&ft.useEmulator(...Ze),i&&!Ba(c)){const bt=()=>{try{return(0,Qt.D)(ft.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Zt){return typeof console<"u"&&console.warn(Zt),Qe(!1)}};return[ft,h.runOutsideAngular(bt)]}return[ft,Qe(!1)]},[a,Ze,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=SV(i,r),h=this.schedulers.ngZone.run(()=>a);return new DV(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new lG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new IV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yr.Dh),d.LFG(Yr.xv,8),d.LFG(cG,8),d.LFG(dG,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bu),d.LFG(uG,8),d.LFG(hG,8),d.LFG(bV,8),d.LFG(fV,8),d.LFG(pV,8),d.LFG(gV,8),d.LFG(mV,8),d.LFG(_V,8),d.LFG(yV,8),d.LFG(n0,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TV=(()=>{class n{constructor(t){this.afs=t,this.listProducts=new Array,this.productsCollection=t.collection("productos")}addProduct(t){this.listProducts.push(t)}getProducts(){return this.listProducts}deleteProduct(t){this.listProducts=this.listProducts.filter(r=>r!==t)}addProductFire(t){const r=this.afs.createId();t.uid=r,this.productsCollection.doc(r).set(Object.assign({},t))}deleteProductFire(t){return this.productsCollection.doc(t.uid).delete(),this.productsCollection.valueChanges()}updateProductFire(t){let r=this.listProducts.findIndex(i=>i.id==t.code);this.listProducts[r]=t,this.productsCollection.doc(t.uid).set(Object.assign({},t))}getProductFire(){return this.productsCollection.valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pG=(()=>{class n{constructor(t,r){this.router=t,this.productService=r,this.title="Crear Productos",this.mode=!0,this.product=new Ll(0,"",0);let i=this.router.getCurrentNavigation()?.extras.queryParams;i&&(this.product=new Ll(0,"",0),this.product=i.product)}ngOnInit(){}guardar(){this.mode=!!this.product.uid,this.mode?(console.log(this.product),this.productService.addProductFire(this.product),this.product=new Ll(0,"",0)):(console.log(this.product),this.productService.updateProductFire(this.product),this.product=new Ll(0,"",0))}editar(){console.log(this.product)}goListProducts(){console.log("llamando listado"),this.router.navigate(["products/list"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(On),d.Y36(TV))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-crear-producto"]],decls:21,vars:4,consts:[["for","txtCode"],["id","txtCode","name","txtCode",3,"ngModel","ngModelChange"],["for","txtName"],["id","txtName","name","txtName",3,"ngModel","ngModelChange"],["for","txtPrice"],["id","txtPrice","name","txtPrice",3,"ngModel","ngModelChange"],[3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"h1"),d._uU(1),d.qZA(),d.TgZ(2,"p"),d._uU(3,"Formulario para crear productos"),d.qZA(),d.TgZ(4,"form")(5,"label",0),d._uU(6,"Codigo"),d.qZA(),d.TgZ(7,"input",1),d.NdJ("ngModelChange",function(a){return r.product.code=a}),d.qZA(),d._UZ(8,"br"),d.TgZ(9,"label",2),d._uU(10,"Nombre"),d.qZA(),d.TgZ(11,"input",3),d.NdJ("ngModelChange",function(a){return r.product.name=a}),d.qZA(),d._UZ(12,"br"),d.TgZ(13,"label",4),d._uU(14,"Precio"),d.qZA(),d.TgZ(15,"input",5),d.NdJ("ngModelChange",function(a){return r.product.price=a}),d.qZA(),d._UZ(16,"br"),d.TgZ(17,"button",6),d.NdJ("click",function(){return r.guardar()}),d._uU(18,"Guardar"),d.qZA()(),d.TgZ(19,"button",6),d.NdJ("click",function(){return r.goListProducts()}),d._uU(20,"Listado de productos "),d.qZA()),2&t&&(d.xp6(1),d.hij("",r.title,">"),d.xp6(6),d.Q6J("ngModel",r.product.code),d.xp6(4),d.Q6J("ngModel",r.product.name),d.xp6(4),d.Q6J("ngModel",r.product.price))},dependencies:[Y_,Wo,up,Vd,Z_,pl]}),n})();var CG=F(5032);function n_(n){return(0,rr.e)((e,t)=>{(0,qr.Xf)(n).subscribe((0,In.x)(t,()=>t.complete(),CG.Z)),!t.closed&&e.subscribe(t)})}function Ju(n){return null!=n&&"false"!=`${n}`}function Ik(n,e=0){return function DG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function AV(n){return Array.isArray(n)?n:[n]}function pr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function r_(n){return n instanceof d.SBq?n.nativeElement:n}let Sk;try{Sk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Sk=!1}let r0,wf,Tk,Fo,zs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function si(n){return n===so}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Sk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function s0(n){return function IG(){if(null==r0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>r0=!0}))}finally{r0=r0||!1}return r0}()?n:!!n.capture}function SG(){if(null==wf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return wf=!1,wf;if("scrollBehavior"in document.documentElement.style)wf=!0;else{const n=Element.prototype.scrollTo;wf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return wf}function xV(n){if(function TG(){if(null==Tk){const n=typeof document<"u"?document.head:null;Tk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Tk}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ak(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ef(n){return n.composedPath?n.composedPath()[0]:n.target}function Mk(){return typeof Fo.__karma__<"u"&&!!Fo.__karma__||typeof Fo.jasmine<"u"&&!!Fo.jasmine||typeof Fo.jest<"u"&&!!Fo.jest||typeof Fo.Mocha<"u"&&!!Fo.Mocha}Fo=typeof global<"u"?global:typeof window<"u"?window:{};let AG=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[AG]}),n})();function fS(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const OV="cdk-describedby-message-container",PV="cdk-describedby-message",pS="cdk-describedby-host";let RG=0;const Aa=new Map;let ps=null,kG=(()=>{class n{constructor(t){this._document=t}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const a=xk(r,i);"string"!=typeof r?(NV(r),Aa.set(a,{messageElement:r,referenceCount:0})):Aa.has(a)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const a=xk(r,i);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof r){const c=Aa.get(a);c&&0===c.referenceCount&&this._deleteMessageElement(a)}ps&&0===ps.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${pS}]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(pS);ps&&this._deleteMessagesContainer(),Aa.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");NV(i),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),ps.appendChild(i),Aa.set(xk(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){Aa.get(t)?.messageElement?.remove(),Aa.delete(t)}_createMessagesContainer(){ps||(this._document.getElementById(OV)?.remove(),ps=this._document.createElement("div"),ps.id=OV,ps.style.visibility="hidden",ps.classList.add("cdk-visually-hidden"),this._document.body.appendChild(ps))}_deleteMessagesContainer(){ps&&(ps.remove(),ps=null)}_removeCdkDescribedByReferenceIds(t){const r=fS(t,"aria-describedby").filter(i=>0!=i.indexOf(PV));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=Aa.get(r);(function MG(n,e,t){const r=fS(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(pS,""),i.referenceCount++}_removeMessageReference(t,r){const i=Aa.get(r);i.referenceCount--,function xG(n,e,t){const i=fS(n,e).filter(a=>a!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(pS)}_isElementDescribedByMessage(t,r){const i=fS(t,"aria-describedby"),a=Aa.get(r),c=a&&a.messageElement.id;return!!c&&-1!=i.indexOf(c)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),a=t.getAttribute("aria-label");return!(!i||a&&a.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xk(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function NV(n){n.id||(n.id=`${PV}-${RG++}`)}let FV=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function PG(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function OG(n){try{return n.frameElement}catch{return null}}(function jG(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===VV(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=VV(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function UG(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function HG(n){return!function FG(n){return function VG(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function NG(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function LG(n){return function BG(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||LV(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zs))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function VV(n){if(!LV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class $G{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ts(1)).subscribe(e)}}let zG=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new $G(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(FV),d.LFG(d.R0b),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BV(n){return 0===n.offsetX&&0===n.offsetY}function UV(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const GG=new d.OlP("cdk-input-modality-detector-options"),WG={ignoreKeys:[18,17,224,91,16]},s_=s0({passive:!0,capture:!0});let qG=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Hn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ef(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(BV(c)?"keyboard":"mouse"),this._mostRecentTarget=Ef(c))},this._onTouchstart=c=>{UV(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ef(c))},this._options={...WG,...a},this.modalityDetected=this._modality.pipe(function EG(n){return dr((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ab()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,s_),i.addEventListener("mousedown",this._onMousedown,s_),i.addEventListener("touchstart",this._onTouchstart,s_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,s_),document.removeEventListener("mousedown",this._onMousedown,s_),document.removeEventListener("touchstart",this._onTouchstart,s_))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zs),d.LFG(d.R0b),d.LFG(de),d.LFG(GG,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ZG=new d.OlP("cdk-focus-monitor-default-options"),gS=s0({passive:!0,capture:!0});let jV=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ln.x,this._rootNodeFocusAndBlurListener=h=>{const m=Ef(h),v="focus"===h.type?this._onFocus:this._onBlur;for(let D=m;D;D=D.parentElement)v.call(this,h,D)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=r_(t);if(!this._platform.isBrowser||1!==i.nodeType)return Qe(null);const a=xV(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const h={checkChildren:r,subject:new ln.x,rootNode:a};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=r_(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=r_(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,m])=>this._originChanged(h,r,m)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Ef(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,gS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,gS)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(n_(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(zs),d.LFG(qG),d.LFG(de,8),d.LFG(ZG,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $V="cdk-high-contrast-black-on-white",zV="cdk-high-contrast-white-on-black",Rk="cdk-high-contrast-active";let GV=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Rk),t.remove($V),t.remove(zV),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Rk),t.add($V)):2===r&&(t.add(Rk),t.add(zV))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zs),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WV=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(GV))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[dS,RV]]}),n})();const YG=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function QG(){return(0,d.f3M)(de)}});let mS=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null,a=(t.body?t.body.dir:null)||i;this.value="ltr"===a||"rtl"===a?a:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(YG,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const qV=new d.GfV("13.0.0"),KV=new d.GfV("13.0.0"),JG=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function XG(){return!0}});let cn=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,d.X6Q)()||Mk())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&KV.full!==qV.full&&console.warn("The Angular Material version ("+KV.full+") does not match the Angular CDK version ("+qV.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(GV),d.LFG(JG,8),d.LFG(de))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[o0],o0]}),n})();function ZV(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ju(e)}}}function YV(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function e3(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ju(e)}}}let n3=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cn],cn]}),n})();class r3{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const XV={enterDuration:225,exitDuration:150},kk=s0({passive:!0}),JV=["mousedown","touchstart"],eB=["mouseup","mouseleave","touchend","touchcancel"];class o3{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=r_(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...XV,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function l3(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,m=t-i.top,v=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-c+"px",D.style.top=m-c+"px",D.style.height=2*c+"px",D.style.width=2*c+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(D),function a3(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const I=new r3(this,D,r);return I.state=0,this._activeRipples.add(I),r.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const R=I===this._mostRecentTransientRipple;I.state=1,!r.persistent&&(!R||!this._isPointerDown)&&I.fadeOut()},v),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...XV,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=r_(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(JV))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(eB),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=BV(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!UV(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,kk)})})}_removeTriggerEvents(){this._triggerElement&&(JV.forEach(e=>{this._triggerElement.removeEventListener(e,this,kk)}),this._pointerUpEventsRegistered&&eB.forEach(e=>{this._triggerElement.removeEventListener(e,this,kk)}))}}const c3=new d.OlP("mat-ripple-global-options");let tB=(()=>{class n{constructor(t,r,i,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new o3(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(zs),d.Y36(c3,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cn,dS],cn]}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cn]]}),n})(),rB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[nB,io,cn,u3]]}),n})();const d3=["mat-button",""],h3=["*"],p3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],g3=YV(ZV(e3(class{constructor(n){this._elementRef=n}})));let m3=(()=>{class n extends g3{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of p3)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(jV),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&d.Gf(tB,5),2&t){let i;d.iGM(i=d.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:d3,ngContentSelectors:h3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1)(3,"span",2)),2&t&&(d.xp6(2),d.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),d.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[tB],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),iB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[nB,cn],cn]}),n})(),_3=0;const y3=ZV(class{}),sB="mat-badge-content";let v3=(()=>{class n extends y3{constructor(t,r,i,a,c){super(),this._ngZone=t,this._elementRef=r,this._ariaDescriber=i,this._renderer=a,this._animationMode=c,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=_3++,this._isInitialized=!1}get color(){return this._color}set color(t){this._setColor(t),this._color=t}get overlap(){return this._overlap}set overlap(t){this._overlap=Ju(t)}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateHostAriaDescription(t)}get hidden(){return this._hidden}set hidden(t){this._hidden=Ju(t)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const t=this._renderer.createElement("span"),r="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(sB),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(r)})}):t.classList.add(r),t}_updateRenderedContent(t){const r=`${t??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateHostAriaDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),t&&this._ariaDescriber.describe(this._elementRef.nativeElement,t),this._description=t}_setColor(t){const r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),t&&r.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${sB}`);for(const r of Array.from(t))r!==this._badgeElement&&r.remove()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(kG),d.Y36(d.Qsj),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,r){2&t&&d.ekj("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small","small"===r.size)("mat-badge-medium","medium"===r.size)("mat-badge-large","large"===r.size)("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[d.qOj]}),n})(),b3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[WV,cn],cn]}),n})();function Ok(n){return n&&"function"==typeof n.connect}class oB{applyChanges(e,t,r,i,a){e.forEachOperation((c,h,m)=>{let v,D;if(null==c.previousIndex){const I=r(c,h,m);v=t.createEmbeddedView(I.templateRef,I.context,I.index),D=1}else null==m?(t.remove(h),D=3):(v=t.get(h),t.move(v,m),D=2);a&&a({context:v?.context,operation:D,record:c})})}detach(){}}const l0=new d.OlP("_ViewRepeater");var w3=F(1144);const E3=["addListener","removeListener"],C3=["addEventListener","removeEventListener"],D3=["on","off"];function Pk(n,e,t,r){if((0,bi.m)(t)&&(r=t,t=void 0),r)return Pk(n,e,t).pipe(Ac(r));const[i,a]=function T3(n){return(0,bi.m)(n.addEventListener)&&(0,bi.m)(n.removeEventListener)}(n)?C3.map(c=>h=>n[c](e,h,t)):function I3(n){return(0,bi.m)(n.addListener)&&(0,bi.m)(n.removeListener)}(n)?E3.map(lB(n,e)):function S3(n){return(0,bi.m)(n.on)&&(0,bi.m)(n.off)}(n)?D3.map(lB(n,e)):[];if(!i&&(0,w3.z)(n))return(0,kr.z)(c=>Pk(c,e,t))((0,qr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Un.y(c=>{const h=(...m)=>c.next(1<m.length?m:m[0]);return i(h),()=>a(h)})}function lB(n,e){return t=>r=>n[t](e,r)}const c0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=c0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new wl.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=c0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=c0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class M3 extends Kr{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class A3 extends sr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=c0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(c0.cancelAnimationFrame(t),e._scheduled=void 0)}});let Nk,R3=1;const _S={};function cB(n){return n in _S&&(delete _S[n],!0)}const k3={setImmediate(n){const e=R3++;return _S[e]=!0,Nk||(Nk=Promise.resolve()),Nk.then(()=>cB(e)&&n()),e},clearImmediate(n){cB(n)}},{setImmediate:O3,clearImmediate:P3}=k3,yS={setImmediate(...n){const{delegate:e}=yS;return(e?.setImmediate||O3)(...n)},clearImmediate(n){const{delegate:e}=yS;return(e?.clearImmediate||P3)(n)},delegate:void 0};new class F3 extends Kr{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class N3 extends sr{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=yS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(yS.clearImmediate(t),e._scheduled=void 0)}});var B3=F(3532);function uB(n,e=au){return function V3(n){return(0,rr.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const h=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const v=i;i=null,t.next(v)}c&&t.complete()},m=()=>{a=null,c&&t.complete()};e.subscribe((0,In.x)(t,v=>{r=!0,i=v,a||(0,qr.Xf)(n(v)).subscribe(a=(0,In.x)(t,h,m))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function H3(n=0,e,t=lu){let r=-1;return null!=e&&((0,B3.K)(e)?t=e:r=e),new Un.y(i=>{let a=function U3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let $3=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ln.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Un.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(uB(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(dr(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=r_(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Pk(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(zs),d.LFG(de,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fk=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ln.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(uB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zs),d.LFG(d.R0b),d.LFG(de,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[o0,dS,vS],o0,vS]}),n})();const W3=[[["caption"]],[["colgroup"],["col"]]],q3=["caption","colgroup, col"];function Vk(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=Ju(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const o_=new d.OlP("CDK_TABLE");let a_=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),l_=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),bS=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Q3{}const X3=Vk(Q3);let Jl=(()=>{class n extends X3{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=Ju(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(o_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,a_,5),d.Suo(i,l_,5),d.Suo(i,bS,5)),2&t){let a;d.iGM(a=d.CRH())&&(r.cell=a.first),d.iGM(a=d.CRH())&&(r.headerCell=a.first),d.iGM(a=d.CRH())&&(r.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[d._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),d.qOj]}),n})();class Bk{constructor(e,t){const r=t.nativeElement.classList;for(const i of e._columnCssClassName)r.add(i)}}let Uk=(()=>{class n extends Bk{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Jl),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[d.qOj]}),n})(),Hk=(()=>{class n extends Bk{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Jl),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[d.qOj]}),n})();class hB{constructor(){this.tasks=[],this.endTasks=[]}}const jk=new d.OlP("_COALESCED_STYLE_SCHEDULER");let fB=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new ln.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new hB,this._getScheduleObservable().pipe(n_(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new hB;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Qt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(ts(1))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),$k=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof u0?t.headerCell.template:this instanceof d0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();class J3 extends $k{}const eW=Vk(J3);let u0=(()=>{class n extends eW{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(o_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[d.qOj,d.TTD]}),n})();class tW extends $k{}const nW=Vk(tW);let d0=(()=>{class n extends nW{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(o_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[d.qOj,d.TTD]}),n})(),wS=(()=>{class n extends $k{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.ZZ4),d.Y36(o_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[d.qOj]}),n})(),ec=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&d.GkF(0,0)},dependencies:[ec],encapsulation:2}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&d.GkF(0,0)},dependencies:[ec],encapsulation:2}),n})(),ES=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const pB=["top","bottom","left","right"];class rW{constructor(e,t,r,i,a=!0,c=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=a,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let a=0;a<i.children.length;a++)r.push(i.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(R=>R)&&!r.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=e[0],c=a.children.length,h=this._getCellWidths(a,i),m=this._getStickyStartColumnPositions(h,t),v=this._getStickyEndColumnPositions(h,r),D=t.lastIndexOf(!0),I=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,L=R?"right":"left",j=R?"left":"right";for(const te of e)for(let ne=0;ne<c;ne++){const Ue=te.children[ne];t[ne]&&this._addStickyStyle(Ue,L,m[ne],ne===D),r[ne]&&this._addStickyStyle(Ue,j,v[ne],ne===I)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((te,ne)=>t[ne]?te:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===I?[]:h.slice(I).map((te,ne)=>r[ne+I]?te:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,a="bottom"===r?t.slice().reverse():t,c=[],h=[],m=[];for(let D=0,I=0;D<i.length;D++){if(!a[D])continue;c[D]=I;const R=i[D];m[D]=this._isNativeHtmlTable?Array.from(R.children):[R];const L=R.getBoundingClientRect().height;I+=L,h[D]=L}const v=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let D=0;D<i.length;D++){if(!a[D])continue;const I=c[D],R=D===v;for(const L of m[D])this._addStickyStyle(L,r,I,R)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:m})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);pB.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of pB)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let a=0;a<i.length;a++)r.push(i[a].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let a=0;a<e.length;a++)t[a]&&(r[a]=i,i+=e[a]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let a=e.length;a>0;a--)t[a]&&(r[a]=i,i+=e[a]);return r}}const qk=new d.OlP("CDK_SPL");let CS=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),DS=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),IS=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),SS=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),TS=(()=>{class n{constructor(t,r,i,a,c,h,m,v,D,I,R){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=c,this._platform=m,this._viewRepeater=v,this._coalescedStyleScheduler=D,this._viewportRuler=I,this._stickyPositioningListener=R,this._onDestroy=new ln.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new d.vpe,this.viewChange=new Hn({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Ju(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Ju(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(n_(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Ok(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,a,c)=>this._getEmbeddedViewArgs(i.item,c),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const a=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const a=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,c)=>{this._addStickyColumnStyles([a],this._headerRowDefs[c])}),this._rowDefs.forEach(a=>{const c=[];for(let h=0;h<r.length;h++)this._renderRows[h].rowDef===a&&c.push(r[h]);this._addStickyColumnStyles(c,a)}),i.forEach((a,c)=>{this._addStickyColumnStyles([a],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let a=this._data[i];const c=this._getRenderRowsForData(a,i,r.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let h=0;h<c.length;h++){let m=c[h];const v=this._cachedRenderRowsMap.get(m.data);v.has(m.rowDef)?v.get(m.rowDef).push(m):v.set(m.rowDef,[m]),t.push(m)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(c=>{const h=i&&i.has(c)?i.get(c):[];if(h.length){const m=h.shift();return m.dataIndex=r,m}return{data:t,rowDef:c,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),AS(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=AS(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=AS(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=AS(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,h)=>c||!!h.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),r||i||a}_switchDataSource(t){this._data=[],Ok(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Ok(this.dataSource)?t=this.dataSource.connect(this):function G3(n){return!!n&&(n instanceof Un.y||(0,bi.m)(n.lift)&&(0,bi.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Qe(this.dataSource)),this._renderChangeSubscription=t.pipe(n_(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(h=>this._columnDefsByName.get(h)),a=i.map(h=>h.sticky),c=i.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const a=t.viewContainer.get(i);r.push(a.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(a=>!a.when||a.when(r,t));else{let a=this._rowDefs.find(c=>c.when&&c.when(r,t))||this._defaultRowDef;a&&i.push(a)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,a={}){const c=t.viewContainer.createEmbeddedView(r.template,a,i);return this._renderCellTemplateForItem(r,a),c}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))ec.mostRecentCellOutlet&&ec.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const c=t.get(r).context;c.count=i,c.first=0===r,c.last=r===i-1,c.even=r%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[r].dataIndex,c.renderIndex=r):c.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const a=this._document.createElement(i.tag);a.setAttribute("role","rowgroup");for(const c of i.outlets)a.appendChild(c.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new rW(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Qe()).pipe(n_(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const r=0===this._rowOutlet.viewContainer.length;if(r!==this._isShowingNoDataRow){const i=this._noDataRowOutlet.viewContainer;r?i.createEmbeddedView(t.templateRef):i.clear(),this._isShowingNoDataRow=r}}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.sBO),d.Y36(d.SBq),d.$8M("role"),d.Y36(mS,8),d.Y36(de),d.Y36(zs),d.Y36(l0),d.Y36(jk),d.Y36(Fk),d.Y36(qk,12))},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,ES,5),d.Suo(i,Jl,5),d.Suo(i,wS,5),d.Suo(i,u0,5),d.Suo(i,d0,5)),2&t){let a;d.iGM(a=d.CRH())&&(r._noDataRow=a.first),d.iGM(a=d.CRH())&&(r._contentColumnDefs=a),d.iGM(a=d.CRH())&&(r._contentRowDefs=a),d.iGM(a=d.CRH())&&(r._contentHeaderRowDefs=a),d.iGM(a=d.CRH())&&(r._contentFooterRowDefs=a)}},viewQuery:function(t,r){if(1&t&&(d.Gf(CS,7),d.Gf(DS,7),d.Gf(IS,7),d.Gf(SS,7)),2&t){let i;d.iGM(i=d.CRH())&&(r._rowOutlet=i.first),d.iGM(i=d.CRH())&&(r._headerRowOutlet=i.first),d.iGM(i=d.CRH())&&(r._footerRowOutlet=i.first),d.iGM(i=d.CRH())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[d._Bn([{provide:o_,useExisting:n},{provide:l0,useClass:oB},{provide:jk,useClass:fB},{provide:qk,useValue:null}])],ngContentSelectors:q3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(d.F$t(W3),d.Hsn(0),d.Hsn(1,1),d.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[DS,CS,SS,IS],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function AS(n,e){return n.concat(Array.from(e))}let sW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Lk]]}),n})();const oW=[[["caption"]],[["colgroup"],["col"]]],aW=["caption","colgroup, col"];let mB=(()=>{class n extends TS{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[d._Bn([{provide:l0,useClass:oB},{provide:TS,useExisting:n},{provide:o_,useExisting:n},{provide:jk,useClass:fB},{provide:qk,useValue:null}]),d.qOj],ngContentSelectors:aW,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(d.F$t(oW),d.Hsn(0),d.Hsn(1,1),d.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[DS,CS,SS,IS],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),Kk=(()=>{class n extends a_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matCellDef",""]],features:[d._Bn([{provide:a_,useExisting:n}]),d.qOj]}),n})(),Zk=(()=>{class n extends l_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[d._Bn([{provide:l_,useExisting:n}]),d.qOj]}),n})(),Yk=(()=>{class n extends Jl{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[d._Bn([{provide:Jl,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),d.qOj]}),n})(),Qk=(()=>{class n extends Uk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[d.qOj]}),n})(),Xk=(()=>{class n extends Hk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[d.qOj]}),n})(),_B=(()=>{class n extends u0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[d._Bn([{provide:u0,useExisting:n}]),d.qOj]}),n})(),yB=(()=>{class n extends wS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[d._Bn([{provide:wS,useExisting:n}]),d.qOj]}),n})(),vB=(()=>{class n extends zk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[d._Bn([{provide:zk,useExisting:n}]),d.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&d.GkF(0,0)},dependencies:[ec],encapsulation:2}),n})(),bB=(()=>{class n extends Wk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[d._Bn([{provide:Wk,useExisting:n}]),d.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&d.GkF(0,0)},dependencies:[ec],encapsulation:2}),n})(),_W=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[sW,cn],cn]}),n})();function vW(n,e){1&n&&(d.TgZ(0,"th",11),d._uU(1," C\xf3digo "),d.qZA())}function bW(n,e){if(1&n&&(d.TgZ(0,"td",12),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.hij(" ",t.code," ")}}function wW(n,e){1&n&&(d.TgZ(0,"th",11),d._uU(1," Descripci\xf3n "),d.qZA())}function EW(n,e){if(1&n&&(d.TgZ(0,"td",12),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.hij(" ",t.name," ")}}function CW(n,e){1&n&&(d.TgZ(0,"th",11),d._uU(1," Precio "),d.qZA())}function DW(n,e){if(1&n&&(d.TgZ(0,"td",12),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.hij(" ",t.price," ")}}function IW(n,e){1&n&&(d.TgZ(0,"th",11),d._uU(1," Borra? "),d.qZA())}function SW(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"td",12)(1,"button",13),d.NdJ("click",function(){const a=d.CHM(t).index,c=d.oxw();return d.KtG(c.elimProductp(a))}),d._uU(2," Borra? "),d.qZA()()}}function TW(n,e){1&n&&d._UZ(0,"tr",14)}function AW(n,e){1&n&&d._UZ(0,"tr",15)}let MW=(()=>{class n{constructor(t,r){this.router=t,this.productService=r,this.title="Listar Productos",this.columnas=["codigo","descripcion","precio","borrar"],this.listProducts=new Array,this.products=[new Ll(0,"",0)]}ngOnInit(){this.loadProducts()}loadProducts(){this.products.push(),this.productService.getProductFire().subscribe(t=>this.products=t),console.log(this.listProducts)}goNewProduct(){console.log("llamando Crear producto"),this.router.navigate(["products/create"])}editProduct(t){console.log("Editar Productos"+t),this.router.navigate(["products/create"],{queryParams:{product:t}})}elimProductp(t){this.productService.deleteProductFire(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(On),d.Y36(TV))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-listar-prodcutos"]],decls:18,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["tabla1",""],["matColumnDef","codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","descripcion"],["matColumnDef","precio"],["matColumnDef","borrar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","accent","matBadge","","matBadgePosition","before","matBadgeColor","accent",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-raised-button","","color","warn","focusable","false",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(d.TgZ(0,"table",0,1),d.ynx(2,2),d.YNc(3,vW,2,0,"th",3),d.YNc(4,bW,2,1,"td",4),d.BQk(),d.ynx(5,5),d.YNc(6,wW,2,0,"th",3),d.YNc(7,EW,2,1,"td",4),d.BQk(),d.ynx(8,6),d.YNc(9,CW,2,0,"th",3),d.YNc(10,DW,2,1,"td",4),d.BQk(),d.ynx(11,7),d.YNc(12,IW,2,0,"th",3),d.YNc(13,SW,3,0,"td",4),d.BQk(),d.YNc(14,TW,1,0,"tr",8),d.YNc(15,AW,1,0,"tr",9),d.qZA(),d.TgZ(16,"button",10),d.NdJ("click",function(){return r.goNewProduct()}),d._uU(17,"Nuevo productos "),d.qZA()),2&t&&(d.Q6J("dataSource",r.products),d.xp6(14),d.Q6J("matHeaderRowDef",r.columnas),d.xp6(1),d.Q6J("matRowDefColumns",r.columnas))},dependencies:[m3,v3,mB,Zk,_B,Yk,Kk,yB,Qk,Xk,vB,bB],styles:[".demo-toggles[_ngcontent-%COMP%]{display:flex;flex-direction:column}.demo-toggles[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-bottom:16px}.demo-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:600px}.demo-data[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:16px 0}.demo-paginator[_ngcontent-%COMP%]{width:600px}table[_ngcontent-%COMP%]{width:100%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})();const xW=[{path:"products/list",component:MW},{path:"products/create",component:pG}];let RW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[cC.forRoot(xW),cC]}),n})(),kW=(()=>{class n{constructor(){this.title="compras61"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[ch]}),n})();const Jk={firebase:{projectId:"compras61-d7c2f",appId:"1:826032635505:web:b3679d4df75a1dd1ca25d0",storageBucket:"compras61-d7c2f.appspot.com",apiKey:"AIzaSyAk4TWF9JAdqcdt4TCTmWvzGsXb_YcdnJ8",authDomain:"compras61-d7c2f.firebaseapp.com",messagingSenderId:"826032635505",measurementId:"G-Q8NYMSY552"},production:!0};var OW=F(8247);class eO{constructor(e){return e}}class EB{constructor(){return $g("auth")}}const tO=new d.OlP("angularfire2.auth-instances");function NW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new eO(r)}}const FW={provide:EB,deps:[[new d.FiY,tO]]},LW={provide:eO,useFactory:function PW(n,e){const t=jg("auth",n,e);return t&&new eO(t)},deps:[[new d.FiY,tO],e_]};let VW=(()=>{class n{constructor(){(0,Lt.registerVersion)("angularfire",vu.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[LW,FW]}),n})();function BW(n,...e){return{ngModule:VW,providers:[{provide:tO,useFactory:NW(n),multi:!0,deps:[d.R0b,d.zs3,bu,rk,[new d.FiY,n0],...e]}]}}const UW=PD(OW.n,!0);class nO{constructor(e){return e}}const CB="firestore",rO=new d.OlP("angularfire2.firestore-instances");function $W(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new nO(r)}}const zW={provide:class HW{constructor(){return $g(CB)}},deps:[[new d.FiY,rO]]},GW={provide:nO,useFactory:function jW(n,e){const t=jg(CB,n,e);return t&&new nO(t)},deps:[[new d.FiY,rO],e_]};let WW=(()=>{class n{constructor(){(0,Lt.registerVersion)("angularfire",vu.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[GW,zW]}),n})();function qW(n,...e){return{ngModule:WW,providers:[{provide:rO,useFactory:$W(n),multi:!0,deps:[d.R0b,d.zs3,bu,rk,[new d.FiY,EB],[new d.FiY,n0],...e]}]}}const KW=PD(s$,!0);class DB{}const tc="*";function h0(n,e){return{type:7,name:n,definitions:e,options:{}}}function Cf(n,e=null){return{type:4,styles:e,timings:n}}function IB(n,e=null){return{type:2,steps:n,options:e}}function Hr(n){return{type:6,styles:n,offset:null}}function ed(n,e,t){return{type:0,name:n,styles:e,options:t}}function td(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function SB(n){Promise.resolve().then(n)}class f0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){SB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class TB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?SB(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function AB(n){return new d.vHH(3e3,!1)}function Oq(){return typeof window<"u"&&typeof window.document<"u"}function sO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function nd(n){switch(n.length){case 0:return new f0;case 1:return n[0];default:return new TB(n)}}function MB(n,e,t,r,i=new Map,a=new Map){const c=[],h=[];let m=-1,v=null;if(r.forEach(D=>{const I=D.get("offset"),R=I==m,L=R&&v||new Map;D.forEach((j,te)=>{let ne=te,Ue=j;if("offset"!==te)switch(ne=e.normalizePropertyName(ne,c),Ue){case"!":Ue=i.get(te);break;case tc:Ue=a.get(te);break;default:Ue=e.normalizeStyleValue(te,ne,Ue,c)}L.set(ne,Ue)}),R||h.push(L),v=L,m=I}),c.length)throw function wq(n){return new d.vHH(3502,!1)}();return h}function oO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&aO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&aO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&aO(t,"destroy",n)))}}function aO(n,e,t){const a=lO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function lO(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function gs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function xB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let cO=(n,e)=>!1,RB=(n,e,t)=>[],kB=null;function uO(n){const e=n.parentNode||n.host;return e===kB?null:e}(sO()||typeof Element<"u")&&(Oq()?(kB=(()=>document.documentElement)(),cO=(n,e)=>{for(;e;){if(e===n)return!0;e=uO(e)}return!1}):cO=(n,e)=>n.contains(e),RB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Df=null,OB=!1;const PB=cO,NB=RB;let FB=(()=>{class n{validateStyleProperty(t){return function Nq(n){Df||(Df=function Fq(){return typeof document<"u"?document.body:null}()||{},OB=!!Df.style&&"WebkitAppearance"in Df.style);let e=!0;return Df.style&&!function Pq(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Df.style,!e&&OB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Df.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return PB(t,r)}getParentElement(t){return uO(t)}query(t,r,i){return NB(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,h=[],m){return new f0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),dO=(()=>{class n{}return n.NOOP=new FB,n})();const hO="ng-enter",MS="ng-leave",xS="ng-trigger",RS=".ng-trigger",VB="ng-animating",fO=".ng-animating";function nc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pO(parseFloat(e[1]),e[2])}function pO(n,e){return"s"===e?1e3*n:n}function kS(n,e,t){return n.hasOwnProperty("duration")?n:function Bq(n,e,t){let i,a=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(AB()),{duration:0,delay:0,easing:""};i=pO(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(a=pO(parseFloat(m),h[4]));const v=h[5];v&&(c=v)}else i=n;if(!t){let h=!1,m=e.length;i<0&&(e.push(function JW(){return new d.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function eq(){return new d.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,AB())}return{duration:i,delay:a,easing:c}}(n,e,t)}function p0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function BB(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function rd(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function HB(n,e,t){return t?e+":"+t+";":""}function jB(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=HB(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=HB(0,$q(t),n.style[t]));n.setAttribute("style",e)}function Ma(n,e,t){n.style&&(e.forEach((r,i)=>{const a=mO(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),sO()&&jB(n))}function If(n,e){n.style&&(e.forEach((t,r)=>{const i=mO(r);n.style[i]=""}),sO()&&jB(n))}function g0(n){return Array.isArray(n)?1==n.length?n[0]:IB(n):n}const gO=new RegExp("{{\\s*(.+?)\\s*}}","g");function $B(n){let e=[];if("string"==typeof n){let t;for(;t=gO.exec(n);)e.push(t[1]);gO.lastIndex=0}return e}function m0(n,e,t){const r=n.toString(),i=r.replace(gO,(a,c)=>{let h=e[c];return null==h&&(t.push(function nq(n){return new d.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function OS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const jq=/-+([a-z0-9])/g;function mO(n){return n.replace(jq,(...e)=>e[1].toUpperCase())}function $q(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ms(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function rq(n){return new d.vHH(3004,!1)}()}}function zB(n,e){return window.getComputedStyle(n)[e]}function Zq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Yq(n,e,t){if(":"==n[0]){const m=function Qq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function _q(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function mq(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(GB(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(GB(c,i))}(r,t,e)):t.push(n),t}const LS=new Set(["true","1"]),VS=new Set(["false","0"]);function GB(n,e){const t=LS.has(n)||VS.has(n),r=LS.has(e)||VS.has(e);return(i,a)=>{let c="*"==n||n==i,h="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?LS.has(n):VS.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?LS.has(e):VS.has(e)),c&&h}}const Xq=new RegExp("s*:selfs*,?","g");function _O(n,e,t,r){return new Jq(n).build(e,t,r)}class Jq{constructor(e){this._driver=e}build(e,t,r){const i=new n6(t);return this._resetContextStyleTimingState(i),ms(this,g0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function sq(){return new d.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(D=>{m.name=D,a.push(this.visitState(m,t))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,t);r+=m.queryCount,i+=m.depCount,c.push(m)}else t.errors.push(function oq(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{$B(m).forEach(v=>{c.hasOwnProperty(v)||a.add(v)})})}),a.size&&(OS(a.values()),t.errors.push(function aq(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ms(this,g0(e.animation),t);return{type:1,matchers:Zq(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Sf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ms(this,r,t)),options:Sf(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const h=ms(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:Sf(e.options)}}visitAnimate(e,t){const r=function s6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yO(kS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=yO(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=kS(t,e);return yO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Hr({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,h=!1;if(!c){h=!0;const v={};r.easing&&(v.easing=r.easing),c=Hr(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(c,t);m.isEmptyStep=h,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===tc?r.push(h):t.errors.push(new d.vHH(3002,!1)):r.push(BB(h));let a=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!a))for(let m of h.values())if(m.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),D=v.get(m);let I=!0;D&&(a!=i&&a>=D.startTime&&i<=D.endTime&&(t.errors.push(function cq(n,e,t,r,i){return new d.vHH(3010,!1)}()),I=!1),a=D.startTime),I&&v.set(m,{startTime:a,endTime:i}),t.options&&function Hq(n,e,t){const r=e.params||{},i=$B(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function tq(n){return new d.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function uq(){return new d.vHH(3011,!1)}()),r;let a=0;const c=[];let h=!1,m=!1,v=0;const D=e.steps.map(Ue=>{const Xe=this._makeStyleAst(Ue,t);let nt=null!=Xe.offset?Xe.offset:function r6(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Xe.styles),Ze=0;return null!=nt&&(a++,Ze=Xe.offset=nt),m=m||Ze<0||Ze>1,h=h||Ze<v,v=Ze,c.push(Ze),Xe});m&&t.errors.push(function dq(){return new d.vHH(3012,!1)}()),h&&t.errors.push(function hq(){return new d.vHH(3200,!1)}());const I=e.steps.length;let R=0;a>0&&a<I?t.errors.push(function fq(){return new d.vHH(3202,!1)}()):0==a&&(R=1/(I-1));const L=I-1,j=t.currentTime,te=t.currentAnimateTimings,ne=te.duration;return D.forEach((Ue,Xe)=>{const nt=R>0?Xe==L?1:R*Xe:c[Xe],Ze=nt*ne;t.currentTime=j+te.delay+Ze,te.duration=Ze,this._validateStyleAst(Ue,t),Ue.offset=nt,r.styles.push(Ue)}),r}visitReference(e,t){return{type:8,animation:ms(this,g0(e.animation),t),options:Sf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function e6(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Xq,"")),n=n.replace(/@\*/g,RS).replace(/@\w+/g,t=>RS+"-"+t.slice(1)).replace(/:animating/g,fO),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,gs(t.collectedStyles,t.currentQuerySelector,new Map);const h=ms(this,g0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Sf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function pq(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:kS(e.timings,t.errors,!0);return{type:12,animation:ms(this,g0(e.animation),t),timings:r,options:null}}}class n6{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sf(n){return n?(n=p0(n)).params&&(n.params=function t6(n){return n?p0(n):null}(n.params)):n={},n}function yO(n,e,t){return{duration:n,delay:e,easing:t}}function vO(n,e,t,r,i,a,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:h}}class BS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const l6=new RegExp(":enter","g"),u6=new RegExp(":leave","g");function bO(n,e,t,r,i,a=new Map,c=new Map,h,m,v=[]){return(new d6).buildKeyframes(n,e,t,r,i,a,c,h,m,v)}class d6{buildKeyframes(e,t,r,i,a,c,h,m,v,D=[]){v=v||new BS;const I=new wO(e,t,v,i,a,D,[]);I.options=m;const R=m.delay?nc(m.delay):0;I.currentTimeline.delayNextStep(R),I.currentTimeline.setStyles([c],null,I.errors,m),ms(this,r,I);const L=I.timelines.filter(j=>j.containsAnimation());if(L.length&&h.size){let j;for(let te=L.length-1;te>=0;te--){const ne=L[te];if(ne.element===t){j=ne;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,I.errors,m)}return L.length?L.map(j=>j.buildKeyframes()):[vO(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const c="number"==typeof a?a:nc(m0(a,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?nc(r.duration):null,h=null!=r.delay?nc(r.delay):null;return 0!==c&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,c,h);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ms(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=US);const c=nc(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ms(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?nc(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),ms(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return kS(t.params?m0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*a),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?nc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=US);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((v,D)=>{t.currentQueryIndex=D;const I=t.createSubContext(e.options,v);a&&I.delayNextStep(a),v===t.element&&(m=I.currentTimeline),ms(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),h=c*(t.currentQueryTotal-1);let m=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const D=t.currentTimeline;m&&D.delayNextStep(m);const I=D.currentTime;ms(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-I+(i.startTime-r.currentTimeline.startTime)}}const US={};class wO{constructor(e,t,r,i,a,c,h,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=US,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new HS(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=nc(r.duration)),null!=r.delay&&(i.delay=nc(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=m0(a[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new wO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=US,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new h6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(l6,"."+this._enterClassName)).replace(u6,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!a&&0==h.length&&c.push(function gq(n){return new d.vHH(3014,!1)}()),h}}class HS{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new HS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||tc),this._currentKeyframe.set(t,tc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function f6(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,tc)}else rd(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of c){const v=m0(m,a,r);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??tc),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,m)=>{const v=rd(h,new Map,this._backFill);v.forEach((D,I)=>{"!"===D?e.add(I):D===tc&&t.add(I)}),r||v.set("offset",m/this.duration),i.push(v)});const a=e.size?OS(e.values()):[],c=t.size?OS(t.values()):[];if(r){const h=i[0],m=new Map(h);h.set("offset",0),m.set("offset",1),i=[h,m]}return vO(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class h6 extends HS{constructor(e,t,r,i,a,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,h=t/c,m=rd(e[0]);m.set("offset",0),a.push(m);const v=rd(e[0]);v.set("offset",KB(h)),a.push(v);const D=e.length-1;for(let I=1;I<=D;I++){let R=rd(e[I]);const L=R.get("offset");R.set("offset",KB((t+L*r)/c)),a.push(R)}r=c,t=0,i="",e=a}return vO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function KB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class EO{}const p6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class g6 extends EO{normalizePropertyName(e,t){return mO(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(p6.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function iq(n,e){return new d.vHH(3005,!1)}())}return c+a}}function ZB(n,e,t,r,i,a,c,h,m,v,D,I,R){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:D,totalTime:I,errors:R}}const CO={};class YB{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function m6(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,h,m,v,D){const I=[],R=this.ast.options&&this.ast.options.params||CO,j=this.buildStyles(r,h&&h.params||CO,I),te=m&&m.params||CO,ne=this.buildStyles(i,te,I),Ue=new Set,Xe=new Map,nt=new Map,Ze="void"===i,ft={params:_6(te,R),delay:this.ast.options?.delay},bt=D?[]:bO(e,t,this.ast.animation,a,c,j,ne,ft,v,I);let Zt=0;if(bt.forEach(rc=>{Zt=Math.max(rc.duration+rc.delay,Zt)}),I.length)return ZB(t,this._triggerName,r,i,Ze,j,ne,[],[],Xe,nt,Zt,I);bt.forEach(rc=>{const ic=rc.element,U2=gs(Xe,ic,new Set);rc.preStyleProps.forEach(xf=>U2.add(xf));const b0=gs(nt,ic,new Set);rc.postStyleProps.forEach(xf=>b0.add(xf)),ic!==t&&Ue.add(ic)});const ki=OS(Ue.values());return ZB(t,this._triggerName,r,i,Ze,j,ne,bt,ki,Xe,nt,Zt)}}function _6(n,e){const t=p0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class y6{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=p0(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,h)=>{c&&(c=m0(c,i,t));const m=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,m,c,t),r.set(m,c)})}),r}}class b6{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new y6(i.style,i.options&&i.options.params||{},r))}),QB(this.states,"true","1"),QB(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new YB(e,i,this.states))}),this.fallbackTransition=function w6(n,e,t){return new YB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function QB(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const E6=new BS;class C6{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=_O(this._driver,t,r,[]);if(r.length)throw function Eq(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=MB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const h=new Map;if(a?(c=bO(this._driver,t,a,hO,MS,new Map,new Map,r,E6,i),c.forEach(D=>{const I=gs(h,D.element,new Map);D.postStyleProps.forEach(R=>I.set(R,null))})):(i.push(function Cq(){return new d.vHH(3300,!1)}()),c=[]),i.length)throw function Dq(n){return new d.vHH(3504,!1)}();h.forEach((D,I)=>{D.forEach((R,L)=>{D.set(L,this._driver.computeStyle(I,L,tc))})});const v=nd(c.map(D=>{const I=h.get(D.element);return this._buildPlayer(D,new Map,I)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Iq(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=lO(t,"","","");return oO(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const XB="ng-animate-queued",DO="ng-animate-disabled",A6=[],JB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},M6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Gs="__ng_removed";class IO{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function O6(n){return n??null}(r?e.value:e),r){const a=p0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const _0="void",SO=new IO(_0);class x6{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ws(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Sq(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function Tq(n){return new d.vHH(3303,!1)}();if(!function P6(n){return"start"==n||"done"==n}(r))throw function Aq(n,e){return new d.vHH(3400,!1)}();const a=gs(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const h=gs(this._engine.statesByElement,e,new Map);return h.has(t)||(Ws(e,xS),Ws(e,xS+"-"+t),h.set(t,SO)),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(c);m>=0&&a.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Mq(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new TO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ws(e,xS),Ws(e,xS+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const v=new IO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(t,v),m||(m=SO),v.value!==_0&&m.value===v.value){if(!function L6(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(m.params,v.params)){const te=[],ne=a.matchStyles(m.value,m.params,te),Ue=a.matchStyles(v.value,v.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{If(e,ne),Ma(e,Ue)})}return}const R=gs(this._engine.playersByElement,e,[]);R.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let L=a.matchTransition(m.value,v.value,e,v.params),j=!1;if(!L){if(!i)return;L=a.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:m,toState:v,player:c,isFallbackTransition:j}),j||(Ws(e,XB),c.onStart(()=>{c_(e,XB)})),c.onDone(()=>{let te=this.players.indexOf(c);te>=0&&this.players.splice(te,1);const ne=this._engine.playersByElement.get(e);if(ne){let Ue=ne.indexOf(c);Ue>=0&&ne.splice(Ue,1)}}),this.players.push(c),R.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,RS,!0);r.forEach(i=>{if(i[Gs])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const h=[];if(a.forEach((m,v)=>{if(c.set(v,m.value),this._triggers.has(v)){const D=this.trigger(e,v,_0,i);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&nd(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const m=this._triggers.get(c).fallbackTransition,v=r.get(c)||SO,D=new IO(_0),I=new TO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:m,fromState:v,toState:D,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Gs];(!a||a===JB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ws(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(h=>{if(h.name==r.triggerName){const m=lO(a,r.triggerName,r.fromState.value,r.toState.value);m._data=e,oO(r.player,h.phase,m,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class R6{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new x6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const m=i.get(h);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(jS(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!jS(t))return;const a=t[Gs];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ws(e,DO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),c_(e,DO))}removeNode(e,t,r,i){if(jS(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Gs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return jS(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,RS,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,fO,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return nd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Gs];if(t&&t.setForRemoval){if(e[Gs]=JB,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(DO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ws(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?nd(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function xq(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new BS,i=[],a=new Map,c=[],h=new Map,m=new Map,v=new Map,D=new Set;this.disabledNodes.forEach(at=>{D.add(at);const Et=this.driver.query(at,".ng-animate-queued",!0);for(let At=0;At<Et.length;At++)D.add(Et[At])});const I=this.bodyNode,R=Array.from(this.statesByElement.keys()),L=n2(R,this.collectedEnterElements),j=new Map;let te=0;L.forEach((at,Et)=>{const At=hO+te++;j.set(Et,At),at.forEach(rn=>Ws(rn,At))});const ne=[],Ue=new Set,Xe=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const Et=this.collectedLeaveElements[at],At=Et[Gs];At&&At.setForRemoval&&(ne.push(Et),Ue.add(Et),At.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(rn=>Ue.add(rn)):Xe.add(Et))}const nt=new Map,Ze=n2(R,Array.from(Ue));Ze.forEach((at,Et)=>{const At=MS+te++;nt.set(Et,At),at.forEach(rn=>Ws(rn,At))}),e.push(()=>{L.forEach((at,Et)=>{const At=j.get(Et);at.forEach(rn=>c_(rn,At))}),Ze.forEach((at,Et)=>{const At=nt.get(Et);at.forEach(rn=>c_(rn,At))}),ne.forEach(at=>{this.processLeaveNode(at)})});const ft=[],bt=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(t).forEach(At=>{const rn=At.player,jr=At.element;if(ft.push(rn),this.collectedEnterElements.length){const pi=jr[Gs];if(pi&&pi.setForMove){if(pi.previousTriggersValues&&pi.previousTriggersValues.has(At.triggerName)){const Rf=pi.previousTriggersValues.get(At.triggerName),qs=this.statesByElement.get(At.element);if(qs&&qs.has(At.triggerName)){const KS=qs.get(At.triggerName);KS.value=Rf,qs.set(At.triggerName,KS)}}return void rn.destroy()}}const xa=!I||!this.driver.containsElement(I,jr),_s=nt.get(jr),ad=j.get(jr),$n=this._buildInstruction(At,r,ad,_s,xa);if($n.errors&&$n.errors.length)return void bt.push($n);if(xa)return rn.onStart(()=>If(jr,$n.fromStyles)),rn.onDestroy(()=>Ma(jr,$n.toStyles)),void i.push(rn);if(At.isFallbackTransition)return rn.onStart(()=>If(jr,$n.fromStyles)),rn.onDestroy(()=>Ma(jr,$n.toStyles)),void i.push(rn);const $2=[];$n.timelines.forEach(pi=>{pi.stretchStartingKeyframe=!0,this.disabledNodes.has(pi.element)||$2.push(pi)}),$n.timelines=$2,r.append(jr,$n.timelines),c.push({instruction:$n,player:rn,element:jr}),$n.queriedElements.forEach(pi=>gs(h,pi,[]).push(rn)),$n.preStyleProps.forEach((pi,Rf)=>{if(pi.size){let qs=m.get(Rf);qs||m.set(Rf,qs=new Set),pi.forEach((KS,zO)=>qs.add(zO))}}),$n.postStyleProps.forEach((pi,Rf)=>{let qs=v.get(Rf);qs||v.set(Rf,qs=new Set),pi.forEach((KS,zO)=>qs.add(zO))})});if(bt.length){const at=[];bt.forEach(Et=>{at.push(function Rq(n,e){return new d.vHH(3505,!1)}())}),ft.forEach(Et=>Et.destroy()),this.reportError(at)}const Zt=new Map,ki=new Map;c.forEach(at=>{const Et=at.element;r.has(Et)&&(ki.set(Et,Et),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,Zt))}),i.forEach(at=>{const Et=at.element;this._getPreviousPlayers(Et,!1,at.namespaceId,at.triggerName,null).forEach(rn=>{gs(Zt,Et,[]).push(rn),rn.destroy()})});const rc=ne.filter(at=>s2(at,m,v)),ic=new Map;t2(ic,this.driver,Xe,v,tc).forEach(at=>{s2(at,m,v)&&rc.push(at)});const b0=new Map;L.forEach((at,Et)=>{t2(b0,this.driver,new Set(at),m,"!")}),rc.forEach(at=>{const Et=ic.get(at),At=b0.get(at);ic.set(at,new Map([...Array.from(Et?.entries()??[]),...Array.from(At?.entries()??[])]))});const xf=[],H2=[],j2={};c.forEach(at=>{const{element:Et,player:At,instruction:rn}=at;if(r.has(Et)){if(D.has(Et))return At.onDestroy(()=>Ma(Et,rn.toStyles)),At.disabled=!0,At.overrideTotalTime(rn.totalTime),void i.push(At);let jr=j2;if(ki.size>1){let _s=Et;const ad=[];for(;_s=_s.parentNode;){const $n=ki.get(_s);if($n){jr=$n;break}ad.push(_s)}ad.forEach($n=>ki.set($n,jr))}const xa=this._buildAnimation(At.namespaceId,rn,Zt,a,b0,ic);if(At.setRealPlayer(xa),jr===j2)xf.push(At);else{const _s=this.playersByElement.get(jr);_s&&_s.length&&(At.parentPlayer=nd(_s)),i.push(At)}}else If(Et,rn.fromStyles),At.onDestroy(()=>Ma(Et,rn.toStyles)),H2.push(At),D.has(Et)&&i.push(At)}),H2.forEach(at=>{const Et=a.get(at.element);if(Et&&Et.length){const At=nd(Et);at.setRealPlayer(At)}}),i.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<ne.length;at++){const Et=ne[at],At=Et[Gs];if(c_(Et,MS),At&&At.hasAnimation)continue;let rn=[];if(h.size){let xa=h.get(Et);xa&&xa.length&&rn.push(...xa);let _s=this.driver.query(Et,fO,!0);for(let ad=0;ad<_s.length;ad++){let $n=h.get(_s[ad]);$n&&$n.length&&rn.push(...$n)}}const jr=rn.filter(xa=>!xa.destroyed);jr.length?N6(this,Et,jr):this.processLeaveNode(Et)}return ne.length=0,xf.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const Et=this.players.indexOf(at);this.players.splice(Et,1)}),at.play()}),xf}elementContainsData(e,t){let r=!1;const i=t[Gs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const m=!a||a==_0;h.forEach(v=>{v.queued||!m&&v.triggerName!=i||c.push(v)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,D=v!==a,I=gs(r,v,[]);this._getPreviousPlayers(v,D,c,h,t.toState).forEach(L=>{const j=L.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),L.destroy(),I.push(L)})}If(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const h=t.triggerName,m=t.element,v=[],D=new Set,I=new Set,R=t.timelines.map(j=>{const te=j.element;D.add(te);const ne=te[Gs];if(ne&&ne.removedBeforeQueried)return new f0(j.duration,j.delay);const Ue=te!==m,Xe=function F6(n){const e=[];return r2(n,e),e}((r.get(te)||A6).map(Zt=>Zt.getRealPlayer())).filter(Zt=>!!Zt.element&&Zt.element===te),nt=a.get(te),Ze=c.get(te),ft=MB(0,this._normalizer,0,j.keyframes,nt,Ze),bt=this._buildPlayer(j,ft,Xe);if(j.subTimeline&&i&&I.add(te),Ue){const Zt=new TO(e,h,te);Zt.setRealPlayer(bt),v.push(Zt)}return bt});v.forEach(j=>{gs(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function k6(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,j.element,j))}),D.forEach(j=>Ws(j,VB));const L=nd(R);return L.onDestroy(()=>{D.forEach(j=>c_(j,VB)),Ma(m,t.toStyles)}),I.forEach(j=>{gs(i,j,[]).push(L)}),L}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new f0(e.duration,e.delay)}}class TO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new f0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>oO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){gs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jS(n){return n&&1===n.nodeType}function e2(n,e){const t=n.style.display;return n.style.display=e??"none",t}function t2(n,e,t,r,i){const a=[];t.forEach(m=>a.push(e2(m)));const c=[];r.forEach((m,v)=>{const D=new Map;m.forEach(I=>{const R=e.computeStyle(v,I,i);D.set(I,R),(!R||0==R.length)&&(v[Gs]=M6,c.push(v))}),n.set(v,D)});let h=0;return t.forEach(m=>e2(m,a[h++])),c}function n2(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(h){if(!h)return 1;let m=a.get(h);if(m)return m;const v=h.parentNode;return m=t.has(v)?v:i.has(v)?1:c(v),a.set(h,m),m}return e.forEach(h=>{const m=c(h);1!==m&&t.get(m).push(h)}),t}function Ws(n,e){n.classList?.add(e)}function c_(n,e){n.classList?.remove(e)}function N6(n,e,t){nd(t).onDone(()=>n.processLeaveNode(e))}function r2(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof TB?r2(r.players,e):e.push(r)}}function s2(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class $S{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new R6(e,t,r),this._timelineEngine=new C6(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const m=[],D=_O(this._driver,a,m,[]);if(m.length)throw function bq(n,e){return new d.vHH(3404,!1)}();h=function v6(n,e,t){return new b6(n,e,t)}(i,D,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=xB(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,h]=xB(r);return this._timelineEngine.listen(c,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let B6=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ma(this._element,this._initialStyles),this._endStyles&&(Ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(If(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(If(this._element,this._endStyles),this._endStyles=null),Ma(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function AO(n){let e=null;return n.forEach((t,r)=>{(function U6(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class o2{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:zB(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class H6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return PB(e,t)}getParentElement(e){return uO(e)}query(e,t,r){return NB(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(m.easing=a);const v=new Map,D=c.filter(L=>L instanceof o2);(function zq(n,e){return 0===n||0===e})(r,i)&&D.forEach(L=>{L.currentSnapshot.forEach((j,te)=>v.set(te,j))});let I=function Uq(n){return n.length?n[0]instanceof Map?n:n.map(e=>BB(e)):[]}(t).map(L=>rd(L));I=function Gq(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(h=>c.set(h,zB(n,h)))}}return e}(e,I,v);const R=function V6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=AO(e[0]),e.length>1&&(r=AO(e[e.length-1]))):e instanceof Map&&(t=AO(e)),t||r?new B6(n,t,r):null}(e,I);return new o2(e,I,m,R)}}let j6=(()=>{class n extends DB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?IB(t):t;return a2(this._renderer,null,r,"register",[i]),new $6(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class $6 extends class ZW{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new z6(this._id,e,t||{},this._renderer)}}class z6{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return a2(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function a2(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const l2="@.disabled";let G6=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const h=c?.parentNode(a);h&&c.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new c2("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,D)),D}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=D=>{Array.isArray(D)?D.forEach(m):this.engine.registerTrigger(c,h,t,D.name,D)};return r.data.animation.forEach(m),new W6(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,h]=a;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG($S),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class c2{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==l2?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class W6 extends c2{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==l2?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function q6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function K6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Z6=(()=>{class n extends $S{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(dO),d.LFG(EO),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const u2=[{provide:DB,useClass:j6},{provide:EO,useFactory:function Y6(){return new g6}},{provide:$S,useClass:Z6},{provide:d.FYo,useFactory:function Q6(n,e,t){return new G6(n,e,t)},deps:[Md,$S,d.R0b]}],MO=[{provide:dO,useFactory:()=>new H6},{provide:d.QbO,useValue:"BrowserAnimations"},...u2],d2=[{provide:dO,useClass:FB},{provide:d.QbO,useValue:"NoopAnimations"},...u2];let X6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?d2:MO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:MO,imports:[uo]}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cn],cn]}),n})(),m5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cn],cn]}),n})();var OO=F(655);class PO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class NO extends PO{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class E2 extends PO{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class _5 extends PO{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class FO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof NO?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof E2?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof _5?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class y5 extends FO{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let C2=(()=>{class n extends FO{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=a=>{const c=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(de))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const I2=SG();class v5{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=pr(-this._previousScrollPosition.left),e.style.top=pr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),I2&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),I2&&(r.scrollBehavior=a,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class b5{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class S2{enable(){}disable(){}attach(){}}function LO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function T2(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class w5{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();LO(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let E5=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new S2,this.close=c=>new b5(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new v5(this._viewportRuler,this._document),this.reposition=c=>new w5(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($3),d.LFG(Fk),d.LFG(d.R0b),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class A2{constructor(e){if(this.scrollStrategy=new S2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class C5{constructor(e,t,r,i,a){this.offsetX=r,this.offsetY=i,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class D5{}let I5=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=(0,OO.gn)([(0,OO.fM)(1,(0,d.FiY)()),(0,OO.w6)("design:paramtypes",[C5,D5])],n),n})(),M2=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S5=(()=>{class n extends M2{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let a=i.length-1;a>-1;a--)if(i[a]._keydownEvents.observers.length>0){i[a]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T5=(()=>{class n extends M2{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Ef(i)},this._clickListener=i=>{const a=Ef(i),c="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){const v=h[m];if(!(v._outsidePointerEvents.observers.length<1)&&v.hasAttached()){if(v.overlayElement.contains(a)||v.overlayElement.contains(c))break;v._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(zs))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VO=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Mk()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Mk()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(zs))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class A5{constructor(e,t,r,i,a,c,h,m,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=c,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new ln.x,this._attachments=new ln.x,this._detachments=new ln.x,this._locationChanges=wl.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._keydownEvents=new ln.x,this._outsidePointerEvents=new ln.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ts(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=pr(this._config.width),e.height=pr(this._config.height),e.minWidth=pr(this._config.minWidth),e.minHeight=pr(this._config.minHeight),e.maxWidth=pr(this._config.maxWidth),e.maxHeight=pr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=AV(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(n_((0,HL.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const x2="cdk-overlay-connected-position-bounding-box",M5=/([A-Za-z%]+)$/;class x5{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ln.x,this._resizeSubscription=wl.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(x2),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let a;for(let c of this._preferredPositions){let h=this._getOriginPoint(e,c),m=this._getOverlayPoint(h,t,c),v=this._getOverlayFit(m,t,r,c);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,h);this._canFitWithFlexibleDimensions(v,m,r)?i.push({position:c,origin:h,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(h,c)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:m,originPoint:h,position:c,overlayRect:t})}if(i.length){let c=null,h=-1;for(const m of i){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>h&&(h=v,c=m)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Af(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(x2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r="start"==t.originX?a:c}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=k2(t);let{x:c,y:h}=e,m=this._getOffset(i,"x"),v=this._getOffset(i,"y");m&&(c+=m),v&&(h+=v);let R=0-h,L=h+a.height-r.height,j=this._subtractOverflows(a.width,0-c,c+a.width-r.width),te=this._subtractOverflows(a.height,R,L),ne=j*te;return{visibleArea:ne,isCompletelyWithinViewport:a.width*a.height===ne,fitsInViewportVertically:te===a.height,fitsInViewportHorizontally:j==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,c=R2(this._overlayRef.getConfig().minHeight),h=R2(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=h&&h<=a;return(e.fitsInViewportVertically||null!=c&&c<=i)&&v}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=k2(t),a=this._viewportRect,c=Math.max(e.x+i.width-a.width,0),h=Math.max(e.y+i.height-a.height,0),m=Math.max(a.top-r.top-e.y,0),v=Math.max(a.left-r.left-e.x,0);let D=0,I=0;return D=i.width<=a.width?v||-c:e.x<this._viewportMargin?a.left-r.left-e.x:0,I=i.height<=a.height?m||-h:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:D,y:I},{x:e.x+D,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new I5(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,c,h,D,I,R;if("top"===t.overlayY)c=e.y,a=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,a=r.height-h+this._viewportMargin;else{const L=Math.min(r.bottom-e.y+r.top,e.y),j=this._lastBoundingBoxSize.height;a=2*L,c=e.y-L,a>j&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-j/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)R=r.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)I=e.x,D=r.right-e.x;else{const L=Math.min(r.right-e.x+r.left,e.x),j=this._lastBoundingBoxSize.width;D=2*L,I=e.x-L,D>j&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-j/2)}return{top:c,left:I,bottom:h,right:R,width:D,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=pr(r.height),i.top=pr(r.top),i.bottom=pr(r.bottom),i.width=pr(r.width),i.left=pr(r.left),i.right=pr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=pr(a)),c&&(i.maxWidth=pr(c))}this._lastBoundingBoxSize=r,Af(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Af(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Af(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const D=this._viewportRuler.getViewportScrollPosition();Af(r,this._getExactOverlayY(t,e,D)),Af(r,this._getExactOverlayX(t,e,D))}else r.position="static";let h="",m=this._getOffset(t,"x"),v=this._getOffset(t,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=pr(c.maxHeight):a&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=pr(c.maxWidth):a&&(r.maxWidth="")),Af(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r));let c=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=c,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=pr(a.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=pr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:T2(e,r),isOriginOutsideView:LO(e,r),isOverlayClipped:T2(t,r),isOverlayOutsideView:LO(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&AV(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Af(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function R2(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(M5);return t&&"px"!==t?null:parseFloat(e)}return n||null}function k2(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const O2="cdk-global-overlay-wrapper";class R5{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(O2),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:c,maxHeight:h}=r,m=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=m?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,m?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(O2),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let k5=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new R5}flexibleConnectedTo(t){return new x5(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fk),d.LFG(de),d.LFG(zs),d.LFG(VO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O5=0,u_=(()=>{class n{constructor(t,r,i,a,c,h,m,v,D,I,R){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=h,this._ngZone=m,this._document=v,this._directionality=D,this._location=I,this._outsideClickDispatcher=R}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),c=new A2(t);return c.direction=c.direction||this._directionality.value,new A5(a,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+O5++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new y5(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(E5),d.LFG(VO),d.LFG(d._Vd),d.LFG(k5),d.LFG(S5),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(de),d.LFG(mS),d.LFG(xe),d.LFG(T5))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const F5={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[u_],useFactory:function N5(n){return()=>n.scrollStrategies.reposition()}};let BO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[u_,F5],imports:[[o0,D2,Lk],Lk]}),n})();const U5={provide:new d.OlP("mat-tooltip-scroll-strategy"),deps:[u_],useFactory:function B5(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let P2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[U5],imports:[[WV,io,BO,cn],cn,vS]}),n})();function j5(n,e){if(1&n&&(d.O4$(),d._UZ(0,"circle",3)),2&n){const t=d.oxw();d.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),d.uIk("r",t._getCircleRadius())}}function $5(n,e){if(1&n&&(d.O4$(),d._UZ(0,"circle",3)),2&n){const t=d.oxw();d.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),d.uIk("r",t._getCircleRadius())}}const G5=YV(class{constructor(n){this._elementRef=n}},"primary"),W5=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function q5(){return{diameter:100}}});class od extends G5{constructor(e,t,r,i,a){super(e),this._document=r,this._diameter=100,this._value=0,this.mode="determinate";const c=od._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!a&&!a._forceAnimations,a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=Ik(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Ik(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Ik(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=xV(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=od._diameters;let i=r.get(e);if(!i||!i.has(t)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),e.appendChild(a),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}od._diameters=new WeakMap,od.\u0275fac=function(e){return new(e||od)(d.Y36(d.SBq),d.Y36(zs),d.Y36(de,8),d.Y36(d.QbO,8),d.Y36(W5))},od.\u0275cmp=d.Xpm({type:od,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(d.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),d.Udp("width",t.diameter,"px")("height",t.diameter,"px"),d.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(d.O4$(),d.TgZ(0,"svg",0),d.YNc(1,j5,1,9,"circle",1),d.YNc(2,$5,1,7,"circle",2),d.qZA()),2&e&&(d.Udp("width",t.diameter,"px")("height",t.diameter,"px"),d.Q6J("ngSwitch","indeterminate"===t.mode),d.uIk("viewBox",t._getViewBox()),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1))},dependencies:[ws,Fa],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Z5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cn,io],cn]}),n})(),HO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[io,cn,RV],cn]}),n})();const s4={provide:new d.OlP("mat-select-scroll-strategy"),deps:[u_],useFactory:function r4(n){return()=>n.scrollStrategies.reposition()}};let o4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[s4],imports:[[io,BO,rB,cn],vS,HO,rB,cn]}),n})(),jO=(()=>{class n{constructor(){this.changes=new ln.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,r,i)=>{if(0==i||0==r)return`0 of ${i}`;const a=t*r;return`${a+1} \u2013 ${a<(i=Math.max(i,0))?Math.min(a+r,i):a+r} of ${i}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d4={provide:jO,deps:[[new d.FiY,new d.tp0,jO]],useFactory:function u4(n){return n||new jO}};let h4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[d4],imports:[[io,iB,o4,P2,cn]]}),n})(),g4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[QV,cn],QV,cn]}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cn],cn]}),n})();function _4(n,e){}class $O{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const y4={dialogContainer:h0("dialogContainer",[ed("void, exit",Hr({opacity:0,transform:"scale(0.7)"})),ed("enter",Hr({transform:"none"})),td("* => enter",Cf("150ms cubic-bezier(0, 0, 0.2, 1)",Hr({transform:"none",opacity:1}))),td("* => void, * => exit",Cf("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Hr({opacity:0})))])};let v4=(()=>{class n extends FO{constructor(t,r,i,a,c,h,m,v){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=c,this._interactivityChecker=h,this._ngZone=m,this._focusMonitor=v,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Ak(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ak())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Ak();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(zG),d.Y36(d.sBO),d.Y36(de,8),d.Y36($O),d.Y36(FV),d.Y36(d.R0b),d.Y36(jV))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&d.Gf(C2,7),2&t){let i;d.iGM(i=d.CRH())&&(r._portalOutlet=i.first)}},features:[d.qOj]}),n})(),b4=(()=>{class n extends v4{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&d.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(d.Ikx("id",r._id),d.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&d.YNc(0,_4,0,0,"ng-template",0)},dependencies:[C2],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[y4.dialogContainer]}}),n})(),w4=0;class E4{constructor(e,t,r="mat-dialog-"+w4++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ln.x,this._afterClosed=new ln.x,this._beforeClosed=new ln.x,this._state=0,t._id=r,t._animationStateChanged.pipe(dr(i=>"opened"===i.state),ts(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(dr(i=>"closed"===i.state),ts(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(dr(i=>27===i.keyCode&&!this.disableClose&&!function wG(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),L2(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():L2(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(dr(t=>"closing"===t.state),ts(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function L2(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const C4=new d.OlP("MatDialogData"),D4=new d.OlP("mat-dialog-default-options"),V2=new d.OlP("mat-dialog-scroll-strategy"),S4={provide:V2,deps:[u_],useFactory:function I4(n){return()=>n.scrollStrategies.block()}};let T4=(()=>{class n{constructor(t,r,i,a,c,h,m,v,D,I){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=c,this._dialogRefConstructor=m,this._dialogContainerType=v,this._dialogDataToken=D,this._animationMode=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ln.x,this._afterOpenedAtThisLevel=new ln.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=rE(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(En(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function M4(n,e){return{...e,...n}}(r,this._defaultOptions||new $O),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),a=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const h=a._animationStateChanged.subscribe(m=>{"opening"===m.state&&(this._dialogAnimatingOpen=!0),"opened"===m.state&&(this._dialogAnimatingOpen=!1,h.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new wl.w0),this._animationStateSubscriptions.add(h)}const c=this._attachDialogContent(t,a,i,r);return this._lastDialogRef=c,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),a._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new A2({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:$O,useValue:r}]}),c=new NO(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,a){const c=new this._dialogRefConstructor(i,r,a.id);if(t instanceof d.Rgc)r.attachTemplatePortal(new E2(t,null,{$implicit:a.data,dialogRef:c}));else{const h=this._createInjector(a,c,r),m=r.attachComponentPortal(new NO(t,a.viewContainerRef,h));c.componentInstance=m.instance}return c.updateSize(a.width,a.height).updatePosition(a.position),c}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(mS,null,d.XFs.Optional))&&c.push({provide:mS,useValue:{value:t.direction,change:Qe()}}),d.zs3.create({parent:a||this._injector,providers:c})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n}),n})(),A4=(()=>{class n extends T4{constructor(t,r,i,a,c,h,m,v){super(t,r,a,h,m,c,E4,b4,C4,v)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(u_),d.LFG(d.zs3),d.LFG(xe,8),d.LFG(D4,8),d.LFG(V2),d.LFG(n,12),d.LFG(VO),d.LFG(d.QbO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),x4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[A4,S4],imports:[[BO,D2,cn],cn]}),n})(),B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[dS]]}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[n3],imports:[[B2,HO,cn],B2,HO]}),n})(),k4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[kW]}),n.\u0275inj=d.cJS({providers:[{provide:Yr.Dh,useValue:Jk.firebase}],imports:[uo,gT,RW,hz(()=>fz(Jk.firebase)),BW(()=>UW()),qW(()=>KW()),X6,iB,b3,Z5,m5,P2,h4,g5,g4,m4,x4,R4,_W]}),n})();Jk.production&&(0,d.G48)(),Ya().bootstrapModule(k4).catch(n=>console.error(n))},127:(gt,Ae,F)=>{F.d(Ae,{Z:()=>d.Z});var d=F(3942);d.Z.registerVersion("firebase","9.14.0","app-compat")},5881:(gt,Ae,F)=>{F.r(Ae);var d=F(5861),U=F(3942),N=F(8247),ce=F(2090),de=(F(9681),F(1877),F(4859));function ye(){return window}function z(){return(z=(0,d.Z)(function*(V,x,P){var ee;const{BuildInfo:Se}=ye();(0,N.ap)(x.sessionId,"AuthEvent did not contain a session ID");const Ye=yield he(x.sessionId),tt={};return(0,N.aq)()?tt.ibi=Se.packageName:(0,N.ar)()?tt.apn=Se.packageName:(0,N.as)(V,"operation-not-supported-in-this-environment"),Se.displayName&&(tt.appDisplayName=Se.displayName),tt.sessionId=Ye,(0,N.at)(V,P,x.type,void 0,null!==(ee=x.eventId)&&void 0!==ee?ee:void 0,tt)})).apply(this,arguments)}function Le(){return(Le=(0,d.Z)(function*(V){const{BuildInfo:x}=ye(),P={};(0,N.aq)()?P.iosBundleId=x.packageName:(0,N.ar)()?P.androidPackageName=x.packageName:(0,N.as)(V,"operation-not-supported-in-this-environment"),yield(0,N.au)(V,P)})).apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(V,x,P){const{cordova:ee}=ye();let Se=()=>{};try{yield new Promise((Ye,tt)=>{let _e=null;function Me(){var Ot;Ye();const nn=null===(Ot=ee.plugins.browsertab)||void 0===Ot?void 0:Ot.close;"function"==typeof nn&&nn(),"function"==typeof P?.close&&P.close()}function Dt(){_e||(_e=window.setTimeout(()=>{tt((0,N.aw)(V,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===document?.visibilityState&&Dt()}x.addPassiveListener(Me),document.addEventListener("resume",Dt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",tn,!1),Se=()=>{x.removePassiveListener(Me),document.removeEventListener("resume",Dt,!1),document.removeEventListener("visibilitychange",tn,!1),_e&&window.clearTimeout(_e)}})}finally{Se()}})).apply(this,arguments)}function he(V){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(V){const x=et(V),P=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(P)).map(Se=>Se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function et(V){if((0,N.ap)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const x=new ArrayBuffer(V.length),P=new Uint8Array(x);for(let ee=0;ee<V.length;ee++)P[ee]=V.charCodeAt(ee);return P}class De extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(x)),super.onEvent(x)}initialized(){var x=this;return(0,d.Z)(function*(){yield x.initPromise})()}}function re(V){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(V){const x=yield Y()._get(le(V));return x&&(yield Y()._remove(le(V))),x})).apply(this,arguments)}function K(){const V=[],x="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<20;P++){const ee=Math.floor(Math.random()*x.length);V.push(x.charAt(ee))}return V.join("")}function Y(){return(0,N.az)(N.b)}function le(V){return(0,N.aA)("authEvent",V.config.apiKey,V.name)}function ke(V){if(!V?.includes("?"))return{};const[x,...P]=V.split("?");return(0,ce.zd)(P.join("?"))}function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function Bt(){var V;return(null===(V=self?.location)||void 0===V?void 0:V.protocol)||null}function Sr(V=(0,ce.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wi(){try{const V=self.localStorage,x=N.aI();if(V)return V.setItem(x,"1"),V.removeItem(x),!function vs(V=(0,ce.z$)()){return function ys(){return(0,ce.w1)()&&11===document?.documentMode}()||function Tn(V=(0,ce.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,ce.hl)()}catch{return Tr()&&(0,ce.hl)()}return!1}function Tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ar(){return(function kt(){return"http:"===Bt()||"https:"===Bt()}()||(0,ce.ru)()||Sr())&&!function Oi(){return(0,ce.b$)()||(0,ce.UG)()}()&&Wi()&&!Tr()}function qi(){return Sr()&&typeof document<"u"}function qe(){return(qe=(0,d.Z)(function*(){return!!qi()&&new Promise(V=>{const x=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),V(!0)})})})).apply(this,arguments)}const zn={LOCAL:"local",NONE:"none",SESSION:"session"},pn=N.ax,$r="persistence";function vn(V){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(V){yield V._initializationPromise;const x=ct(),P=N.aA($r,V.config.apiKey,V.name);x&&x.setItem(P,V._getPersistence())})).apply(this,arguments)}function ct(){var V;try{return(null===(V=function er(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const ut=N.ax;class Mt{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(class Wt{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(x){var P=this;return(0,d.Z)(function*(){const ee=x._key();let Se=P.eventManagers.get(ee);return Se||(Se=new De(x),P.eventManagers.set(ee,Se),P.attachCallbackListeners(x,Se)),Se})()}_openPopup(x){(0,N.as)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,P,ee,Se){var Ye=this;return(0,d.Z)(function*(){!function ae(V){var x,P,ee,Se,Ye,tt,_e,Me,Dt,tn;const Ot=ye();(0,N.ax)("function"==typeof(null===(x=Ot?.universalLinks)||void 0===x?void 0:x.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(P=Ot?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(Ye=null===(Se=null===(ee=Ot?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===Ye?void 0:Ye.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Me=null===(_e=null===(tt=Ot?.cordova)||void 0===tt?void 0:tt.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Me?void 0:Me.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(tn=null===(Dt=Ot?.cordova)||void 0===Dt?void 0:Dt.InAppBrowser)||void 0===tn?void 0:tn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const tt=yield Ye._initialize(x);yield tt.initialized(),tt.resetRedirect(),(0,N.aD)(),yield Ye._originValidation(x);const _e=function ge(V,x,P=null){return{type:x,eventId:P,urlResponse:null,sessionId:K(),postBody:null,tenantId:V.tenantId,error:(0,N.aw)(V,"no-auth-event")}}(x,ee,Se);yield function Ve(V,x){return Y()._set(le(V),x)}(x,_e);const Me=yield function G(V,x,P){return z.apply(this,arguments)}(x,_e,P),Dt=yield function Fe(V){const{cordova:x}=ye();return new Promise(P=>{x.plugins.browsertab.isAvailable(ee=>{let Se=null;ee?x.plugins.browsertab.openUrl(V):Se=x.InAppBrowser.open(V,(0,N.av)()?"_blank":"_system","location=yes"),P(Se)})})}(Me);return function Ce(V,x,P){return We.apply(this,arguments)}(x,tt,Dt)})()}_isIframeWebStorageSupported(x,P){throw new Error("Method not implemented.")}_originValidation(x){const P=x._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function Q(V){return Le.apply(this,arguments)}(x)),this.originValidationPromises[P]}attachCallbackListeners(x,P){const{universalLinks:ee,handleOpenURL:Se,BuildInfo:Ye}=ye(),tt=setTimeout((0,d.Z)(function*(){yield re(x),P.onEvent(He())}),500),_e=function(){var tn=(0,d.Z)(function*(Ot){clearTimeout(tt);const nn=yield re(x);let Ni=null;nn&&Ot?.url&&(Ni=function pe(V,x){var P,ee;const Se=function Re(V){const x=ke(V),P=x.link?decodeURIComponent(x.link):void 0,ee=ke(P).link,Se=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return ke(Se).link||Se||ee||P||V}(x);if(Se.includes("/__/auth/callback")){const Ye=ke(Se),tt=Ye.firebaseError?function ie(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(Ye.firebaseError)):null,_e=null===(ee=null===(P=tt?.code)||void 0===P?void 0:P.split("auth/"))||void 0===ee?void 0:ee[1],Me=_e?(0,N.aw)(_e):null;return Me?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:Se,postBody:null}}return null}(nn,Ot.url)),P.onEvent(Ni||He())});return function(nn){return tn.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,_e);const Me=Se,Dt=`${Ye.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var tn=(0,d.Z)(function*(Ot){if(Ot.toLowerCase().startsWith(Dt)&&_e({url:Ot}),"function"==typeof Me)try{Me(Ot)}catch(nn){console.error(nn)}});return function(Ot){return tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(x){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,P,ee,Se){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(x,P,ee,Se)})()}_openRedirect(x,P,ee,Se){var Ye=this;return(0,d.Z)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(x,P,ee,Se)})()}_isIframeWebStorageSupported(x,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,P)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return qi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,d.Z)(function*(){if(x.underlyingResolver)return;const P=yield function Ks(){return qe.apply(this,arguments)}();x.underlyingResolver=P?x.cordovaResolver:x.browserResolver})()}}function zr(V){return V.unwrap()}function Mr(V){return xr(V)}function xr(V){const{_tokenResponse:x}=V instanceof ce.ZR?V.customData:V;if(!x)return null;if(!(V instanceof ce.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return N.P.credentialFromResult(V);const P=x.providerId;if(!P||P===N.o.PASSWORD)return null;let ee;switch(P){case N.o.GOOGLE:ee=N.Q;break;case N.o.FACEBOOK:ee=N.N;break;case N.o.GITHUB:ee=N.T;break;case N.o.TWITTER:ee=N.W;break;default:const{oauthIdToken:Se,oauthAccessToken:Ye,oauthTokenSecret:tt,pendingToken:_e,nonce:Me}=x;return Ye||tt||Se||_e?_e?P.startsWith("saml.")?N.aL._create(P,_e):N.J._fromParams({providerId:P,signInMethod:P,pendingToken:_e,idToken:Se,accessToken:Ye}):new N.U(P).credential({idToken:Se,accessToken:Ye,rawNonce:Me}):null}return V instanceof ce.ZR?ee.credentialFromError(V):ee.credentialFromResult(V)}function xt(V,x){return x.catch(P=>{throw P instanceof ce.ZR&&function Ct(V,x){var P,ee;const Se=null===(P=x.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ee=x)||void 0===ee?void 0:ee.code))x.resolver=new cr(V,N.an(V,x));else if(Se){const Ye=xr(x),tt=x;Ye&&(tt.credential=Ye,tt.tenantId=Se.tenantId||void 0,tt.email=Se.email||void 0,tt.phoneNumber=Se.phoneNumber||void 0)}}(V,P),P}).then(P=>{const Se=P.user;return{operationType:P.operationType,credential:Mr(P),additionalUserInfo:N.al(P),user:Cn.getOrCreate(Se)}})}function Pi(V,x){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(V,x){const P=yield x;return{verificationId:P.verificationId,confirm:ee=>xt(V,P.confirm(ee))}})).apply(this,arguments)}class cr{constructor(x,P){this.resolver=P,this.auth=function tr(V){return V.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return xt(zr(this.auth),this.resolver.resolveSignIn(x))}}class Cn{constructor(x){this._delegate=x,this.multiFactor=N.ao(x)}static getOrCreate(x){return Cn.USER_MAP.has(x)||Cn.USER_MAP.set(x,new Cn(x)),Cn.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var P=this;return(0,d.Z)(function*(){return xt(P.auth,N.Z(P._delegate,x))})()}linkWithPhoneNumber(x,P){var ee=this;return(0,d.Z)(function*(){return Pi(ee.auth,N.l(ee._delegate,x,P))})()}linkWithPopup(x){var P=this;return(0,d.Z)(function*(){return xt(P.auth,N.d(P._delegate,x,Mt))})()}linkWithRedirect(x){var P=this;return(0,d.Z)(function*(){return yield vn(N.aE(P.auth)),N.g(P._delegate,x,Mt)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var P=this;return(0,d.Z)(function*(){return xt(P.auth,N._(P._delegate,x))})()}reauthenticateWithPhoneNumber(x,P){return Pi(this.auth,N.r(this._delegate,x,P))}reauthenticateWithPopup(x){return xt(this.auth,N.e(this._delegate,x,Mt))}reauthenticateWithRedirect(x){var P=this;return(0,d.Z)(function*(){return yield vn(N.aE(P.auth)),N.h(P._delegate,x,Mt)})()}sendEmailVerification(x){return N.ab(this._delegate,x)}unlink(x){var P=this;return(0,d.Z)(function*(){return yield N.ak(P._delegate,x),P})()}updateEmail(x){return N.ag(this._delegate,x)}updatePassword(x){return N.ah(this._delegate,x)}updatePhoneNumber(x){return N.u(this._delegate,x)}updateProfile(x){return N.af(this._delegate,x)}verifyBeforeUpdateEmail(x,P){return N.ac(this._delegate,x,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cn.USER_MAP=new WeakMap;const Ge=N.ax;let ve=(()=>{class V{constructor(P,ee){if(this.app=P,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Se}=P.options;Ge(Se,"invalid-api-key",{appName:P.name}),Ge(Se,"invalid-api-key",{appName:P.name});const Ye=typeof window<"u"?Mt:void 0;this._delegate=ee.initialize({options:{persistence:mt(Se,P.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,ee){N.G(this._delegate,P,ee)}applyActionCode(P){return N.a2(this._delegate,P)}checkActionCode(P){return N.a3(this._delegate,P)}confirmPasswordReset(P,ee){return N.a1(this._delegate,P,ee)}createUserWithEmailAndPassword(P,ee){var Se=this;return(0,d.Z)(function*(){return xt(Se._delegate,N.a5(Se._delegate,P,ee))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return N.aa(this._delegate,P)}isSignInWithEmailLink(P){return N.a8(this._delegate,P)}getRedirectResult(){var P=this;return(0,d.Z)(function*(){Ge(Ar(),P._delegate,"operation-not-supported-in-this-environment");const ee=yield N.j(P._delegate,Mt);return ee?xt(P._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function sn(V,x){(0,N.aE)(V)._logFramework(x)}(this._delegate,P)}onAuthStateChanged(P,ee,Se){const{next:Ye,error:tt,complete:_e}=Ke(P,ee,Se);return this._delegate.onAuthStateChanged(Ye,tt,_e)}onIdTokenChanged(P,ee,Se){const{next:Ye,error:tt,complete:_e}=Ke(P,ee,Se);return this._delegate.onIdTokenChanged(Ye,tt,_e)}sendSignInLinkToEmail(P,ee){return N.a7(this._delegate,P,ee)}sendPasswordResetEmail(P,ee){return N.a0(this._delegate,P,ee||void 0)}setPersistence(P){var ee=this;return(0,d.Z)(function*(){let Se;switch(function Ra(V,x){pn(Object.values(zn).includes(x),V,"invalid-persistence-type"),(0,ce.b$)()?pn(x!==zn.SESSION,V,"unsupported-persistence-type"):(0,ce.UG)()?pn(x===zn.NONE,V,"unsupported-persistence-type"):Tr()?pn(x===zn.NONE||x===zn.LOCAL&&(0,ce.hl)(),V,"unsupported-persistence-type"):pn(x===zn.NONE||Wi(),V,"unsupported-persistence-type")}(ee._delegate,P),P){case zn.SESSION:Se=N.a;break;case zn.LOCAL:Se=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case zn.NONE:Se=N.L;break;default:return N.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Se)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return xt(this._delegate,N.X(this._delegate))}signInWithCredential(P){return xt(this._delegate,N.Y(this._delegate,P))}signInWithCustomToken(P){return xt(this._delegate,N.$(this._delegate,P))}signInWithEmailAndPassword(P,ee){return xt(this._delegate,N.a6(this._delegate,P,ee))}signInWithEmailLink(P,ee){return xt(this._delegate,N.a9(this._delegate,P,ee))}signInWithPhoneNumber(P,ee){return Pi(this._delegate,N.s(this._delegate,P,ee))}signInWithPopup(P){var ee=this;return(0,d.Z)(function*(){return Ge(Ar(),ee._delegate,"operation-not-supported-in-this-environment"),xt(ee._delegate,N.c(ee._delegate,P,Mt))})()}signInWithRedirect(P){var ee=this;return(0,d.Z)(function*(){return Ge(Ar(),ee._delegate,"operation-not-supported-in-this-environment"),yield vn(ee._delegate),N.f(ee._delegate,P,Mt)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return N.a4(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=zn,V})();function Ke(V,x,P){let ee=V;"function"!=typeof V&&({next:ee,error:x,complete:P}=V);const Se=ee;return{next:tt=>Se(tt&&Cn.getOrCreate(tt)),error:x,complete:P}}function mt(V,x){const P=function un(V,x){const P=ct();if(!P)return[];const ee=N.aA($r,V,x);switch(P.getItem(ee)){case zn.NONE:return[N.L];case zn.LOCAL:return[N.i,N.a];case zn.SESSION:return[N.a];default:return[]}}(V,x);if(typeof self<"u"&&!P.includes(N.i)&&P.push(N.i),typeof window<"u")for(const ee of[N.b,N.a])P.includes(ee)||P.push(ee);return P.includes(N.L)||P.push(N.L),P}class vt{constructor(){this.providerId="phone",this._delegate=new N.P(zr(U.Z.auth()))}static credential(x,P){return N.P.credential(x,P)}verifyPhoneNumber(x,P){return this._delegate.verifyPhoneNumber(x,P)}unwrap(){return this._delegate}}vt.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,vt.PROVIDER_ID=N.P.PROVIDER_ID;const Gt=N.ax;class H{constructor(x,P,ee=U.Z.app()){var Se;Gt(null===(Se=ee.options)||void 0===Se?void 0:Se.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new N.R(x,P,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function W(V){V.INTERNAL.registerComponent(new de.wA("auth-compat",x=>{const P=x.getProvider("app-compat").getImmediate(),ee=x.getProvider("auth");return new ve(P,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:vt,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:H,TwitterAuthProvider:N.W,Auth:ve,AuthCredential:N.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.2.24")}(U.Z)},9751:(gt,Ae,F)=>{F.d(Ae,{y:()=>ye});var d=F(930),U=F(727),N=F(8822),ce=F(9635),Ee=F(2416),we=F(576),de=F(2806);let ye=(()=>{class Q{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Ce=new Q;return Ce.source=this,Ce.operator=Fe,Ce}subscribe(Fe,Ce,We){const ae=function z(Q){return Q&&Q instanceof d.Lv||function G(Q){return Q&&(0,we.m)(Q.next)&&(0,we.m)(Q.error)&&(0,we.m)(Q.complete)}(Q)&&(0,U.Nn)(Q)}(Fe)?Fe:new d.Hp(Fe,Ce,We);return(0,de.x)(()=>{const{operator:he,source:Je}=this;ae.add(he?he.call(ae,Je):Je?this._subscribe(ae):this._trySubscribe(ae))}),ae}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Ce){Fe.error(Ce)}}forEach(Fe,Ce){return new(Ce=Oe(Ce))((We,ae)=>{const he=new d.Hp({next:Je=>{try{Fe(Je)}catch(et){ae(et),he.unsubscribe()}},error:ae,complete:We});this.subscribe(he)})}_subscribe(Fe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Fe)}[N.L](){return this}pipe(...Fe){return(0,ce.U)(Fe)(this)}toPromise(Fe){return new(Fe=Oe(Fe))((Ce,We)=>{let ae;this.subscribe(he=>ae=he,he=>We(he),()=>Ce(ae))})}}return Q.create=Le=>new Q(Le),Q})();function Oe(Q){var Le;return null!==(Le=Q??Ee.v.Promise)&&void 0!==Le?Le:Promise}},7579:(gt,Ae,F)=>{F.d(Ae,{x:()=>de});var d=F(9751),U=F(727);const ce=(0,F(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=F(8737),we=F(2806);let de=(()=>{class Oe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const Q=new ye(this,this);return Q.operator=z,Q}_throwIfClosed(){if(this.closed)throw new ce}next(z){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(z)}})}error(z){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:Q}=this;for(;Q.length;)Q.shift().error(z)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:Q,isStopped:Le,observers:Fe}=this;return Q||Le?U.Lc:(this.currentObservers=null,Fe.push(z),new U.w0(()=>{this.currentObservers=null,(0,Ee.P)(Fe,z)}))}_checkFinalizedStatuses(z){const{hasError:Q,thrownError:Le,isStopped:Fe}=this;Q?z.error(Le):Fe&&z.complete()}asObservable(){const z=new d.y;return z.source=this,z}}return Oe.create=(G,z)=>new ye(G,z),Oe})();class ye extends de{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===Q||Q.call(z,G)}error(G){var z,Q;null===(Q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===Q||Q.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,Q;return null!==(Q=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==Q?Q:U.Lc}}},930:(gt,Ae,F)=>{F.d(Ae,{Hp:()=>We,Lv:()=>Q});var d=F(576),U=F(727),N=F(2416),ce=F(7849),Ee=F(5032);const we=Oe("C",void 0,void 0);function Oe(xe,De,ge){return{kind:xe,value:De,error:ge}}var G=F(3410),z=F(2806);class Q extends U.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,U.Nn)(De)&&De.add(this)):this.destination=et}static create(De,ge,Ve){return new We(De,ge,Ve)}next(De){this.isStopped?Je(function ye(xe){return Oe("N",xe,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Je(function de(xe){return Oe("E",void 0,xe)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Je(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Fe(xe,De){return Le.call(xe,De)}class Ce{constructor(De){this.partialObserver=De}next(De){const{partialObserver:ge}=this;if(ge.next)try{ge.next(De)}catch(Ve){ae(Ve)}}error(De){const{partialObserver:ge}=this;if(ge.error)try{ge.error(De)}catch(Ve){ae(Ve)}else ae(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(ge){ae(ge)}}}class We extends Q{constructor(De,ge,Ve){let re;if(super(),(0,d.m)(De)||!De)re={next:De??void 0,error:ge??void 0,complete:Ve??void 0};else{let se;this&&N.v.useDeprecatedNextContext?(se=Object.create(De),se.unsubscribe=()=>this.unsubscribe(),re={next:De.next&&Fe(De.next,se),error:De.error&&Fe(De.error,se),complete:De.complete&&Fe(De.complete,se)}):re=De}this.destination=new Ce(re)}}function ae(xe){N.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(xe):(0,ce.h)(xe)}function Je(xe,De){const{onStoppedNotification:ge}=N.v;ge&&G.z.setTimeout(()=>ge(xe,De))}const et={closed:!0,next:Ee.Z,error:function he(xe){throw xe},complete:Ee.Z}},727:(gt,Ae,F)=>{F.d(Ae,{Lc:()=>we,w0:()=>Ee,Nn:()=>de});var d=F(576);const N=(0,F(3888).d)(Oe=>function(z){Oe(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((Q,Le)=>`${Le+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ce=F(8737);class Ee{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Fe of z)Fe.remove(this);else z.remove(this);const{initialTeardown:Q}=this;if((0,d.m)(Q))try{Q()}catch(Fe){G=Fe instanceof N?Fe.errors:[Fe]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Fe of Le)try{ye(Fe)}catch(Ce){G=G??[],Ce instanceof N?G=[...G,...Ce.errors]:G.push(Ce)}}if(G)throw new N(G)}}add(G){var z;if(G&&G!==this)if(this.closed)ye(G);else{if(G instanceof Ee){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ce.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ce.P)(z,G),G instanceof Ee&&G._removeParent(this)}}Ee.EMPTY=(()=>{const Oe=new Ee;return Oe.closed=!0,Oe})();const we=Ee.EMPTY;function de(Oe){return Oe instanceof Ee||Oe&&"closed"in Oe&&(0,d.m)(Oe.remove)&&(0,d.m)(Oe.add)&&(0,d.m)(Oe.unsubscribe)}function ye(Oe){(0,d.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(gt,Ae,F)=>{F.d(Ae,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,Ae,F)=>{F.d(Ae,{E:()=>U});const U=new(F(9751).y)(Ee=>Ee.complete())},8996:(gt,Ae,F)=>{F.d(Ae,{D:()=>De});var d=F(8421),U=F(5363),N=F(9468),we=F(9751),ye=F(2202),Oe=F(576),G=F(9672);function Q(ge,Ve){if(!ge)throw new Error("Iterable cannot be null");return new we.y(re=>{(0,G.f)(re,Ve,()=>{const se=ge[Symbol.asyncIterator]();(0,G.f)(re,Ve,()=>{se.next().then(pe=>{pe.done?re.complete():re.next(pe.value)})},0,!0)})})}var Le=F(3670),Fe=F(8239),Ce=F(1144),We=F(6495),ae=F(2206),he=F(4532),Je=F(3260);function De(ge,Ve){return Ve?function xe(ge,Ve){if(null!=ge){if((0,Le.c)(ge))return function ce(ge,Ve){return(0,d.Xf)(ge).pipe((0,N.R)(Ve),(0,U.Q)(Ve))}(ge,Ve);if((0,Ce.z)(ge))return function de(ge,Ve){return new we.y(re=>{let se=0;return Ve.schedule(function(){se===ge.length?re.complete():(re.next(ge[se++]),re.closed||this.schedule())})})}(ge,Ve);if((0,Fe.t)(ge))return function Ee(ge,Ve){return(0,d.Xf)(ge).pipe((0,N.R)(Ve),(0,U.Q)(Ve))}(ge,Ve);if((0,ae.D)(ge))return Q(ge,Ve);if((0,We.T)(ge))return function z(ge,Ve){return new we.y(re=>{let se;return(0,G.f)(re,Ve,()=>{se=ge[ye.h](),(0,G.f)(re,Ve,()=>{let pe,K;try{({value:pe,done:K}=se.next())}catch(Y){return void re.error(Y)}K?re.complete():re.next(pe)},0,!0)}),()=>(0,Oe.m)(se?.return)&&se.return()})}(ge,Ve);if((0,Je.L)(ge))return function et(ge,Ve){return Q((0,Je.Q)(ge),Ve)}(ge,Ve)}throw(0,he.z)(ge)}(ge,Ve):(0,d.Xf)(ge)}},8421:(gt,Ae,F)=>{F.d(Ae,{Xf:()=>Le});var d=F(655),U=F(1144),N=F(8239),ce=F(9751),Ee=F(3670),we=F(2206),de=F(4532),ye=F(6495),Oe=F(3260),G=F(576),z=F(7849),Q=F(8822);function Le(xe){if(xe instanceof ce.y)return xe;if(null!=xe){if((0,Ee.c)(xe))return function Fe(xe){return new ce.y(De=>{const ge=xe[Q.L]();if((0,G.m)(ge.subscribe))return ge.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,U.z)(xe))return function Ce(xe){return new ce.y(De=>{for(let ge=0;ge<xe.length&&!De.closed;ge++)De.next(xe[ge]);De.complete()})}(xe);if((0,N.t)(xe))return function We(xe){return new ce.y(De=>{xe.then(ge=>{De.closed||(De.next(ge),De.complete())},ge=>De.error(ge)).then(null,z.h)})}(xe);if((0,we.D)(xe))return he(xe);if((0,ye.T)(xe))return function ae(xe){return new ce.y(De=>{for(const ge of xe)if(De.next(ge),De.closed)return;De.complete()})}(xe);if((0,Oe.L)(xe))return function Je(xe){return he((0,Oe.Q)(xe))}(xe)}throw(0,de.z)(xe)}function he(xe){return new ce.y(De=>{(function et(xe,De){var ge,Ve,re,se;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ge=(0,d.KL)(xe);!(Ve=yield ge.next()).done;)if(De.next(Ve.value),De.closed)return}catch(pe){re={error:pe}}finally{try{Ve&&!Ve.done&&(se=ge.return)&&(yield se.call(ge))}finally{if(re)throw re.error}}De.complete()})})(xe,De).catch(ge=>De.error(ge))})}},6451:(gt,Ae,F)=>{F.d(Ae,{T:()=>we});var d=F(8189),U=F(8421),N=F(515),ce=F(3269),Ee=F(8996);function we(...de){const ye=(0,ce.yG)(de),Oe=(0,ce._6)(de,1/0),G=de;return G.length?1===G.length?(0,U.Xf)(G[0]):(0,d.J)(Oe)((0,Ee.D)(G,ye)):N.E}},5403:(gt,Ae,F)=>{F.d(Ae,{x:()=>U});var d=F(930);function U(ce,Ee,we,de,ye){return new N(ce,Ee,we,de,ye)}class N extends d.Lv{constructor(Ee,we,de,ye,Oe,G){super(Ee),this.onFinalize=Oe,this.shouldUnsubscribe=G,this._next=we?function(z){try{we(z)}catch(Q){Ee.error(Q)}}:super._next,this._error=ye?function(z){try{ye(z)}catch(Q){Ee.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){Ee.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4004:(gt,Ae,F)=>{F.d(Ae,{U:()=>N});var d=F(4482),U=F(5403);function N(ce,Ee){return(0,d.e)((we,de)=>{let ye=0;we.subscribe((0,U.x)(de,Oe=>{de.next(ce.call(Ee,Oe,ye++))}))})}},8189:(gt,Ae,F)=>{F.d(Ae,{J:()=>N});var d=F(5577),U=F(4671);function N(ce=1/0){return(0,d.z)(U.y,ce)}},5577:(gt,Ae,F)=>{F.d(Ae,{z:()=>ye});var d=F(4004),U=F(8421),N=F(4482),ce=F(9672),Ee=F(5403),de=F(576);function ye(Oe,G,z=1/0){return(0,de.m)(G)?ye((Q,Le)=>(0,d.U)((Fe,Ce)=>G(Q,Fe,Le,Ce))((0,U.Xf)(Oe(Q,Le))),z):("number"==typeof G&&(z=G),(0,N.e)((Q,Le)=>function we(Oe,G,z,Q,Le,Fe,Ce,We){const ae=[];let he=0,Je=0,et=!1;const xe=()=>{et&&!ae.length&&!he&&G.complete()},De=Ve=>he<Q?ge(Ve):ae.push(Ve),ge=Ve=>{Fe&&G.next(Ve),he++;let re=!1;(0,U.Xf)(z(Ve,Je++)).subscribe((0,Ee.x)(G,se=>{Le?.(se),Fe?De(se):G.next(se)},()=>{re=!0},void 0,()=>{if(re)try{for(he--;ae.length&&he<Q;){const se=ae.shift();Ce?(0,ce.f)(G,Ce,()=>ge(se)):ge(se)}xe()}catch(se){G.error(se)}}))};return Oe.subscribe((0,Ee.x)(G,De,()=>{et=!0,xe()})),()=>{We?.()}}(Q,Le,Oe,z)))}},5363:(gt,Ae,F)=>{F.d(Ae,{Q:()=>ce});var d=F(9672),U=F(4482),N=F(5403);function ce(Ee,we=0){return(0,U.e)((de,ye)=>{de.subscribe((0,N.x)(ye,Oe=>(0,d.f)(ye,Ee,()=>ye.next(Oe),we),()=>(0,d.f)(ye,Ee,()=>ye.complete(),we),Oe=>(0,d.f)(ye,Ee,()=>ye.error(Oe),we)))})}},3099:(gt,Ae,F)=>{F.d(Ae,{B:()=>Ee});var d=F(8421),U=F(7579),N=F(930),ce=F(4482);function Ee(de={}){const{connector:ye=(()=>new U.x),resetOnError:Oe=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=de;return Q=>{let Le,Fe,Ce,We=0,ae=!1,he=!1;const Je=()=>{Fe?.unsubscribe(),Fe=void 0},et=()=>{Je(),Le=Ce=void 0,ae=he=!1},xe=()=>{const De=Le;et(),De?.unsubscribe()};return(0,ce.e)((De,ge)=>{We++,!he&&!ae&&Je();const Ve=Ce=Ce??ye();ge.add(()=>{We--,0===We&&!he&&!ae&&(Fe=we(xe,z))}),Ve.subscribe(ge),!Le&&We>0&&(Le=new N.Hp({next:re=>Ve.next(re),error:re=>{he=!0,Je(),Fe=we(et,Oe,re),Ve.error(re)},complete:()=>{ae=!0,Je(),Fe=we(et,G),Ve.complete()}}),(0,d.Xf)(De).subscribe(Le))})(Q)}}function we(de,ye,...Oe){if(!0===ye)return void de();if(!1===ye)return;const G=new N.Hp({next:()=>{G.unsubscribe(),de()}});return ye(...Oe).subscribe(G)}},9468:(gt,Ae,F)=>{F.d(Ae,{R:()=>U});var d=F(4482);function U(N,ce=0){return(0,d.e)((Ee,we)=>{we.add(N.schedule(()=>Ee.subscribe(we),ce))})}},3410:(gt,Ae,F)=>{F.d(Ae,{z:()=>d});const d={setTimeout(U,N,...ce){const{delegate:Ee}=d;return Ee?.setTimeout?Ee.setTimeout(U,N,...ce):setTimeout(U,N,...ce)},clearTimeout(U){const{delegate:N}=d;return(N?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(gt,Ae,F)=>{F.d(Ae,{h:()=>U});const U=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Ae,F)=>{F.d(Ae,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,Ae,F)=>{F.d(Ae,{_6:()=>we,jO:()=>ce,yG:()=>Ee});var d=F(576),U=F(3532);function N(de){return de[de.length-1]}function ce(de){return(0,d.m)(N(de))?de.pop():void 0}function Ee(de){return(0,U.K)(N(de))?de.pop():void 0}function we(de,ye){return"number"==typeof N(de)?de.pop():ye}},8737:(gt,Ae,F)=>{function d(U,N){if(U){const ce=U.indexOf(N);0<=ce&&U.splice(ce,1)}}F.d(Ae,{P:()=>d})},3888:(gt,Ae,F)=>{function d(U){const ce=U(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}F.d(Ae,{d:()=>d})},2806:(gt,Ae,F)=>{F.d(Ae,{O:()=>ce,x:()=>N});var d=F(2416);let U=null;function N(Ee){if(d.v.useDeprecatedSynchronousErrorHandling){const we=!U;if(we&&(U={errorThrown:!1,error:null}),Ee(),we){const{errorThrown:de,error:ye}=U;if(U=null,de)throw ye}}else Ee()}function ce(Ee){d.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=Ee)}},9672:(gt,Ae,F)=>{function d(U,N,ce,Ee=0,we=!1){const de=N.schedule(function(){ce(),we?U.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(U.add(de),!we)return de}F.d(Ae,{f:()=>d})},4671:(gt,Ae,F)=>{function d(U){return U}F.d(Ae,{y:()=>d})},1144:(gt,Ae,F)=>{F.d(Ae,{z:()=>d});const d=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(gt,Ae,F)=>{F.d(Ae,{D:()=>U});var d=F(576);function U(N){return Symbol.asyncIterator&&(0,d.m)(N?.[Symbol.asyncIterator])}},576:(gt,Ae,F)=>{function d(U){return"function"==typeof U}F.d(Ae,{m:()=>d})},3670:(gt,Ae,F)=>{F.d(Ae,{c:()=>N});var d=F(8822),U=F(576);function N(ce){return(0,U.m)(ce[d.L])}},6495:(gt,Ae,F)=>{F.d(Ae,{T:()=>N});var d=F(2202),U=F(576);function N(ce){return(0,U.m)(ce?.[d.h])}},8239:(gt,Ae,F)=>{F.d(Ae,{t:()=>U});var d=F(576);function U(N){return(0,d.m)(N?.then)}},3260:(gt,Ae,F)=>{F.d(Ae,{L:()=>ce,Q:()=>N});var d=F(655),U=F(576);function N(Ee){return(0,d.FC)(this,arguments,function*(){const de=Ee.getReader();try{for(;;){const{value:ye,done:Oe}=yield(0,d.qq)(de.read());if(Oe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ye)}}finally{de.releaseLock()}})}function ce(Ee){return(0,U.m)(Ee?.getReader)}},3532:(gt,Ae,F)=>{F.d(Ae,{K:()=>U});var d=F(576);function U(N){return N&&(0,d.m)(N.schedule)}},4482:(gt,Ae,F)=>{F.d(Ae,{A:()=>U,e:()=>N});var d=F(576);function U(ce){return(0,d.m)(ce?.lift)}function N(ce){return Ee=>{if(U(Ee))return Ee.lift(function(we){try{return ce(we,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,Ae,F)=>{function d(){}F.d(Ae,{Z:()=>d})},9635:(gt,Ae,F)=>{F.d(Ae,{U:()=>N,z:()=>U});var d=F(4671);function U(...ce){return N(ce)}function N(ce){return 0===ce.length?d.y:1===ce.length?ce[0]:function(we){return ce.reduce((de,ye)=>ye(de),we)}}},7849:(gt,Ae,F)=>{F.d(Ae,{h:()=>N});var d=F(2416),U=F(3410);function N(ce){U.z.setTimeout(()=>{const{onUnhandledError:Ee}=d.v;if(!Ee)throw ce;Ee(ce)})}},4532:(gt,Ae,F)=>{function d(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ae,{z:()=>d})},655:(gt,Ae,F)=>{function ce(K,Y){var le={};for(var ie in K)Object.prototype.hasOwnProperty.call(K,ie)&&Y.indexOf(ie)<0&&(le[ie]=K[ie]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ie=Object.getOwnPropertySymbols(K);Re<ie.length;Re++)Y.indexOf(ie[Re])<0&&Object.prototype.propertyIsEnumerable.call(K,ie[Re])&&(le[ie[Re]]=K[ie[Re]])}return le}function Ee(K,Y,le,ie){var lt,Re=arguments.length,ke=Re<3?Y:null===ie?ie=Object.getOwnPropertyDescriptor(Y,le):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate(K,Y,le,ie);else for(var Wt=K.length-1;Wt>=0;Wt--)(lt=K[Wt])&&(ke=(Re<3?lt(ke):Re>3?lt(Y,le,ke):lt(Y,le))||ke);return Re>3&&ke&&Object.defineProperty(Y,le,ke),ke}function we(K,Y){return function(le,ie){Y(le,ie,K)}}function de(K,Y){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(K,Y)}function ye(K,Y,le,ie){return new(le||(le=Promise))(function(ke,lt){function Wt(sn){try{He(ie.next(sn))}catch(Rn){lt(Rn)}}function Vt(sn){try{He(ie.throw(sn))}catch(Rn){lt(Rn)}}function He(sn){sn.done?ke(sn.value):function Re(ke){return ke instanceof le?ke:new le(function(lt){lt(ke)})}(sn.value).then(Wt,Vt)}He((ie=ie.apply(K,Y||[])).next())})}function ae(K){return this instanceof ae?(this.v=K,this):new ae(K)}function he(K,Y,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ie=le.apply(K,Y||[]),ke=[];return Re={},lt("next"),lt("throw"),lt("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function lt(on){ie[on]&&(Re[on]=function(qt){return new Promise(function(Bt,kt){ke.push([on,qt,Bt,kt])>1||Wt(on,qt)})})}function Wt(on,qt){try{!function Vt(on){on.value instanceof ae?Promise.resolve(on.value.v).then(He,sn):Rn(ke[0][2],on)}(ie[on](qt))}catch(Bt){Rn(ke[0][3],Bt)}}function He(on){Wt("next",on)}function sn(on){Wt("throw",on)}function Rn(on,qt){on(qt),ke.shift(),ke.length&&Wt(ke[0][0],ke[0][1])}}function et(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Y=K[Symbol.asyncIterator];return Y?Y.call(K):(K=function Q(K){var Y="function"==typeof Symbol&&Symbol.iterator,le=Y&&K[Y],ie=0;if(le)return le.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ie>=K.length&&(K=void 0),{value:K&&K[ie++],done:!K}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),le={},ie("next"),ie("throw"),ie("return"),le[Symbol.asyncIterator]=function(){return this},le);function ie(ke){le[ke]=K[ke]&&function(lt){return new Promise(function(Wt,Vt){!function Re(ke,lt,Wt,Vt){Promise.resolve(Vt).then(function(He){ke({value:He,done:Wt})},lt)}(Wt,Vt,(lt=K[ke](lt)).done,lt.value)})}}}F.d(Ae,{FC:()=>he,KL:()=>et,_T:()=>ce,fM:()=>we,gn:()=>Ee,mG:()=>ye,qq:()=>ae,w6:()=>de})},4650:(gt,Ae,F)=>{F.d(Ae,{$8M:()=>Tc,$Z:()=>HT,AFp:()=>Lb,AaK:()=>ye,BQk:()=>tg,CHM:()=>v_,CRH:()=>Tb,CZH:()=>Cu,CqO:()=>ng,D6c:()=>ZM,EJc:()=>GD,EiD:()=>fy,EpF:()=>gv,F$t:()=>bC,F4k:()=>mC,FYo:()=>Iy,FiY:()=>Rs,G48:()=>um,Gf:()=>$g,GfV:()=>fE,GkF:()=>bh,Gpc:()=>z,Hsn:()=>ma,Ikx:()=>Uv,JOm:()=>li,JVY:()=>XO,KtG:()=>uc,L6k:()=>mT,LAX:()=>eP,LFG:()=>An,LSH:()=>Zc,Lbi:()=>Bb,Lck:()=>lM,MMx:()=>ab,NdJ:()=>_v,O4$:()=>Gf,OlP:()=>dn,PXZ:()=>XD,Q6J:()=>mh,QGY:()=>mv,QP$:()=>Se,QbO:()=>$D,Qsj:()=>hE,R0b:()=>Ii,RDi:()=>fT,Rgc:()=>Bg,SBq:()=>Jd,Sil:()=>Hb,Suo:()=>zl,TTD:()=>ro,TgZ:()=>yh,Udp:()=>Ch,WFA:()=>yv,X6Q:()=>nw,XFs:()=>qe,Xpm:()=>ve,Xts:()=>Dp,Y36:()=>uh,YKP:()=>Ng,YNc:()=>fv,Yjl:()=>V,Yz7:()=>qt,Z0I:()=>Oi,ZZ4:()=>pm,_Bn:()=>dD,_UZ:()=>vh,_Vd:()=>Eo,_c5:()=>dw,_uU:()=>Pv,aQg:()=>gm,c2e:()=>zD,cJS:()=>kt,cg1:()=>Hv,d8E:()=>pu,dDg:()=>$h,dqk:()=>Mt,eBb:()=>JO,eFA:()=>Fr,ekj:()=>ug,eoX:()=>Yb,f3M:()=>al,g9A:()=>tm,h0i:()=>yu,hGG:()=>KM,hij:()=>fg,iGM:()=>jg,ifc:()=>ut,ip1:()=>Bh,jDz:()=>pD,kL8:()=>VA,lG2:()=>W,lqb:()=>la,lri:()=>Zb,mCW:()=>ln,n5z:()=>Ts,oAB:()=>Gt,oxw:()=>yC,pB0:()=>tP,q3G:()=>En,q4F:()=>eh,qLn:()=>th,qOj:()=>oC,qZA:()=>du,qzn:()=>Wc,rWj:()=>ZD,sBO:()=>rI,sIi:()=>ou,s_b:()=>Eb,soG:()=>Uh,tb:()=>nm,tp0:()=>ks,uIk:()=>au,vHH:()=>Ce,vpe:()=>Us,wAp:()=>yt,xp6:()=>wE,ynx:()=>eg,z2F:()=>Au,z3N:()=>ia,zSh:()=>ir,zs3:()=>So});var d=F(7579),U=F(727),N=F(9751),ce=F(6451),Ee=F(3099);function we(s){for(let o in s)if(s[o]===we)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Oe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=we({__forward_ref__:we});function z(s){return s.__forward_ref__=z,s.toString=function(){return ye(this())},s}function Q(s){return Le(s)?s():s}function Le(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}class Ce extends Error{constructor(o,l){super(function We(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ae(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s,o){throw new Ce(-201,!1)}function Vt(s,o){null==s&&function He(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function kt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Sr(s){return ys(s,Tr)||ys(s,qi)}function Oi(s){return null!==Sr(s)}function ys(s,o){return s.hasOwnProperty(o)?s[o]:null}function Wi(s){return s&&(s.hasOwnProperty(Ar)||s.hasOwnProperty(Ks))?s[Ar]:null}const Tr=we({\u0275prov:we}),Ar=we({\u0275inj:we}),qi=we({ngInjectableDef:we}),Ks=we({ngInjectorDef:we});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let er;function pn(s){const o=er;return er=s,o}function $r(s,o,l){const u=Sr(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&qe.Optional?null:void 0!==o?o:void De(ye(s))}function vn(s){return{toString:s}.toString()}var bn=(()=>((bn=bn||{})[bn.OnPush=0]="OnPush",bn[bn.Default=1]="Default",bn))(),ut=(()=>{return(s=ut||(ut={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ut;var s})();const Mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mr={},Ct=[],xr=we({\u0275cmp:we}),xt=we({\u0275dir:we}),Pi=we({\u0275pipe:we}),$t=we({\u0275mod:we}),cr=we({\u0275fac:we}),Cn=we({__NG_ELEMENT_ID__:we});let Ge=0;function ve(s){return vn(()=>{const l=!0===s.standalone,u={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ct,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ut.Emulated,id:"c"+Ge++,styles:s.styles||Ct,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=B(s.inputs,u),f.outputs=B(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(mt).filter(vt):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(ee).filter(vt):null,f})}function mt(s){return x(s)||P(s)}function vt(s){return null!==s}function Gt(s){return vn(()=>({type:s.type,bootstrap:s.bootstrap||Ct,declarations:s.declarations||Ct,imports:s.imports||Ct,exports:s.exports||Ct,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function B(s,o){if(null==s)return Mr;const l={};for(const u in s)if(s.hasOwnProperty(u)){let f=s[u],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),l[f]=u,o&&(o[f]=p)}return l}const W=ve;function V(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function x(s){return s[xr]||null}function P(s){return s[xt]||null}function ee(s){return s[Pi]||null}function Se(s){const o=x(s)||P(s)||ee(s);return null!==o&&o.standalone}function Ye(s,o){const l=s[$t]||null;if(!l&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return l}function nr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Gr(s){return Array.isArray(s)&&!0===s[1]}function ws(s){return 0!=(8&s.flags)}function Fa(s){return 2==(2&s.flags)}function Lo(s){return 1==(1&s.flags)}function Fi(s){return null!==s.template}function ac(s){return 0!=(256&s[2])}function ur(s,o){return s.hasOwnProperty(cr)?s[cr]:null}class Bo{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function ro(){return Vf}function Vf(s){return s.type.prototype.ngOnChanges&&(s.setInput=hd),dd}function dd(){const s=Uo(this),o=s?.current;if(o){const l=s.previous;if(l===Mr)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function hd(s,o,l,u){const f=Uo(s)||function io(s,o){return s[Bf]=o}(s,{previous:Mr,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[l],C=y[w];p[w]=new Bo(C&&C.currentValue,o,y===Mr),s[u]=o}ro.ngInherit=!0;const Bf="__ngSimpleChanges__";function Uo(s){return s[Bf]||null}function Dn(s){for(;Array.isArray(s);)s=s[0];return s}function Ua(s,o){return Dn(o[s])}function gr(s,o){return Dn(o[s.index])}function Ha(s,o){return s.data[o]}function Yt(s,o){const l=o[s];return nr(l)?l:l[0]}function Cs(s){return 64==(64&s[2])}function Li(s,o){return null==o?null:s[o]}function ja(s){s[18]=0}function $a(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const Tt={lFrame:Cd(null),bindingsEnabled:!0};function za(){return Tt.bindingsEnabled}function Ie(){return Tt.lFrame.lView}function Ht(){return Tt.lFrame.tView}function v_(s){return Tt.lFrame.contextLView=s,s[8]}function uc(s){return Tt.lFrame.contextLView=null,s}function Wn(){let s=dc();for(;null!==s&&64===s.type;)s=s.parent;return s}function dc(){return Tt.lFrame.currentTNode}function oi(s,o){const l=Tt.lFrame;l.currentTNode=s,l.isParent=o}function _d(){return Tt.lFrame.isParent}function fc(){Tt.lFrame.isParent=!1}function Wa(){return Tt.lFrame.bindingIndex++}function $f(s,o){const l=Tt.lFrame;l.bindingIndex=l.bindingRootIndex=s,pc(o)}function pc(s){Tt.lFrame.currentDirectiveIndex=s}function vd(s){const o=Tt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function bd(){return Tt.lFrame.currentQueryIndex}function wd(s){Tt.lFrame.currentQueryIndex=s}function Ed(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function E_(s,o,l){if(l&qe.SkipSelf){let f=o,p=s;for(;!(f=f.parent,null!==f||l&qe.Host||(f=Ed(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;o=f,s=p}const u=Tt.lFrame=C_();return u.currentTNode=o,u.lView=s,!0}function gc(s){const o=C_(),l=s[1];Tt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function C_(){const s=Tt.lFrame,o=null===s?null:s.child;return null===o?Cd(s):o}function Cd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function D_(){const s=Tt.lFrame;return Tt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const zf=D_;function jo(){const s=D_();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wn(){return Tt.lFrame.selectedIndex}function Zi(s){Tt.lFrame.selectedIndex=s}function gn(){const s=Tt.lFrame;return Ha(s.tView,s.selectedIndex)}function Gf(){Tt.lFrame.currentNamespace="svg"}function qa(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:M}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),S&&((s.viewHooks||(s.viewHooks=[])).push(l,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,S)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(l,M)}}function _c(s,o,l){Sd(s,o,3,l)}function ao(s,o,l,u){(3&s[2])===l&&Sd(s,o,l,u)}function Id(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Sd(s,o,l,u){const p=u??-1,y=o.length-1;let w=0;for(let C=void 0!==u?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=u&&w>=u)break}else o[C]<0&&(s[18]+=65536),(w<p||-1==p)&&(Wf(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Wf(s,o,l,u){const f=l[u]<0,p=l[u+1],w=s[f?-l[u]:l[u]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class ai{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Yi(s,o,l){let u=0;for(;u<l.length;){const f=l[u];if("number"==typeof f){if(0!==f)break;u++;const p=l[u++],y=l[u++],w=l[u++];s.setAttribute(o,y,w,p)}else{const p=f,y=l[++u];Rd(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),u++}}return u}function xd(s){return 3===s||4===s||6===s}function Rd(s){return 64===s.charCodeAt(0)}function Za(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const f=o[u];"number"==typeof f?l=f:0===l||qf(s,l,f,null,-1===l||2===l?o[++u]:null)}}return s}function qf(s,o,l,u,f){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===u)return void(null!==f&&(s[p+1]=f));if(u===s[p+1])return void(s[p+2]=f)}p++,null!==u&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==u&&s.splice(p++,0,u),null!==f&&s.splice(p++,0,f)}function R_(s){return-1!==s}function lo(s){return 32767&s}function Is(s,o){let l=function k_(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let kd=!0;function bc(s){const o=kd;return kd=s,o}let Kf=0;const mi={};function co(s,o){const l=wc(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Od(u.data,s),Od(o,null),Od(u.blueprint,null));const f=Ya(s,o),p=s.injectorIndex;if(R_(f)){const y=lo(f),w=Is(f,o),C=w[1].data;for(let S=0;S<8;S++)o[p+S]=w[y+S]|C[y+S]}return o[p+8]=f,p}function Od(s,o){s.push(0,0,0,0,0,0,0,0,o)}function wc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ya(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,f=o;for(;null!==f;){if(u=Sc(f),null===u)return-1;if(l++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function Qa(s,o,l){!function P_(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Cn)&&(u=l[Cn]),null==u&&(u=l[Cn]=Kf++);const f=255&u;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function Ec(s,o,l){if(l&qe.Optional||void 0!==s)return s;De()}function uo(s,o,l,u){if(l&qe.Optional&&void 0===u&&(u=null),0==(l&(qe.Self|qe.Host))){const f=s[9],p=pn(void 0);try{return f?f.get(o,u,l&qe.Optional):$r(o,u,l&qe.Optional)}finally{pn(p)}}return Ec(u,0,l)}function Cc(s,o,l,u=qe.Default,f){if(null!==s){if(1024&o[2]){const y=function F_(s,o,l,u,f){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Zf(p,y,l,u|qe.Self,mi);if(w!==mi)return w;let C=p.parent;if(!C){const S=y[21];if(S){const M=S.get(l,mi,u);if(M!==mi)return M}C=Sc(y),y=y[15]}p=C}return f}(s,o,l,u,mi);if(y!==mi)return y}const p=Zf(s,o,l,u,mi);if(p!==mi)return p}return uo(o,l,u,f)}function Zf(s,o,l,u,f){const p=function N_(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Cn)?s[Cn]:void 0;return"number"==typeof o?o>=0?255&o:Xf:o}(l);if("function"==typeof p){if(!E_(o,s,u))return u&qe.Host?Ec(f,0,u):uo(o,l,u,f);try{const y=p(u);if(null!=y||u&qe.Optional)return y;De()}finally{zf()}}else if("number"==typeof p){let y=null,w=wc(s,o),C=-1,S=u&qe.Host?o[16][6]:null;for((-1===w||u&qe.SkipSelf)&&(C=-1===w?Ya(s,o):o[w+8],-1!==C&&Qf(u,!1)?(y=o[1],w=lo(C),o=Is(C,o)):w=-1);-1!==w;){const M=o[1];if(Dc(p,w,M.data)){const O=Yf(w,o,l,y,u,S);if(O!==mi)return O}C=o[w+8],-1!==C&&Qf(u,o[1].data[w+8]===S)&&Dc(p,w,o)?(y=M,w=lo(C),o=Is(C,o)):w=-1}}return f}function Yf(s,o,l,u,f,p){const y=o[1],w=y.data[s+8],M=Ja(w,y,l,null==u?Fa(w)&&kd:u!=y&&0!=(3&w.type),f&qe.Host&&p===w);return null!==M?Ss(o,y,M,w):mi}function Ja(s,o,l,u,f){const p=s.providerIndexes,y=o.data,w=1048575&p,C=s.directiveStart,M=p>>20,$=f?w+M:s.directiveEnd;for(let J=u?w:w+M;J<$;J++){const fe=y[J];if(J<C&&l===fe||J>=C&&fe.type===l)return J}if(f){const J=y[C];if(J&&Fi(J)&&J.type===l)return C}return null}function Ss(s,o,l,u){let f=s[l];const p=o.data;if(function Td(s){return s instanceof ai}(f)){const y=f;y.resolving&&function Je(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${l}`)}(function he(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ae(s)}(p[l]));const w=bc(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?pn(y.injectImpl):null;E_(s,u,qe.Default);try{f=s[l]=y.factory(void 0,p,s,u),o.firstCreatePass&&l>=u.directiveStart&&function mc(s,o,l){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:p}=o.type.prototype;if(u){const y=Vf(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==C&&pn(C),bc(w),y.resolving=!1,zf()}}return f}function Dc(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Qf(s,o){return!(s&qe.Self||s&qe.Host&&o)}class el{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Cc(this._tNode,this._lView,o,u,l)}}function Xf(){return new el(Wn(),Ie())}function Ts(s){return vn(()=>{const o=s.prototype.constructor,l=o[cr]||Ic(o),u=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==u;){const p=f[cr]||Ic(f);if(p&&p!==l)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Ic(s){return Le(s)?()=>{const o=Ic(Q(s));return o&&o()}:ur(s)}function Sc(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function Tc(s){return function Xa(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let f=0;for(;f<u;){const p=l[f];if(xd(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<u&&"string"==typeof l[f];)f++;else{if(p===o)return l[f+1];f+=2}}}return null}(Wn(),s)}const tl="__parameters__";function nl(s,o,l){return vn(()=>{const u=function Jf(s){return function(...l){if(s){const u=s(...l);for(const f in u)this[f]=u[f]}}}(o);function f(...p){if(this instanceof f)return u.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(C,S,M){const O=C.hasOwnProperty(tl)?C[tl]:Object.defineProperty(C,tl,{value:[]})[tl];for(;O.length<=M;)O.push(null);return(O[M]=O[M]||[]).push(y),C}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class dn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=qt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),mr(u,o)):o!==s&&o.push(u)}return o}function Qi(s,o){s.forEach(l=>Array.isArray(l)?Qi(l,o):o(l))}function rl(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function fo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qr(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Rr(s,o,l){let u=Xi(s,o);return u>=0?s[1|u]=l:(u=~u,function pt(s,o,l,u){let f=s.length;if(f==o)s.push(l,u);else if(1===f)s.push(u,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function Mc(s,o){const l=Xi(s,o);if(l>=0)return s[1|l]}function Xi(s,o){return function _i(s,o,l){let u=0,f=s.length>>l;for(;f!==u;){const p=u+(f-u>>1),y=s[p<<l];if(o===y)return p<<l;y>o?f=p:u=p+1}return~(f<<l)}(s,o,1)}const kn={},Bi="__NG_DI_FLAG__",qo="ngTempTokenPath",Rc=/\n/gm,kc="__source";let mo;function Ms(s){const o=mo;return mo=s,o}function sp(s,o=qe.Default){if(void 0===mo)throw new Ce(-203,!1);return null===mo?$r(s,void 0,o):mo.get(s,o&qe.Optional?null:void 0,o)}function An(s,o=qe.Default){return(function zn(){return er}()||sp)(Q(s),o)}function al(s,o=qe.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),An(s,o)}function Oc(s){const o=[];for(let l=0;l<s.length;l++){const u=Q(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Ce(900,!1);let f,p=qe.Default;for(let y=0;y<u.length;y++){const w=u[y],C=op(w);"number"==typeof C?-1===C?f=w.token:p|=C:f=w}o.push(An(f,p))}else o.push(An(u))}return o}function xs(s,o){return s[Bi]=o,s.prototype[Bi]=o,s}function op(s){return s[Bi]}const Rs=xs(nl("Optional"),8),ks=xs(nl("SkipSelf"),4);var li=(()=>((li=li||{})[li.Important=1]="Important",li[li.DashCase=2]="DashCase",li))();const Qo=new Map;let U0=0;const g="__ngContext__";function _(s,o){nr(o)?(s[g]=o[20],function G_(s){Qo.set(s[20],s)}(o)):s[g]=o}function hl(s,o){return undefined(s,o)}function vo(s){const o=s[3];return Gr(o)?o[3]:o}function na(s){return jd(s[13])}function gl(s){return jd(s[4])}function jd(s){for(;null!==s&&!Gr(s);)s=s[4];return s}function ra(s,o,l,u,f){if(null!=u){let p,y=!1;Gr(u)?p=u:nr(u)&&(y=!0,u=u[0]);const w=Dn(u);0===s&&null!==l?null==f?ty(o,l,w):ml(o,l,w,f||null,!0):1===s&&null!==l?ml(o,l,w,f||null,!0):2===s?function sy(s,o,l){const u=mp(s,o);u&&function lT(s,o,l,u){s.removeChild(o,l,u)}(s,u,o,l)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function dT(s,o,l,u,f){const p=l[7];p!==Dn(l)&&ra(o,s,u,p,f);for(let w=10;w<l.length;w++){const C=l[w];Wd(C[1],C,s,o,u,p)}}(o,s,p,l,f)}}function j0(s,o,l){return s.createElement(o,l)}function Y_(s,o){const l=s[9],u=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,$a(f,-1)),l.splice(u,1)}function Q_(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const f=u[17];null!==f&&f!==s&&Y_(f,u),o>0&&(s[l-1][4]=u[4]);const p=fo(s,10+o);!function WO(s,o){Wd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function X_(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Wd(s,o,l,3,null,null),function aT(s){let o=s[13];if(!o)return J_(s[1],s);for(;o;){let l=null;if(nr(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)nr(o)&&J_(o[1],o),o=o[3];null===o&&(o=s),nr(o)&&J_(o[1],o),l=o&&o[4]}o=l}}(o)}}function J_(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function G0(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const f=o[l[u]];if(!(f instanceof ai)){const p=l[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],C=p[y+1];try{C.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,o),function qO(s,o){const l=s.cleanup,u=o[7];let f=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):Dn(o[y]),C=u[f=l[p+2]],S=l[p+3];"boolean"==typeof S?w.removeEventListener(l[p],C,S):S>=0?u[f=S]():u[f=-S].unsubscribe(),p+=2}else{const y=u[f=l[p+1]];l[p].call(y)}if(null!==u){for(let p=f+1;p<u.length;p++)(0,u[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Gr(o[3])){l!==o[3]&&Y_(l,o);const u=o[19];null!==u&&u.detachView(s)}!function Gc(s){Qo.delete(s[20])}(o)}}function W0(s,o,l){return function ey(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const f=s.data[u.directiveStart].encapsulation;if(f===ut.None||f===ut.Emulated)return null}return gr(u,l)}(s,o.parent,l)}function ml(s,o,l,u,f){s.insertBefore(o,l,u,f)}function ty(s,o,l){s.appendChild(o,l)}function ny(s,o,l,u,f){null!==u?ml(s,o,l,u,f):ty(s,o,l)}function mp(s,o){return s.parentNode(o)}function q0(s,o,l){return K0(s,o,l)}let qd,ly,K0=function _p(s,o,l){return 40&s.type?gr(s,l):null};function yp(s,o,l,u){const f=W0(s,u,o),p=o[11],w=q0(u.parent||o[6],u,o);if(null!=f)if(Array.isArray(l))for(let C=0;C<l.length;C++)ny(p,f,l[C],w,!1);else ny(p,f,l,w,!1)}function zd(s,o){if(null!==o){const l=o.type;if(3&l)return gr(o,s);if(4&l)return vp(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return zd(s,u);{const f=s[o.index];return Gr(f)?vp(-1,f):Dn(f)}}if(32&l)return hl(o,s)()||Dn(s[o.index]);{const u=Z0(s,o);return null!==u?Array.isArray(u)?u[0]:zd(vo(s[16]),u):zd(s,o.next)}}return null}function Z0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function vp(s,o){const l=10+s+1;if(l<o.length){const u=o[l],f=u[1].firstChild;if(null!==f)return zd(u,f)}return o[7]}function Gd(s,o,l,u,f,p,y){for(;null!=l;){const w=u[l.index],C=l.type;if(y&&0===o&&(w&&_(Dn(w),u),l.flags|=4),64!=(64&l.flags))if(8&C)Gd(s,o,l.child,u,f,p,!1),ra(o,s,f,w,p);else if(32&C){const S=hl(l,u);let M;for(;M=S();)ra(o,s,f,M,p);ra(o,s,f,w,p)}else 16&C?oy(s,o,u,l,f,p):ra(o,s,f,w,p);l=y?l.projectionNext:l.next}}function Wd(s,o,l,u,f,p){Gd(l,u,s.firstChild,o,f,p,!1)}function oy(s,o,l,u,f,p){const y=l[16],C=y[6].projection[u.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)ra(o,s,f,C[S],p);else Gd(s,o,C,y[3],f,p,!0)}function bp(s,o,l){s.setAttribute(o,"style",l)}function ay(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function vi(s){return function wp(){if(void 0===qd&&(qd=null,Mt.trustedTypes))try{qd=Mt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return qd}()?.createHTML(s)||s}function fT(s){ly=s}class _l{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class J0 extends _l{getTypeName(){return"HTML"}}class pT extends _l{getTypeName(){return"Style"}}class eE extends _l{getTypeName(){return"Script"}}class YO extends _l{getTypeName(){return"URL"}}class QO extends _l{getTypeName(){return"ResourceURL"}}function ia(s){return s instanceof _l?s.changingThisBreaksApplicationSecurity:s}function Wc(s,o){const l=function gT(s){return s instanceof _l&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function XO(s){return new J0(s)}function mT(s){return new pT(s)}function JO(s){return new eE(s)}function eP(s){return new YO(s)}function tP(s){return new QO(s)}class nP{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(vi(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class rP{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=vi(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=vi(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const y=l.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Qe=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ln(s){return(s=String(s)).match(Qe)?s:"unsafe:"+s}function Hn(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Zd(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const Yd=Hn("area,br,col,hr,img,wbr"),yl=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tE=Hn("rp,rt"),vl=Zd(Yd,Zd(yl,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(tE,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(tE,yl)),hy=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iE=Zd(hy,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bi=Hn("script,style,template");class qc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!vl.hasOwnProperty(l))return this.sanitizedSomething=!0,!bi.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let f=0;f<u.length;f++){const p=u.item(f),y=p.name,w=y.toLowerCase();if(!iE.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=p.value;hy[w]&&(C=ln(C)),this.buf.push(" ",y,'="',rr(C),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();vl.hasOwnProperty(l)&&!Yd.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(rr(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const bl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wl=/([^\#-~ |!])/g;function rr(s){return s.replace(/&/g,"&amp;").replace(bl,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(wl,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kc;function fy(s,o){let l=null;try{Kc=Kc||function _T(s){const o=new rP(s);return function iP(){try{return!!(new window.DOMParser).parseFromString(vi(""),"text/html")}catch{return!1}}()?new nP(o):o}(s);let u=o?String(o):"";l=Kc.getInertBodyElement(u);let f=5,p=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=p,p=l.innerHTML,l=Kc.getInertBodyElement(u)}while(u!==p);return vi((new qc).sanitizeChildren(Zn(l)||l))}finally{if(l){const u=Zn(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Zn(s){return"content"in s&&function ts(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var En=(()=>((En=En||{})[En.NONE=0]="NONE",En[En.HTML=1]="HTML",En[En.STYLE=2]="STYLE",En[En.SCRIPT=3]="SCRIPT",En[En.URL=4]="URL",En[En.RESOURCE_URL=5]="RESOURCE_URL",En))();function Zc(s){const o=function El(){const s=Ie();return s&&s[12]}();return o?o.sanitize(En.URL,s)||"":Wc(s,"URL")?ia(s):ln(ae(s))}const Dp=new dn("ENVIRONMENT_INITIALIZER"),sE=new dn("INJECTOR",-1),oE=new dn("INJECTOR_DEF_TYPES");class Qd{get(o,l=kn){if(l===kn){const u=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw u.name="NullInjectorError",u}return l}}function jt(...s){return{\u0275providers:Yc(0,s)}}function Yc(s,...o){const l=[],u=new Set;let f;return Qi(o,p=>{const y=p;oa(y,l,[],u)&&(f||(f=[]),f.push(y))}),void 0!==f&&aE(f,l),l}function aE(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];Qi(f,p=>{o.push(p)})}}function oa(s,o,l,u){if(!(s=Q(s)))return!1;let f=null,p=Wi(s);const y=!p&&x(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const C=s.ngModule;if(p=Wi(C),!p)return!1;f=C}const w=u.has(f);if(y){if(w)return!1;if(u.add(f),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of C)oa(S,o,l,u)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let S;u.add(f);try{Qi(p.imports,M=>{oa(M,o,l,u)&&(S||(S=[]),S.push(M))})}finally{}void 0!==S&&aE(S,o)}if(!w){const S=ur(f)||(()=>new f);o.push({provide:f,useFactory:S,deps:Ct},{provide:oE,useValue:f,multi:!0},{provide:Dp,useValue:()=>An(f),multi:!0})}const C=p.providers;null==C||w||Qi(C,M=>{o.push(M)})}}return f!==s&&void 0!==s.providers}const wT=we({provide:String,useValue:we});function ji(s){return null!==s&&"object"==typeof s&&wT in s}function aa(s){return"function"==typeof s}const ir=new dn("Set Injector scope."),ns={},_y={};let yy;function Ip(){return void 0===yy&&(yy=new Qd),yy}class la{}class vy extends la{constructor(o,l,u,f){super(),this.parent=l,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ey(o,y=>this.processProvider(y)),this.records.set(sE,Cl(void 0,this)),f.has("environment")&&this.records.set(la,Cl(void 0,this));const p=this.records.get(ir);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(oE.multi,Ct,qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Ms(this),u=pn(void 0);try{return o()}finally{Ms(l),pn(u)}}get(o,l=kn,u=qe.Default){this.assertNotDestroyed();const f=Ms(this),p=pn(void 0);try{if(!(u&qe.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function zt(s){return"function"==typeof s||"object"==typeof s&&s instanceof dn}(o)&&Sr(o);w=C&&this.injectableDefInScope(C)?Cl(by(o),ns):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&qe.Self?Ip():this.parent).get(o,l=u&qe.Optional&&l===kn?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[qo]=y[qo]||[]).unshift(ye(o)),f)throw y;return function ap(s,o,l,u){const f=s[qo];throw o[kc]&&f.unshift(o[kc]),s.message=function Fd(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=ye(o);if(Array.isArray(o))f=o.map(ye).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ye(w)))}f=`{${p.join(", ")}}`}return`${l}${u?"("+u+")":""}[${f}]: ${s.replace(Rc,"\n  ")}`}("\n"+s.message,f,l,u),s.ngTokenPath=f,s[qo]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{pn(p),Ms(f)}}resolveInjectorInitializers(){const o=Ms(this),l=pn(void 0);try{const u=this.get(Dp.multi,Ct,qe.Self);for(const f of u)f()}finally{Ms(o),pn(l)}}toString(){const o=[],l=this.records;for(const u of l.keys())o.push(ye(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let l=aa(o=Q(o))?o:Q(o&&o.provide);const u=function ET(s){return ji(s)?Cl(void 0,s.useValue):Cl(wy(s),ns)}(o);if(aa(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Cl(void 0,ns,!0),f.factory=()=>Oc(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,u)}hydrate(o,l){return l.value===ns&&(l.value=_y,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Dl(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Q(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function by(s){const o=Sr(s),l=null!==o?o.factory:ur(s);if(null!==l)return l;if(s instanceof dn)throw new Ce(204,!1);if(s instanceof Function)return function lE(s){const o=s.length;if(o>0)throw qr(o,"?"),new Ce(204,!1);const l=function Tn(s){const o=s&&(s[Tr]||s[qi]);if(o){const l=function vs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ce(204,!1)}function wy(s,o,l){let u;if(aa(s)){const f=Q(s);return ur(f)||by(f)}if(ji(s))u=()=>Q(s.useValue);else if(function my(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Oc(s.deps||[]));else if(function gy(s){return!(!s||!s.useExisting)}(s))u=()=>An(Q(s.useExisting));else{const f=Q(s&&(s.useClass||s.provide));if(!function Sp(s){return!!s.deps}(s))return ur(f)||by(f);u=()=>new f(...Oc(s.deps))}return u}function Cl(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Xd(s){return!!s.\u0275providers}function Ey(s,o){for(const l of s)Array.isArray(l)?Ey(l,o):Xd(l)?Ey(l.\u0275providers,o):o(l)}class cE{}class Ap{resolveComponentFactory(o){throw function uE(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Eo=(()=>{class s{}return s.NULL=new Ap,s})();function dE(){return Co(Wn(),Ie())}function Co(s,o){return new Jd(gr(s,o))}let Jd=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=dE,s})();function Cy(s){return s instanceof Jd?s.nativeElement:s}class Iy{}let hE=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function CT(){const s=Ie(),l=Yt(Wn().index,s);return(nr(l)?l:s)[11]}(),s})(),DT=(()=>{class s{}return s.\u0275prov=qt({token:s,providedIn:"root",factory:()=>null}),s})();class fE{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const eh=new fE("14.2.12"),Sy={};function Ay(s){return s.ngOriginalError}class th{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ay(o);for(;l&&Ay(l);)l=Ay(l);return l||null}}function Do(s){return s instanceof Function?s():s}function Tl(s,o,l){let u=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=o.length;if(f+p===u||s.charCodeAt(f+p)<=32)return f}l=f+1}}const pE="ng-template";function gE(s,o,l){let u=0;for(;u<s.length;){let f=s[u++];if(l&&"class"===f){if(f=s[u],-1!==Tl(f.toLowerCase(),o,0))return!0}else if(1===f){for(;u<s.length&&"string"==typeof(f=s[u++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function mE(s){return 4===s.type&&s.value!==pE}function ky(s,o,l){return o===(4!==s.type||l?s.value:pE)}function sh(s,o,l){let u=4;const f=s.attrs||[],p=function vE(s){for(let o=0;o<s.length;o++)if(xd(s[o]))return o;return s.length}(f);let y=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!y)if(4&u){if(u=2|1&u,""!==C&&!ky(s,C,l)||""===C&&1===o.length){if(rs(u))return!1;y=!0}}else{const S=8&u?C:o[++w];if(8&u&&null!==s.attrs){if(!gE(s.attrs,S,l)){if(rs(u))return!1;y=!0}continue}const O=Oy(8&u?"class":C,f,mE(s),l);if(-1===O){if(rs(u))return!1;y=!0;continue}if(""!==S){let $;$=O>p?"":f[O+1].toLowerCase();const J=8&u?$:null;if(J&&-1!==Tl(J,S,0)||2&u&&S!==$){if(rs(u))return!1;y=!0}}}}else{if(!y&&!rs(u)&&!rs(C))return!1;if(y&&rs(C))continue;y=!1,u=C|1&u}}return rs(u)||y}function rs(s){return 0==(1&s)}function Oy(s,o,l,u){if(null===o)return-1;let f=0;if(u||!l){let p=!1;for(;f<o.length;){const y=o[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++f];for(;"string"==typeof w;)w=o[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function Io(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function _E(s,o,l=!1){for(let u=0;u<o.length;u++)if(sh(s,o[u],l))return!0;return!1}function Py(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let f=0;f<s.length;f++)if(s[f]!==u[f])continue e;return!0}}return!1}function ca(s,o){return s?":not("+o.trim()+")":o}function xp(s){let o=s[0],l=1,u=2,f="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&u){const w=s[++l];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!rs(y)&&(o+=ca(p,f),f=""),u=y,p=p||!rs(u);l++}return""!==f&&(o+=ca(p,f)),o}const Pt={};function wE(s){EE(Ht(),Ie(),wn()+s,!1)}function EE(s,o,l,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&_c(o,p,l)}else{const p=s.preOrderHooks;null!==p&&ao(o,p,0,l)}Zi(l)}function Ny(s,o=null,l=null,u){const f=Rp(s,o,l,u);return f.resolveInjectorInitializers(),f}function Rp(s,o=null,l=null,u,f=new Set){const p=[l||Ct,jt(s)];return u=u||("object"==typeof s?void 0:ye(s)),new vy(p,o||Ip(),u||null,f)}let So=(()=>{class s{static create(l,u){if(Array.isArray(l))return Ny({name:""},u,l,"");{const f=l.name??"";return Ny({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=kn,s.NULL=new Qd,s.\u0275prov=qt({token:s,providedIn:"any",factory:()=>An(sE)}),s.__NG_ELEMENT_ID__=-1,s})();function uh(s,o=qe.Default){const l=Ie();return null===l?An(s,o):Cc(Wn(),l,Q(s),o)}function HT(){throw new Error("invalid")}function jy(s,o){return s<<17|o<<2}function wi(s){return s>>17&32767}function $y(s){return 2|s}function is(s){return(131068&s)>>2}function ci(s,o){return-131069&s|o<<2}function Ml(s){return 1|s}function qy(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const f=l[u],p=l[u+1];if(-1!==p){const y=s.data[p];wd(f),y.contentQueries(2,o[p],p)}}}function kl(s,o,l,u,f,p,y,w,C,S,M){const O=o.blueprint.slice();return O[0]=f,O[2]=76|u,(null!==M||s&&1024&s[2])&&(O[2]|=1024),ja(O),O[3]=O[15]=s,O[8]=l,O[10]=y||s&&s[10],O[11]=w||s&&s[11],O[12]=C||s&&s[12]||null,O[9]=S||s&&s[9]||null,O[6]=p,O[20]=function H0(){return U0++}(),O[21]=M,O[16]=2==o.type?s[16]:O,O}function Ol(s,o,l,u,f){let p=s.data[o];if(null===p)p=function Pl(s,o,l,u,f){const p=dc(),y=_d(),C=s.data[o]=function tA(s,o,l,u,f,p){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,u,f);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,l,u,f),function jf(){return Tt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=u,p.attrs=f;const y=function hc(){const s=Tt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return oi(p,!0),p}function Nl(s,o,l,u){if(0===l)return-1;const f=o.length;for(let p=0;p<l;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return f}function Ky(s,o,l){gc(o);try{const u=s.viewQuery;null!==u&&Wp(1,u,l);const f=s.template;null!==f&&VE(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&qy(s,o),s.staticViewQueries&&Wp(2,s.viewQuery,l);const p=s.components;null!==p&&function Hp(s,o){for(let l=0;l<o.length;l++)uA(s,o[l])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,jo()}}function jp(s,o,l,u){const f=o[2];if(128!=(128&f)){gc(o);try{ja(o),function Ga(s){return Tt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&VE(s,o,l,2,u);const y=3==(3&f);if(y){const S=s.preOrderCheckHooks;null!==S&&_c(o,S,null)}else{const S=s.preOrderHooks;null!==S&&ao(o,S,0,null),Id(o,0)}if(function $p(s){for(let o=na(s);null!==o;o=gl(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const f=l[u],p=f[3];0==(512&f[2])&&$a(p,1),f[2]|=512}}}(o),function lA(s){for(let o=na(s);null!==o;o=gl(o))for(let l=10;l<o.length;l++){const u=o[l],f=u[1];Cs(u)&&jp(f,u,f.template,u[8])}}(o),null!==s.contentQueries&&qy(s,o),y){const S=s.contentCheckHooks;null!==S&&_c(o,S)}else{const S=s.contentHooks;null!==S&&ao(o,S,1),Id(o,1)}!function Up(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const f=l[u];if(f<0)Zi(~f);else{const p=f,y=l[++u],w=l[++u];$f(y,p),w(2,o[p])}}}finally{Zi(-1)}}(s,o);const w=s.components;null!==w&&function LE(s,o){for(let l=0;l<o.length;l++)cA(s,o[l])}(o,w);const C=s.viewQuery;if(null!==C&&Wp(2,C,u),y){const S=s.viewCheckHooks;null!==S&&_c(o,S)}else{const S=s.viewHooks;null!==S&&ao(o,S,2),Id(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,$a(o[3],-1))}finally{jo()}}}function VE(s,o,l,u,f){const p=wn(),y=2&u;try{Zi(-1),y&&o.length>22&&EE(s,o,22,!1),l(u,f)}finally{Zi(p)}}function BE(s,o,l){if(ws(o)){const f=o.directiveEnd;for(let p=o.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function Zy(s,o,l){!za()||(function sA(s,o,l,u){const f=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||co(l,o),_(u,o);const y=l.initialInputs;for(let w=f;w<p;w++){const C=s.data[w],S=Fi(C);S&&aA(o,l,C);const M=Ss(o,s,w,l);_(M,o),null!==y&&ZE(0,w-f,M,C,0,y),S&&(Yt(l.index,o)[8]=M)}}(s,o,l,gr(l,o)),128==(128&l.flags)&&function oA(s,o,l){const u=l.directiveStart,f=l.directiveEnd,p=l.index,y=function R0(){return Tt.lFrame.currentDirectiveIndex}();try{Zi(p);for(let w=u;w<f;w++){const C=s.data[w],S=o[w];pc(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ev(C,S)}}finally{Zi(-1),pc(y)}}(s,o,l))}function tu(s,o,l=gr){const u=o.localNames;if(null!==u){let f=o.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],w=-1===y?l(o,s):s[y];s[f++]=w}}}function UE(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Yy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Yy(s,o,l,u,f,p,y,w,C,S){const M=22+u,O=M+f,$=function JT(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:Pt);return l}(M,O),J="function"==typeof S?S():S;return $[1]={type:s,blueprint:$,template:l,queries:null,viewQuery:w,declTNode:o,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function HE(s,o,l,u){const f=qp(o);null===l?f.push(u):(f.push(l),s.firstCreatePass&&JE(s).push(u,f.length-1))}function Qy(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const f=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,f):l[u]=[o,f]}return l}function jE(s,o){const u=o.directiveEnd,f=s.data,p=o.attrs,y=[];let w=null,C=null;for(let S=o.directiveStart;S<u;S++){const M=f[S],O=M.inputs,$=null===p||mE(o)?null:rv(O,p);y.push($),w=Qy(O,S,w),C=Qy(M.outputs,S,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=C}function ui(s,o,l,u,f,p,y,w){const C=gr(o,l);let M,S=o.inputs;!w&&null!=S&&(M=S[u])?(tC(s,l,M,u,f),Fa(o)&&Xy(l,o.index)):3&o.type&&(u=function $E(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),f=null!=y?y(f,o.value||"",u):f,p.setProperty(C,u,f))}function Xy(s,o){const l=Yt(o,s);16&l[2]||(l[2]|=32)}function Jy(s,o,l,u){let f=!1;if(za()){const p=function tv(s,o,l){const u=s.directiveRegistry;let f=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];_E(l,y.selectors,!1)&&(f||(f=[]),Qa(co(l,o),s,y.type),Fi(y)?(nv(s,l),f.unshift(y)):f.push(y))}return f}(s,o,l),y=null===u?null:{"":-1};if(null!==p){f=!0,qE(l,s.data.length,p.length);for(let M=0;M<p.length;M++){const O=p[M];O.providersResolver&&O.providersResolver(O)}let w=!1,C=!1,S=Nl(s,o,p.length,null);for(let M=0;M<p.length;M++){const O=p[M];l.mergedAttrs=Za(l.mergedAttrs,O.hostAttrs),KE(s,l,o,S,O),AP(S,O,y),null!==O.contentQueries&&(l.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(l.flags|=128);const $=O.type.prototype;!w&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!C&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),S++}jE(s,l)}y&&function WE(s,o,l){if(o){const u=s.localNames=[];for(let f=0;f<o.length;f+=2){const p=l[o[f+1]];if(null==p)throw new Ce(-301,!1);u.push(o[f],p)}}}(l,u,y)}return l.mergedAttrs=Za(l.mergedAttrs,l.attrs),f}function GE(s,o,l,u,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function iA(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=C&&w.push(C),w.push(u,f,y)}}function ev(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function nv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function AP(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Fi(o)&&(l[""]=s)}}function qE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function KE(s,o,l,u,f){s.data[u]=f;const p=f.factory||(f.factory=ur(f.type)),y=new ai(p,Fi(f),uh);s.blueprint[u]=y,l[u]=y,GE(s,o,0,u,Nl(s,l,f.hostVars,Pt),f)}function aA(s,o,l){const u=gr(o,s),f=UE(l),p=s[10],y=zp(s,kl(s,f,null,l.onPush?32:16,u,o,p,p.createRenderer(u,l),null,null,null));s[o.index]=y}function Ns(s,o,l,u,f,p){const y=gr(s,o);!function nu(s,o,l,u,f,p,y){if(null==p)s.removeAttribute(o,f,l);else{const w=null==y?ae(p):y(p,u||"",f);s.setAttribute(o,f,w,l)}}(o[11],y,p,s.value,l,u,f)}function ZE(s,o,l,u,f,p){const y=p[o];if(null!==y){const w=u.setInput;for(let C=0;C<y.length;){const S=y[C++],M=y[C++],O=y[C++];null!==w?u.setInput(l,O,S,M):l[M]=O}}}function rv(s,o){let l=null,u=0;for(;u<o.length;){const f=o[u];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[u+1])),u+=2}else u+=2;else u+=4}return l}function QE(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function cA(s,o){const l=Yt(o,s);if(Cs(l)){const u=l[1];48&l[2]?jp(u,l,u.template,l[8]):l[5]>0&&iv(l)}}function iv(s){for(let u=na(s);null!==u;u=gl(u))for(let f=10;f<u.length;f++){const p=u[f];if(Cs(p))if(512&p[2]){const y=p[1];jp(y,p,y.template,p[8])}else p[5]>0&&iv(p)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const f=Yt(l[u],s);Cs(f)&&f[5]>0&&iv(f)}}function uA(s,o){const l=Yt(o,s),u=l[1];(function dA(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Ky(u,l,l[8])}function zp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gp(s){for(;s;){s[2]|=32;const o=vo(s);if(ac(s)&&!o)return s;s=o}return null}function On(s,o,l,u=!0){const f=o[10];f.begin&&f.begin();try{jp(s,o,s.template,l)}catch(y){throw u&&sv(o,y),y}finally{f.end&&f.end()}}function Wp(s,o,l){wd(0),o(s,l)}function qp(s){return s[7]||(s[7]=[])}function JE(s){return s.cleanup||(s.cleanup=[])}function eC(s,o,l){return(null===s||Fi(s))&&(l=function Uf(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function sv(s,o){const l=s[9],u=l?l.get(th,null):null;u&&u.handleError(o)}function tC(s,o,l,u,f){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],C=o[y],S=s.data[y];null!==S.setInput?S.setInput(C,f,u,w):C[w]=f}}function Kp(s,o,l){let u=l?s.styles:null,f=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?f=Oe(f,w):2==p&&(u=Oe(u,w+": "+o[++y]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=f:s.classesWithoutHost=f}function ru(s,o,l,u,f=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&u.push(Dn(p)),Gr(p))for(let w=10;w<p.length;w++){const C=p[w],S=C[1].firstChild;null!==S&&ru(C[1],C,S,u)}const y=l.type;if(8&y)ru(s,o,l.child,u);else if(32&y){const w=hl(l,o);let C;for(;C=w();)u.push(C)}else if(16&y){const w=Z0(o,l);if(Array.isArray(w))u.push(...w);else{const C=vo(o[16]);ru(C[1],C,w,u,!0)}}l=f?l.projectionNext:l.next}return u}class iu{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return ru(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Gr(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Q_(o,u),fo(l,u))}this._attachedToViewContainer=!1}X_(this._lView[1],this._lView)}onDestroy(o){HE(this._lView[1],this._lView,null,o)}markForCheck(){Gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){On(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $0(s,o){Wd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class Zp extends iu{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;On(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class nC extends Eo{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=x(o);return new Yp(l,this.ngModule)}}function ov(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class av{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,u){const f=this.injector.get(o,Sy,u);return f!==Sy||l===Sy?f:this.parentInjector.get(o,l,u)}}class Yp extends cE{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function bE(s){return s.map(xp).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return ov(this.componentDef.inputs)}get outputs(){return ov(this.componentDef.outputs)}create(o,l,u,f){let p=(f=f||this.ngModule)instanceof la?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new av(o,p):o,w=y.get(Iy,null);if(null===w)throw new Ce(407,!1);const C=y.get(DT,null),S=w.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=u?function eA(s,o,l){return s.selectRootElement(o,l===ut.ShadowDom)}(S,u,this.componentDef.encapsulation):j0(S,M,function su(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),$=this.componentDef.onPush?288:272,J=Yy(0,null,null,1,0,null,null,null,null,null),fe=kl(null,J,null,$,null,null,w,S,C,y,null);let Ne,Be;gc(fe);try{const it=function fA(s,o,l,u,f,p){const y=l[1];l[22]=s;const C=Ol(y,22,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(Kp(C,S,!0),null!==s&&(Yi(f,s,S),null!==C.classes&&ay(f,s,C.classes),null!==C.styles&&bp(f,s,C.styles)));const M=u.createRenderer(s,o),O=kl(l,UE(o),null,o.onPush?32:16,l[22],C,u,M,p||null,null,null);return y.firstCreatePass&&(Qa(co(C,l),y,o.type),nv(y,C),qE(C,l.length,1)),zp(l,O),l[22]=O}(O,this.componentDef,fe,w,S);if(O)if(u)Yi(S,O,["ng-version",eh.full]);else{const{attrs:_t,classes:be}=function xT(s){const o=[],l=[];let u=1,f=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===f?""!==p&&o.push(p,s[++u]):8===f&&l.push(p);else{if(!rs(f))break;f=p}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);_t&&Yi(S,O,_t),be&&be.length>0&&ay(S,O,be.join(" "))}if(Be=Ha(J,22),void 0!==l){const _t=Be.projection=[];for(let be=0;be<this.ngContentSelectors.length;be++){const wt=l[be];_t.push(null!=wt?Array.from(wt):null)}}Ne=function pA(s,o,l,u){const f=l[1],p=function rA(s,o,l){const u=Wn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),KE(s,u,o,Nl(s,o,1,null),l),jE(s,u));const f=Ss(o,s,u.directiveStart,u);_(f,o);const p=gr(u,o);return p&&_(p,o),f}(f,l,o);if(s[8]=l[8]=p,null!==u)for(const w of u)w(p,o);if(o.contentQueries){const w=Wn();o.contentQueries(1,p,w.directiveStart)}const y=Wn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Zi(y.index),GE(l[1],y,0,y.directiveStart,y.directiveEnd,o),ev(o,p)),p}(it,this.componentDef,fe,[iC]),Ky(J,fe,null)}finally{jo()}return new lv(this.componentType,Ne,Co(Be,fe),fe,Be)}}class lv extends class Il{}{constructor(o,l,u,f,p){super(),this.location=u,this._rootLView=f,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new Zp(f),this.componentType=o}setInput(o,l){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[o])){const p=this._rootLView;tC(p[1],p,f,o,l),Xy(p,this._tNode.index)}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function iC(){const s=Wn();qa(Ie()[1],s)}function oC(s){let o=function sC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let f;if(Fi(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);f=o.\u0275dir}if(f){if(l){u.push(f);const y=s;y.inputs=aC(s.inputs),y.declaredInputs=aC(s.declaredInputs),y.outputs=aC(s.outputs);const w=f.hostBindings;w&&mA(s,w);const C=f.viewQuery,S=f.contentQueries;if(C&&lC(s,C),S&&gA(s,S),de(s.inputs,f.inputs),de(s.declaredInputs,f.declaredInputs),de(s.outputs,f.outputs),Fi(f)&&f.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===oC&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Qp(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const f=s[u];f.hostVars=o+=f.hostVars,f.hostAttrs=Za(f.hostAttrs,l=Za(l,f.hostAttrs))}}(u)}function aC(s){return s===Mr?{}:s===Ct?[]:s}function lC(s,o){const l=s.viewQuery;s.viewQuery=l?(u,f)=>{o(u,f),l(u,f)}:o}function gA(s,o){const l=s.contentQueries;s.contentQueries=l?(u,f,p)=>{o(u,f,p),l(u,f,p)}:o}function mA(s,o){const l=s.hostBindings;s.hostBindings=l?(u,f)=>{o(u,f),l(u,f)}:o}let Xp=null;function Fl(){if(!Xp){const s=Mt.Symbol;if(s&&s.iterator)Xp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Xp=u)}}}return Xp}function ou(s){return!!Ll(s)&&(Array.isArray(s)||!(s instanceof Map)&&Fl()in s)}function Ll(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function sr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function au(s,o,l,u){const f=Ie();return sr(f,Wa(),o)&&(Ht(),Ns(gn(),f,s,o,l,u)),au}function fv(s,o,l,u,f,p,y,w){const C=Ie(),S=Ht(),M=s+22,O=S.firstCreatePass?function Mo(s,o,l,u,f,p,y,w,C){const S=o.consts,M=Ol(o,s,4,y||null,Li(S,w));Jy(o,l,M,Li(S,C)),qa(o,M);const O=M.tViews=Yy(2,M,u,f,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,M),O.queries=o.queries.embeddedTView(M)),M}(M,S,C,o,l,u,f,p,y):S.data[M];oi(O,!1);const $=C[11].createComment("");yp(S,C,$,O),_($,C),zp(C,C[M]=QE($,C,$,O)),Lo(O)&&Zy(S,C,O),null!=y&&tu(C,O,w)}function mh(s,o,l){const u=Ie();return sr(u,Wa(),o)&&ui(Ht(),gn(),u,s,o,u[11],l,!1),mh}function _h(s,o,l,u,f){const y=f?"class":"style";tC(s,l,o.inputs[y],y,u)}function yh(s,o,l,u){const f=Ie(),p=Ht(),y=22+s,w=f[11],C=f[y]=j0(w,o,function Dd(){return Tt.lFrame.currentNamespace}()),S=p.firstCreatePass?function gC(s,o,l,u,f,p,y){const w=o.consts,S=Ol(o,s,2,f,Li(w,p));return Jy(o,l,S,Li(w,y)),null!==S.attrs&&Kp(S,S.attrs,!1),null!==S.mergedAttrs&&Kp(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,f,0,o,l,u):p.data[y];oi(S,!0);const M=S.mergedAttrs;null!==M&&Yi(w,C,M);const O=S.classes;null!==O&&ay(w,C,O);const $=S.styles;return null!==$&&bp(w,C,$),64!=(64&S.flags)&&yp(p,f,C,S),0===function pd(){return Tt.lFrame.elementDepthCount}()&&_(C,f),function y_(){Tt.lFrame.elementDepthCount++}(),Lo(S)&&(Zy(p,f,S),BE(p,S,f)),null!==u&&tu(f,S),yh}function du(){let s=Wn();_d()?fc():(s=s.parent,oi(s,!1));const o=s;!function gd(){Tt.lFrame.elementDepthCount--}();const l=Ht();return l.firstCreatePass&&(qa(l,s),ws(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function yc(s){return 0!=(16&s.flags)}(o)&&_h(l,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function vc(s){return 0!=(32&s.flags)}(o)&&_h(l,o,Ie(),o.stylesWithoutHost,!1),du}function vh(s,o,l,u){return yh(s,o,l,u),du(),vh}function eg(s,o,l){const u=Ie(),f=Ht(),p=s+22,y=f.firstCreatePass?function EA(s,o,l,u,f){const p=o.consts,y=Li(p,u),w=Ol(o,s,8,"ng-container",y);return null!==y&&Kp(w,y,!0),Jy(o,l,w,Li(p,f)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,f,u,o,l):f.data[p];oi(y,!0);const w=u[p]=u[11].createComment("");return yp(f,u,w,y),_(w,u),Lo(y)&&(Zy(f,u,y),BE(f,y,u)),null!=l&&tu(u,y),eg}function tg(){let s=Wn();const o=Ht();return _d()?fc():(s=s.parent,oi(s,!1)),o.firstCreatePass&&(qa(o,s),ws(s)&&o.queries.elementEnd(s)),tg}function bh(s,o,l){return eg(s,o,l),tg(),bh}function gv(){return Ie()}function mv(s){return!!s&&"function"==typeof s.then}function mC(s){return!!s&&"function"==typeof s.subscribe}const ng=mC;function _v(s,o,l,u){const f=Ie(),p=Ht(),y=Wn();return Vl(p,f,f[11],y,s,o,0,u),_v}function yv(s,o){const l=Wn(),u=Ie(),f=Ht();return Vl(f,u,eC(vd(f.data),l,u),l,s,o),yv}function Vl(s,o,l,u,f,p,y,w){const C=Lo(u),M=s.firstCreatePass&&JE(s),O=o[8],$=qp(o);let J=!0;if(3&u.type||w){const Be=gr(u,o),it=w?w(Be):Be,_t=$.length,be=w?Xt=>w(Dn(Xt[u.index])):u.index;let wt=null;if(!w&&C&&(wt=function hu(s,o,l,u){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===l&&f[p+1]===u){const w=o[7],C=f[p+2];return w.length>C?w[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,f,u.index)),null!==wt)(wt.__ngLastListenerFn__||wt).__ngNextListenerFn__=p,wt.__ngLastListenerFn__=p,J=!1;else{p=_C(u,o,O,p,!1);const Xt=l.listen(it,f,p);$.push(p,Xt),M&&M.push(f,be,_t,_t+1)}}else p=_C(u,o,O,p,!1);const fe=u.outputs;let Ne;if(J&&null!==fe&&(Ne=fe[f])){const Be=Ne.length;if(Be)for(let it=0;it<Be;it+=2){const _n=o[Ne[it]][Ne[it+1]].subscribe(p),Oo=$.length;$.push(p,_n),M&&M.push(f,u.index,Oo,-(Oo+1))}}}function vv(s,o,l,u){try{return!1!==l(u)}catch(f){return sv(s,f),!1}}function _C(s,o,l,u,f){return function p(y){if(y===Function)return u;Gp(2&s.flags?Yt(s.index,o):o);let C=vv(o,0,u,y),S=p.__ngNextListenerFn__;for(;S;)C=vv(o,0,S,y)&&C,S=S.__ngNextListenerFn__;return f&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function yC(s=1){return function oo(s){return(Tt.lFrame.contextLView=function I_(s,o){for(;s>0;)o=o[15],s--;return o}(s,Tt.lFrame.contextLView))[8]}(s)}function vC(s,o){let l=null;const u=function yE(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const p=o[f];if("*"!==p){if(null===u?_E(s,p,!0):Py(u,p))return f}else l=f}return l}function bC(s){const o=Ie()[16][6];if(!o.projection){const u=o.projection=qr(s?s.length:1,null),f=u.slice();let p=o.child;for(;null!==p;){const y=s?vC(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:u[y]=p,f[y]=p),p=p.next}}}function ma(s,o=0,l){const u=Ie(),f=Ht(),p=Ol(f,22+s,16,null,l||null);null===p.projection&&(p.projection=o),fc(),64!=(64&p.flags)&&function uT(s,o,l){oy(o[11],0,o,l,W0(s,l,o),q0(l.parent||o[6],l,o))}(f,u,p)}function lg(s,o,l,u,f){const p=s[l+1],y=null===o;let w=u?wi(p):is(p),C=!1;for(;0!==w&&(!1===C||y);){const M=s[w+1];Ev(s[w],o)&&(C=!0,s[w+1]=u?Ml(M):$y(M)),w=u?wi(M):is(M)}C&&(s[l+1]=u?$y(p):Ml(p))}function Ev(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Xi(s,o)>=0}function Ch(s,o,l){return os(s,o,l,!1),Ch}function ug(s,o){return os(s,o,null,!0),ug}function os(s,o,l,u){const f=Ie(),p=Ht(),y=function Ds(s){const o=Tt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);p.firstUpdatePass&&function MC(s,o,l,u){const f=s.data;if(null===f[l+1]){const p=f[wn()],y=function AC(s,o){return o>=s.expandoStartIndex}(s,l);(function hg(s,o){return 0!=(s.flags&(o?16:32))})(p,u)&&null===o&&!y&&(o=!1),o=function xv(s,o,l,u){const f=vd(s);let p=u?o.residualClasses:o.residualStyles;if(null===f)0===(u?o.classBindings:o.styleBindings)&&(l=Ih(l=Dh(null,s,o,l,u),o.attrs,u),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==f)if(l=Dh(f,s,o,l,u),null===p){let C=function IA(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==is(u))return s[wi(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=Dh(null,s,o,C[1],u),C=Ih(C,o.attrs,u),function Rv(s,o,l,u){s[wi(l?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else p=function SA(s,o,l){let u;const f=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<f;p++)u=Ih(u,s[p].hostAttrs,l);return Ih(u,o.attrs,l)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),l}(f,p,o,u),function Eh(s,o,l,u,f,p){let y=p?o.classBindings:o.styleBindings,w=wi(y),C=is(y);s[u]=l;let M,S=!1;if(Array.isArray(l)){const O=l;M=O[1],(null===M||Xi(O,M)>0)&&(S=!0)}else M=l;if(f)if(0!==C){const $=wi(s[w+1]);s[u+1]=jy($,w),0!==$&&(s[$+1]=ci(s[$+1],u)),s[w+1]=function $T(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=jy(w,0),0!==w&&(s[w+1]=ci(s[w+1],u)),w=u;else s[u+1]=jy(C,0),0===w?w=u:s[C+1]=ci(s[C+1],u),C=u;S&&(s[u+1]=$y(s[u+1])),lg(s,M,u,!0),lg(s,M,u,!1),function wv(s,o,l,u,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Xi(p,o)>=0&&(l[u+1]=Ml(l[u+1]))}(o,M,s,u,p),y=jy(w,C),p?o.classBindings=y:o.styleBindings=y}(f,p,o,l,y,u)}}(p,s,y,u),o!==Pt&&sr(f,y,o)&&function dg(s,o,l,u,f,p,y,w){if(!(3&o.type))return;const C=s.data,S=C[w+1];Ov(function zy(s){return 1==(1&s)}(S)?TA(C,o,l,f,is(S),y):void 0)||(Ov(p)||function kE(s){return 2==(2&s)}(S)&&(p=TA(C,null,l,f,w,y)),function KO(s,o,l,u,f){if(o)f?s.addClass(l,u):s.removeClass(l,u);else{let p=-1===u.indexOf("-")?void 0:li.DashCase;null==f?s.removeStyle(l,u,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=li.Important),s.setStyle(l,u,f,p))}}(u,y,Ua(wn(),l),f,p))}(p,p.data[wn()],f,f[11],s,f[y+1]=function AA(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(ia(s)))),s}(o,l),u,y)}function Dh(s,o,l,u,f){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],u=Ih(u,p.hostAttrs,f),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),u}function Ih(s,o,l){const u=l?1:2;let f=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?f=y:f===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Rr(s,y,!!l||o[++p]))}return void 0===s?null:s}function TA(s,o,l,u,f,p){const y=null===o;let w;for(;f>0;){const C=s[f],S=Array.isArray(C),M=S?C[1]:C,O=null===M;let $=l[f+1];$===Pt&&($=O?Ct:void 0);let J=O?Mc($,u):M===u?$:void 0;if(S&&!Ov(J)&&(J=Mc(C,u)),Ov(J)&&(w=J,y))return w;const fe=s[f+1];f=y?wi(fe):is(fe)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(w=Mc(C,u))}return w}function Ov(s){return void 0!==s}function Pv(s,o=""){const l=Ie(),u=Ht(),f=s+22,p=u.firstCreatePass?Ol(u,f,1,o,null):u.data[f],y=l[f]=function gp(s,o){return s.createText(o)}(l[11],o);yp(u,l,y,p),oi(p,!1)}function fg(s,o,l){const u=Ie(),f=function Lt(s,o,l,u){return sr(s,Wa(),l)?o+ae(l)+u:Pt}(u,s,o,l);return f!==Pt&&function pa(s,o,l){const u=Ua(o,s);!function sT(s,o,l){s.setValue(o,l)}(s[11],u,l)}(u,wn(),f),fg}function Uv(s,o,l){const u=Ie();return sr(u,Wa(),o)&&ui(Ht(),gn(),u,s,o,u[11],l,!0),Uv}function pu(s,o,l){const u=Ie();if(sr(u,Wa(),o)){const p=Ht(),y=gn();ui(p,y,u,s,o,eC(vd(p.data),y,u),l,!0)}return pu}const Ci=void 0;var LA=["en",[["a","p"],["AM","PM"],Ci],[["AM","PM"],Ci,Ci],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ci,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ci,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ci,"{1} 'at' {0}",Ci],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FA(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let gu={};function Hv(s){const o=function BA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=mg(o);if(l)return l;const u=o.split("-")[0];if(l=mg(u),l)return l;if("en"===u)return LA;throw new Ce(701,!1)}function VA(s){return Hv(s)[yt.PluralCase]}function mg(s){return s in gu||(gu[s]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[s]),gu[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const mu="en-US";let Bl=mu;function rb(s,o,l,u,f){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)rb(s[p],o,l,u,f);else{const p=Ht(),y=Ie();let w=aa(s)?s:Q(s.provide),C=wy(s);const S=Wn(),M=1048575&S.providerIndexes,O=S.directiveStart,$=S.providerIndexes>>20;if(aa(s)||!s.multi){const J=new ai(C,f,uh),fe=sb(w,o,f?M:M+$,O);-1===fe?(Qa(co(S,y),p,w),ib(p,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(J),y.push(J)):(l[fe]=J,y[fe]=J)}else{const J=sb(w,o,M+$,O),fe=sb(w,o,M,M+$),Ne=J>=0&&l[J],Be=fe>=0&&l[fe];if(f&&!Be||!f&&!Ne){Qa(co(S,y),p,w);const it=function aM(s,o,l,u,f){const p=new ai(s,l,uh);return p.multi=[],p.index=o,p.componentProviders=0,cD(p,f,u&&!l),p}(f?vr:uD,l.length,f,u,C);!f&&Be&&(l[fe].providerFactory=it),ib(p,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),l.push(it),y.push(it)}else ib(p,s,J>-1?J:fe,cD(l[f?fe:J],C,!f&&u));!f&&u&&Be&&l[fe].componentProviders++}}}function ib(s,o,l,u){const f=aa(o),p=function lP(s){return!!s.useClass}(o);if(f||p){const C=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const M=S.indexOf(l);-1===M?S.push(l,[u,C]):S[M+1].push(u,C)}else S.push(l,C)}}}function cD(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function sb(s,o,l,u){for(let f=l;f<u;f++)if(o[f]===s)return f;return-1}function uD(s,o,l,u){return Pg(this.multi,[])}function vr(s,o,l,u){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ss(l,l[1],this.providerFactory.index,u);p=w.slice(0,y),Pg(f,p);for(let C=y;C<w.length;C++)p.push(w[C])}else p=[],Pg(f,p);return p}function Pg(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function dD(s,o=[]){return l=>{l.providersResolver=(u,f)=>function Og(s,o,l){const u=Ht();if(u.firstCreatePass){const f=Fi(s);rb(l,u.data,u.blueprint,f,!0),rb(o,u.data,u.blueprint,f,!1)}}(u,f?f(s):s,o)}}class yu{}class Ng{}function lM(s,o){return new fD(s,o??null)}class fD extends yu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nC(this);const u=Ye(o);this._bootstrapComponents=Do(u.bootstrap),this._r3Injector=Rp(o,l,[{provide:yu,useValue:this},{provide:Eo,useValue:this.componentFactoryResolver}],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ob extends Ng{constructor(o){super(),this.moduleType=o}create(o){return new fD(this.moduleType,o)}}class cM extends yu{constructor(o,l,u){super(),this.componentFactoryResolver=new nC(this),this.instance=null;const f=new vy([...o,{provide:yu,useValue:this},{provide:Eo,useValue:this.componentFactoryResolver}],l||Ip(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ab(s,o,l=null){return new cM(s,o,l).injector}let Di=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const u=Yc(0,l.type),f=u.length>0?ab([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=qt({token:s,providedIn:"environment",factory:()=>new s(An(la))}),s})();function pD(s){s.getStandaloneInjector=o=>o.get(Di).getOrCreateStandaloneInjector(s)}function bb(s){return o=>{setTimeout(s,void 0,o)}}const Us=class JP extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){let f=o,p=l||(()=>null),y=u;if(o&&"object"==typeof o){const C=o;f=C.next?.bind(C),p=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(p=bb(p),f&&(f=bb(f)),y&&(y=bb(y)));const w=super.subscribe({next:f,error:p,complete:y});return o instanceof U.w0&&o.add(w),w}};function wb(){return this._results[Fl()]()}class TD{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Fl(),u=TD.prototype;u[l]||(u[l]=wb)}get changes(){return this._changes||(this._changes=new Us)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const f=mr(o);(this._changesDetected=!function B_(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let f=s[u],p=o[u];if(l&&(f=l(f),p=l(p)),p!==f)return!1}return!0}(u._results,f,l))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bg=(()=>{class s{}return s.__NG_ELEMENT_ID__=nN,s})();const eN=Bg,tN=class extends eN{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o,l){const u=this._declarationTContainer.tViews,f=kl(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),Ky(u,f,o),new iu(f)}};function nN(){return Ug(Wn(),Ie())}function Ug(s,o){return 4&s.type?new tN(o,s,Co(s,o)):null}let Eb=(()=>{class s{}return s.__NG_ELEMENT_ID__=AD,s})();function AD(){return kD(Wn(),Ie())}const MD=Eb,xD=class extends MD{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ya(this._hostTNode,this._hostLView);if(R_(o)){const l=Is(o,this._hostLView),u=lo(o);return new el(l[1].data[u+8],l)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=RD(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){let f,p;"number"==typeof u?f=u:null!=u&&(f=u.index,p=u.injector);const y=o.createEmbeddedView(l||{},p);return this.insert(y,f),y}createComponent(o,l,u,f,p){const y=o&&!function Un(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const O=l||{};w=O.index,u=O.injector,f=O.projectableNodes,p=O.environmentInjector||O.ngModuleRef}const C=y?o:new Yp(x(o)),S=u||this.parentInjector;if(!p&&null==C.ngModule){const $=(y?S:this.parentInjector).get(la,null);$&&(p=$)}const M=C.create(S,f,void 0,p);return this.insert(M.hostView,w),M}insert(o,l){const u=o._lView,f=u[1];if(function __(s){return Gr(s[3])}(u)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const O=u[3],$=new xD(O,O[6],O[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function z0(s,o,l,u){const f=10+u,p=l.length;u>0&&(l[f-1][4]=o),u<p-10?(o[4]=l[f],rl(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function Z_(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(f,u,y,p);const w=vp(p,y),C=u[11],S=mp(C,y[7]);return null!==S&&function oT(s,o,l,u,f,p){u[0]=f,u[6]=o,Wd(s,u,l,1,f,p)}(f,y[6],C,u,S,w),o.attachToViewContainerRef(),rl(Cb(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=RD(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Q_(this._lContainer,l);u&&(fo(Cb(this._lContainer),l),X_(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Q_(this._lContainer,l);return u&&null!=fo(Cb(this._lContainer),l)?new iu(u):null}_adjustIndex(o,l=0){return o??this.length+l}};function RD(s){return s[8]}function Cb(s){return s[8]||(s[8]=[])}function kD(s,o){let l;const u=o[s.index];if(Gr(u))l=u;else{let f;if(8&s.type)f=Dn(u);else{const p=o[11];f=p.createComment("");const y=gr(s,o);ml(p,mp(p,y),f,function ry(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=l=QE(u,o,f,s),zp(o,l)}return new xD(l,s,o)}class vu{constructor(o){this.queryList=o,this.matches=null}clone(){return new vu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ph{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let p=0;p<u;p++){const y=l.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new Ph(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==va(o,l).matches&&this.queries[l].setDirty()}}class Hg{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Nh{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const f=null!==l?l.length:0,p=this.getByIndex(u).embeddedTView(o,f);p&&(p.indexInDeclarationView=u,null!==l?l.push(p):l=[p])}return null!==l?new Nh(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Fh{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Fh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const p=u[f];this.matchTNodeWithReadOption(o,l,Db(l,p)),this.matchTNodeWithReadOption(o,l,Ja(l,o,p,!1,!1))}else u===Bg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ja(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Jd||f===Eb||f===Bg&&4&l.type)this.addMatch(l.index,-2);else{const p=Ja(l,o,f,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Db(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function Sb(s,o,l,u){return-1===l?function Ib(s,o){return 11&s.type?Co(s,o):4&s.type?Ug(s,o):null}(o,s):-2===l?function iN(s,o,l){return l===Jd?Co(o,s):l===Bg?Ug(o,s):l===Eb?kD(o,s):void 0}(s,o,u):Ss(s,s[1],l,o)}function vM(s,o,l,u){const f=o[19].queries[u];if(null===f.matches){const p=s.data,y=l.matches,w=[];for(let C=0;C<y.length;C+=2){const S=y[C];w.push(S<0?null:Sb(o,p[S],y[C+1],l.metadata.read))}f.matches=w}return f.matches}function OD(s,o,l,u){const f=s.queries.getByIndex(l),p=f.matches;if(null!==p){const y=vM(s,o,f,l);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)u.push(y[w/2]);else{const S=p[w+1],M=o[-C];for(let O=10;O<M.length;O++){const $=M[O];$[17]===$[3]&&OD($[1],$,S,u)}if(null!==M[9]){const O=M[9];for(let $=0;$<O.length;$++){const J=O[$];OD(J[1],J,S,u)}}}}}return u}function jg(s){const o=Ie(),l=Ht(),u=bd();wd(u+1);const f=va(l,u);if(s.dirty&&function m_(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?OD(l,o,u,[]):vM(l,o,f,u);s.reset(p,Cy),s.notifyOnChanges()}return!0}return!1}function $g(s,o,l){const u=Ht();u.firstCreatePass&&(ya(u,new Hg(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),bu(u,Ie(),o)}function zl(s,o,l,u){const f=Ht();if(f.firstCreatePass){const p=Wn();ya(f,new Hg(o,l,u),p.index),function wM(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}bu(f,Ie(),l)}function Tb(){return function bM(s,o){return s[19].queries[o].queryList}(Ie(),bd())}function bu(s,o,l){const u=new TD(4==(4&l));HE(s,o,u,u.destroy),null===o[19]&&(o[19]=new Ph),o[19].queries.push(new vu(u))}function ya(s,o,l){null===s.queries&&(s.queries=new Nh),s.queries.track(new Fh(o,l))}function va(s,o){return s.queries.getByIndex(o)}function em(...s){}const Bh=new dn("Application Initializer");let Cu=(()=>{class s{constructor(l){this.appInits=l,this.resolve=em,this.reject=em,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(mv(p))l.push(p);else if(ng(p)){const y=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});l.push(y)}}Promise.all(l).then(()=>{u()}).catch(f=>{this.reject(f)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(An(Bh,8))},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Lb=new dn("AppId",{providedIn:"root",factory:function Vb(){return`${Du()}${Du()}${Du()}`}});function Du(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tm=new dn("Platform Initializer"),Bb=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nm=new dn("appBootstrapListener"),$D=new dn("AnimationModuleType");let zD=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Uh=new dn("LocaleId",{providedIn:"root",factory:()=>al(Uh,qe.Optional|qe.SkipSelf)||function OM(){return typeof $localize<"u"&&$localize.locale||mu}()}),GD=new dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ub{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Hb=(()=>{class s{compileModuleSync(l){return new ob(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),p=Do(Ye(l).declarations).reduce((y,w)=>{const C=x(w);return C&&y.push(new Yp(C)),y},[]);return new Ub(u,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const qD=(()=>Promise.resolve(0))();function $b(s){typeof Zone>"u"?qD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ii{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Us(!1),this.onMicrotaskEmpty=new Us(!1),this.onStable=new Us(!1),this.onError=new Us(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&l,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function NM(){let s=Mt.requestAnimationFrame,o=Mt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function KD(s){const o=()=>{!function Wb(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Mt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,qb(s),s.isCheckStableRunning=!0,Gb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),qb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,f,p,y,w)=>{try{return jh(s),l.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),im(s)}},onInvoke:(l,u,f,p,y,w,C)=>{try{return jh(s),l.invoke(f,p,y,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),im(s)}},onHasTask:(l,u,f,p)=>{l.hasTask(f,p),u===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,qb(s),Gb(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,u,f,p)=>(l.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ii.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Ii.isInAngularZone())throw new Ce(909,!1)}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,o,zb,em,em);try{return p.runTask(y,l,u)}finally{p.cancelTask(y)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const zb={};function Gb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function qb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function im(s){s._nesting--,Gb(s)}class Kb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Us,this.onMicrotaskEmpty=new Us,this.onStable=new Us,this.onError=new Us}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,f){return o.apply(l,u)}}const Zb=new dn(""),ZD=new dn("");let sm,$h=(()=>{class s{constructor(l,u,f){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sm||(function YD(s){sm=s}(f),f.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ii.assertNotInAngularZone(),$b(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$b(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,f){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:f})}whenStable(l,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(An(Ii),An(Yb),An(ZD))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),Yb=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return sm?.findTestabilityInTree(this,l,u)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),us=null;const QD=new dn("AllowMultipleToken"),Qb=new dn("PlatformDestroyListeners");class XD{constructor(o,l){this.name=o,this.token=l}}function Fr(s,o,l=[]){const u=`Platform: ${o}`,f=new dn(u);return(p=[])=>{let y=am();if(!y||y.injector.get(QD,!1)){const w=[...l,...p,{provide:f,useValue:!0}];s?s(w):function om(s){if(us&&!us.get(QD,!1))throw new Ce(400,!1);us=s;const o=s.get(lm);(function Iu(s){const o=s.get(tm,null);o&&o.forEach(l=>l())})(s)}(function Su(s=[],o){return So.create({name:o,providers:[{provide:ir,useValue:"platform"},{provide:Qb,useValue:new Set([()=>us=null])},...s]})}(w,u))}return function eI(s){const o=am();if(!o)throw new Ce(401,!1);return o}()}}function am(){return us?.get(lm)??null}let lm=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const f=function ew(s,o){let l;return l="noop"===s?new Kb:("zone.js"===s?void 0:s)||new Ii(o),l}(u?.ngZone,function Jb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),p=[{provide:Ii,useValue:f}];return f.run(()=>{const y=So.create({providers:p,parent:this.injector,name:l.moduleType.name}),w=l.create(y),C=w.injector.get(th,null);if(!C)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const S=f.onError.subscribe({next:M=>{C.handleError(M)}});w.onDestroy(()=>{Mu(this._modules,w),S.unsubscribe()})}),function Tu(s,o,l){try{const u=l();return mv(u)?u.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(C,f,()=>{const S=w.injector.get(Cu);return S.runInitializers(),S.donePromise.then(()=>(function Vs(s){Vt(s,"Expected localeId to be defined"),"string"==typeof s&&(Bl=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Uh,mu)||mu),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,u=[]){const f=cm({},u);return function FM(s,o,l){const u=new ob(l);return Promise.resolve(u)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(l){const u=l.injector.get(Au);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Ce(403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(Qb,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(An(So))},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function cm(s,o){return Array.isArray(o)?o.reduce(cm,s):{...s,...o}}let Au=(()=>{class s{constructor(l,u,f){this._zone=l,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new N.y(w=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ii.assertNotInAngularZone(),$b(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Ii.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ce.T)(p,y.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const f=l instanceof cE;if(!this._injector.get(Cu).done)throw!f&&Se(l),new Ce(405,false);let y;y=f?l:this._injector.get(Eo).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function Wl(s){return s.isBoundToModule}(y)?void 0:this._injector.get(yu),S=y.create(So.NULL,[],u||y.selector,w),M=S.location.nativeElement,O=S.injector.get(Zb,null);return O?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),Mu(this.components,S),O?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Mu(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(nm,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Mu(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(An(Ii),An(la),An(th))},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Mu(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let tw=!0,tI=!1;function nw(){return tI=!0,tw}function um(){if(tI)throw new Error("Cannot enable prod mode after platform setup.");tw=!1}let rI=(()=>{class s{}return s.__NG_ELEMENT_ID__=BM,s})();function BM(s){return function Wh(s,o,l){if(Fa(s)&&!l){const u=Yt(s.index,o);return new iu(u,u)}return 47&s.type?new iu(o[16],o):null}(Wn(),Ie(),16==(16&s))}class cI{constructor(){}supports(o){return ou(o)}create(o){return new zM(o)}}const $M=(s,o)=>o;class zM{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$M}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,f=0,p=null;for(;l||u;){const y=!u||l&&l.currentIndex<ow(u,f,p)?l:u,w=ow(y,f,p),C=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(l=l._next,null==y.previousIndex)f++;else{p||(p=[]);const S=w-f,M=C-f;if(S!=M){for(let $=0;$<S;$++){const J=$<p.length?p[$]:p[$]=0,fe=J+$;M<=fe&&fe<S&&(p[$]=J+1)}p[y.previousIndex]=M-S}}w!==C&&o(y,w,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!ou(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,p,y,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),u=!0),l=l._next}else f=0,function kP(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Fl()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,w=>{y=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,w,y,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,f),u=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,f){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,f)):o=this._addAfter(new qh(l,u),p,f),o}_verifyReinsertion(o,l,u,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,p=o._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new sw),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class qh{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wa{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class sw{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new wa,this.map.set(l,u)),u.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ow(s,o,l){const u=s.previousIndex;if(null===u)return u;let f=0;return l&&u<l.length&&(f=l[u]),u+o+f}class aw{constructor(){}supports(o){return o instanceof Map||Ll(o)}create(){return new Pu}}class Pu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Ll(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(f,u);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const u=new GM(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class GM{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uI(){return new pm([new cI])}let pm=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const f=u.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||uI()),deps:[[s,new ks,new Rs]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(null!=u)return u;throw new Ce(901,!1)}}return s.\u0275prov=qt({token:s,providedIn:"root",factory:uI}),s})();function lw(){return new gm([new aw])}let gm=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const f=u.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||lw()),deps:[[s,new ks,new Rs]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(u)return u;throw new Ce(901,!1)}}return s.\u0275prov=qt({token:s,providedIn:"root",factory:lw}),s})();const dw=Fr(null,"core",[]);let KM=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(An(Au))},s.\u0275mod=Gt({type:s}),s.\u0275inj=kt({}),s})();function ZM(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(gt,Ae,F)=>{F.d(Ae,{Z:()=>Ce});var d=F(2090),U=F(4859),N=F(9681),ce=F(1877);class Ee{constructor(ae,he){this._delegate=ae,this.firebase=he,(0,N._addComponent)(ae,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ae,he=N._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(ae);return!et.isInitialized()&&"EXPLICIT"===(null===(Je=et.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&et.initialize(),et.getImmediate({identifier:he})}_removeServiceInstance(ae,he=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(he)}_addComponent(ae){(0,N._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,N._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function Oe(){const We=function ye(We){const ae={},he={__esModule:!0,initializeApp:function xe(re,se={}){const pe=N.initializeApp(re,se);if((0,d.r3)(ae,pe.name))return ae[pe.name];const K=new We(pe,he);return ae[pe.name]=K,K},app:et,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ge(re){const se=re.name,pe=se.replace("-compat","");if(N._registerComponent(re)&&"PUBLIC"===re.type){const K=(Y=et())=>{if("function"!=typeof Y[pe])throw de.create("invalid-app-argument",{appName:se});return Y[pe]()};void 0!==re.serviceProps&&(0,d.ZB)(K,re.serviceProps),he[pe]=K,We.prototype[pe]=function(...Y){return this._getService.bind(this,se).apply(this,re.multipleInstances?Y:[])}}return"PUBLIC"===re.type?he[pe]:null},removeApp:function Je(re){delete ae[re]},useAsService:function Ve(re,se){return"serverAuth"===se?null:se},modularAPIs:N}};function et(re){if(!(0,d.r3)(ae,re=re||N._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:re});return ae[re]}return he.default=he,Object.defineProperty(he,"apps",{get:function De(){return Object.keys(ae).map(re=>ae[re])}}),et.App=We,he}(Ee);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function ae(he){(0,d.ZB)(We,he)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),We}(),z=new ce.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=G;!function Fe(We){(0,N.registerVersion)("@firebase/app-compat","0.1.39",We)}()},9681:(gt,Ae,F)=>{F.r(Ae),F.d(Ae,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Wi,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>on,_addOrOverwriteComponent:()=>qt,_apps:()=>sn,_clearComponents:()=>Oi,_components:()=>Rn,_getProvider:()=>kt,_registerComponent:()=>Bt,_removeServiceInstance:()=>Sr,deleteApp:()=>Ks,getApp:()=>Ar,getApps:()=>qi,initializeApp:()=>Tr,onLog:()=>zn,registerVersion:()=>er,setLogLevel:()=>pn});var d=F(5861),U=F(4859),N=F(1877),ce=F(2090),Ee=F(8766);class we{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function de(Ge){return"VERSION"===Ge.getComponent()?.type}(Ke)){const mt=Ke.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(Ke=>Ke).join(" ")}}const ye="@firebase/app",G=new N.Yd("@firebase/app"),Vt="[DEFAULT]",He={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,Rn=new Map;function on(Ge,ve){try{Ge.container.addComponent(ve)}catch(Ke){G.debug(`Component ${ve.name} failed to register with FirebaseApp ${Ge.name}`,Ke)}}function qt(Ge,ve){Ge.container.addOrOverwriteComponent(ve)}function Bt(Ge){const ve=Ge.name;if(Rn.has(ve))return G.debug(`There were multiple attempts to register component ${ve}.`),!1;Rn.set(ve,Ge);for(const Ke of sn.values())on(Ke,Ge);return!0}function kt(Ge,ve){const Ke=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),Ge.container.getProvider(ve)}function Sr(Ge,ve,Ke=Vt){kt(Ge,ve).clearInstance(Ke)}function Oi(){Rn.clear()}const Tn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vs{constructor(ve,Ke,mt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const Wi="9.14.0";function Tr(Ge,ve={}){let Ke=Ge;"object"!=typeof ve&&(ve={name:ve});const mt=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},ve),vt=mt.name;if("string"!=typeof vt||!vt)throw Tn.create("bad-app-name",{appName:String(vt)});if(Ke||(Ke=(0,ce.aH)()),!Ke)throw Tn.create("no-options");const Gt=sn.get(vt);if(Gt){if((0,ce.vZ)(Ke,Gt.options)&&(0,ce.vZ)(mt,Gt.config))return Gt;throw Tn.create("duplicate-app",{appName:vt})}const H=new U.H0(vt);for(const W of Rn.values())H.addComponent(W);const B=new vs(Ke,mt,H);return sn.set(vt,B),B}function Ar(Ge=Vt){const ve=sn.get(Ge);if(!ve&&Ge===Vt)return Tr();if(!ve)throw Tn.create("no-app",{appName:Ge});return ve}function qi(){return Array.from(sn.values())}function Ks(Ge){return qe.apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(Ge){const ve=Ge.name;sn.has(ve)&&(sn.delete(ve),yield Promise.all(Ge.container.getProviders().map(Ke=>Ke.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function er(Ge,ve,Ke){var mt;let vt=null!==(mt=He[Ge])&&void 0!==mt?mt:Ge;Ke&&(vt+=`-${Ke}`);const Gt=vt.match(/\s|\//),H=ve.match(/\s|\//);if(Gt||H){const B=[`Unable to register library "${vt}" with version "${ve}":`];return Gt&&B.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),Gt&&H&&B.push("and"),H&&B.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void G.warn(B.join(" "))}Bt(new U.wA(`${vt}-version`,()=>({library:vt,version:ve}),"VERSION"))}function zn(Ge,ve){if(null!==Ge&&"function"!=typeof Ge)throw Tn.create("invalid-log-argument");(0,N.Am)(Ge,ve)}function pn(Ge){(0,N.Ub)(Ge)}const vn="firebase-heartbeat-store";let bn=null;function un(){return bn||(bn=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(Ge,ve)=>{0===ve&&Ge.createObjectStore(vn)}}).catch(Ge=>{throw Tn.create("idb-open",{originalErrorMessage:Ge.message})})),bn}function ut(){return(ut=(0,d.Z)(function*(Ge){var ve;try{return(yield un()).transaction(vn).objectStore(vn).get(tr(Ge))}catch(Ke){if(Ke instanceof ce.ZR)G.warn(Ke.message);else{const mt=Tn.create("idb-get",{originalErrorMessage:null===(ve=Ke)||void 0===ve?void 0:ve.message});G.warn(mt.message)}}})).apply(this,arguments)}function Mt(Ge,ve){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(Ge,ve){var Ke;try{const vt=(yield un()).transaction(vn,"readwrite");return yield vt.objectStore(vn).put(ve,tr(Ge)),vt.done}catch(mt){if(mt instanceof ce.ZR)G.warn(mt.message);else{const vt=Tn.create("idb-set",{originalErrorMessage:null===(Ke=mt)||void 0===Ke?void 0:Ke.message});G.warn(vt.message)}}})).apply(this,arguments)}function tr(Ge){return`${Ge.name}!${Ge.options.appId}`}class xr{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new $t(Ke),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var ve=this;return(0,d.Z)(function*(){const mt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=xt();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==vt&&!ve._heartbeatsCache.heartbeats.some(Gt=>Gt.date===vt))return ve._heartbeatsCache.heartbeats.push({date:vt,agent:mt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(Gt=>{const H=new Date(Gt.date).valueOf();return Date.now()-H<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,d.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const Ke=xt(),{heartbeatsToSend:mt,unsentEntries:vt}=function Pi(Ge,ve=1024){const Ke=[];let mt=Ge.slice();for(const vt of Ge){const Gt=Ke.find(H=>H.agent===vt.agent);if(Gt){if(Gt.dates.push(vt.date),cr(Ke)>ve){Gt.dates.pop();break}}else if(Ke.push({agent:vt.agent,dates:[vt.date]}),cr(Ke)>ve){Ke.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:mt}}(ve._heartbeatsCache.heartbeats),Gt=(0,ce.L)(JSON.stringify({version:2,heartbeats:mt}));return ve._heartbeatsCache.lastSentHeartbeatDate=Ke,vt.length>0?(ve._heartbeatsCache.heartbeats=vt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),Gt})()}}function xt(){return(new Date).toISOString().substring(0,10)}class $t{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,d.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function ct(Ge){return ut.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var Ke=this;return(0,d.Z)(function*(){var mt;if(yield Ke._canUseIndexedDBPromise){const Gt=yield Ke.read();return Mt(Ke.app,{lastSentHeartbeatDate:null!==(mt=ve.lastSentHeartbeatDate)&&void 0!==mt?mt:Gt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Ke=this;return(0,d.Z)(function*(){var mt;if(yield Ke._canUseIndexedDBPromise){const Gt=yield Ke.read();return Mt(Ke.app,{lastSentHeartbeatDate:null!==(mt=ve.lastSentHeartbeatDate)&&void 0!==mt?mt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...ve.heartbeats]})}})()}}function cr(Ge){return(0,ce.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function Cn(Ge){Bt(new U.wA("platform-logger",ve=>new we(ve),"PRIVATE")),Bt(new U.wA("heartbeat",ve=>new xr(ve),"PRIVATE")),er(ye,"0.8.4",Ge),er(ye,"0.8.4","esm2017"),er("fire-js","")}("")},4859:(gt,Ae,F)=>{F.d(Ae,{H0:()=>ye,wA:()=>N});var d=F(5861),U=F(2090);class N{constructor(G,z,Q){this.name=G,this.instanceFactory=z,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ce="[DEFAULT]";class Ee{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const Q=new U.BH;if(this.instancesDeferred.set(z,Q),this.isInitialized(z)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:z});Le&&Q.resolve(Le)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const Q=this.normalizeInstanceIdentifier(G?.identifier),Le=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Fe){if(Le)return null;throw Fe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function de(Oe){return"EAGER"===Oe.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[z,Q]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(z);try{const Fe=this.getOrInitializeService({instanceIdentifier:Le});Q.resolve(Fe)}catch{}}}}clearInstance(G=ce){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...z.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ce){return this.instances.has(G)}getOptions(G=ce){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,Q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Q,options:z});for(const[Fe,Ce]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Fe)&&Ce.resolve(Le);return Le}onInit(G,z){var Q;const Le=this.normalizeInstanceIdentifier(z),Fe=null!==(Q=this.onInitCallbacks.get(Le))&&void 0!==Q?Q:new Set;Fe.add(G),this.onInitCallbacks.set(Le,Fe);const Ce=this.instances.get(Le);return Ce&&G(Ce,Le),()=>{Fe.delete(G)}}invokeOnInitCallbacks(G,z){const Q=this.onInitCallbacks.get(z);if(Q)for(const Le of Q)try{Le(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let Q=this.instances.get(G);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=G,Oe===ce?void 0:Oe),options:z}),this.instances.set(G,Q),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(Q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Q)}catch{}var Oe;return Q||null}normalizeInstanceIdentifier(G=ce){return this.component?this.component.multipleInstances?G:ce:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new Ee(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,Ae,F)=>{F.d(Ae,{Am:()=>Oe,Ub:()=>ye,Yd:()=>de,in:()=>U});const d=[];var U=(()=>{return(G=U||(U={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",U;var G})();const N={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},ce=U.INFO,Ee={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},we=(G,z,...Q)=>{if(z<G.logLevel)return;const Le=(new Date).toISOString(),Fe=Ee[z];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Fe](`[${Le}]  ${G.name}:`,...Q)};class de{constructor(z){this.name=z,this._logLevel=ce,this._logHandler=we,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in U))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?N[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...z),this._logHandler(this,U.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...z),this._logHandler(this,U.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,U.INFO,...z),this._logHandler(this,U.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,U.WARN,...z),this._logHandler(this,U.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...z),this._logHandler(this,U.ERROR,...z)}}function ye(G){d.forEach(z=>{z.setLogLevel(G)})}function Oe(G,z){for(const Q of d){let Le=null;z&&z.level&&(Le=N[z.level]),Q.userLogHandler=null===G?null:(Fe,Ce,...We)=>{const ae=We.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");Ce>=(Le??Fe.logLevel)&&G({level:U[Ce].toLowerCase(),message:ae,args:We,type:Fe.name})}}}},8766:(gt,Ae,F)=>{F.d(Ae,{Lj:()=>xe,X3:()=>et});var d=F(5861);let N,ce;const de=new WeakMap,ye=new WeakMap,Oe=new WeakMap,G=new WeakMap,z=new WeakMap;let Fe={get(se,pe,K){if(se instanceof IDBTransaction){if("done"===pe)return ye.get(se);if("objectStoreNames"===pe)return se.objectStoreNames||Oe.get(se);if("store"===pe)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return he(se[pe])},set:(se,pe,K)=>(se[pe]=K,!0),has:(se,pe)=>se instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in se};function ae(se){return"function"==typeof se?function We(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...pe){return se.apply(Je(this),pe),he(de.get(this))}:function(...pe){return he(se.apply(Je(this),pe))}:function(pe,...K){const Y=se.call(Je(this),pe,...K);return Oe.set(Y,pe.sort?pe.sort():[pe]),he(Y)}}(se):(se instanceof IDBTransaction&&function Le(se){if(ye.has(se))return;const pe=new Promise((K,Y)=>{const le=()=>{se.removeEventListener("complete",ie),se.removeEventListener("error",Re),se.removeEventListener("abort",Re)},ie=()=>{K(),le()},Re=()=>{Y(se.error||new DOMException("AbortError","AbortError")),le()};se.addEventListener("complete",ie),se.addEventListener("error",Re),se.addEventListener("abort",Re)});ye.set(se,pe)}(se),((se,pe)=>pe.some(K=>se instanceof K))(se,function Ee(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,Fe):se)}function he(se){if(se instanceof IDBRequest)return function Q(se){const pe=new Promise((K,Y)=>{const le=()=>{se.removeEventListener("success",ie),se.removeEventListener("error",Re)},ie=()=>{K(he(se.result)),le()},Re=()=>{Y(se.error),le()};se.addEventListener("success",ie),se.addEventListener("error",Re)});return pe.then(K=>{K instanceof IDBCursor&&de.set(K,se)}).catch(()=>{}),z.set(pe,se),pe}(se);if(G.has(se))return G.get(se);const pe=ae(se);return pe!==se&&(G.set(se,pe),z.set(pe,se)),pe}const Je=se=>z.get(se);function et(se,pe,{blocked:K,upgrade:Y,blocking:le,terminated:ie}={}){const Re=indexedDB.open(se,pe),ke=he(Re);return Y&&Re.addEventListener("upgradeneeded",lt=>{Y(he(Re.result),lt.oldVersion,lt.newVersion,he(Re.transaction))}),K&&Re.addEventListener("blocked",()=>K()),ke.then(lt=>{ie&&lt.addEventListener("close",()=>ie()),le&&lt.addEventListener("versionchange",()=>le())}).catch(()=>{}),ke}function xe(se,{blocked:pe}={}){const K=indexedDB.deleteDatabase(se);return pe&&K.addEventListener("blocked",()=>pe()),he(K).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],Ve=new Map;function re(se,pe){if(!(se instanceof IDBDatabase)||pe in se||"string"!=typeof pe)return;if(Ve.get(pe))return Ve.get(pe);const K=pe.replace(/FromIndex$/,""),Y=pe!==K,le=ge.includes(K);if(!(K in(Y?IDBIndex:IDBObjectStore).prototype)||!le&&!De.includes(K))return;const ie=function(){var Re=(0,d.Z)(function*(ke,...lt){const Wt=this.transaction(ke,le?"readwrite":"readonly");let Vt=Wt.store;return Y&&(Vt=Vt.index(lt.shift())),(yield Promise.all([Vt[K](...lt),le&&Wt.done]))[0]});return function(lt){return Re.apply(this,arguments)}}();return Ve.set(pe,ie),ie}!function Ce(se){Fe=se(Fe)}(se=>({...se,get:(pe,K,Y)=>re(pe,K)||se.get(pe,K,Y),has:(pe,K)=>!!re(pe,K)||se.has(pe,K)}))},5861:(gt,Ae,F)=>{function d(N,ce,Ee,we,de,ye,Oe){try{var G=N[ye](Oe),z=G.value}catch(Q){return void Ee(Q)}G.done?ce(z):Promise.resolve(z).then(we,de)}function U(N){return function(){var ce=this,Ee=arguments;return new Promise(function(we,de){var ye=N.apply(ce,Ee);function Oe(z){d(ye,we,de,Oe,G,"next",z)}function G(z){d(ye,we,de,Oe,G,"throw",z)}Oe(void 0)})}}F.d(Ae,{Z:()=>U})}},gt=>{gt(gt.s=3849)}]);